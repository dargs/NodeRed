[
    {
        "id": "4e68cfeb.fa3a4",
        "type": "tab",
        "label": "main",
        "disabled": false,
        "info": ""
    },
    {
        "id": "eaa9c18e.51913",
        "type": "tab",
        "label": "frontgate",
        "disabled": true,
        "info": ""
    },
    {
        "id": "4c4e755b.4ac2bc",
        "type": "tab",
        "label": "doorbell",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b63e3fc.e0893c",
        "type": "tab",
        "label": "TASMOTA",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f89d6462.a45d98",
        "type": "tab",
        "label": "Weather",
        "disabled": true,
        "info": ""
    },
    {
        "id": "92c87692.1cc048",
        "type": "tab",
        "label": "LIFX",
        "disabled": true,
        "info": ""
    },
    {
        "id": "a0f41b53.f71c78",
        "type": "tab",
        "label": "RasPi Stats",
        "disabled": true,
        "info": ""
    },
    {
        "id": "7bb440b9.1c9c1",
        "type": "tab",
        "label": "Grafana UI",
        "disabled": true,
        "info": ""
    },
    {
        "id": "2ec463b0.b5b11c",
        "type": "tab",
        "label": "Flow 2",
        "disabled": true,
        "info": ""
    },
    {
        "id": "ebdbbec9.aca16",
        "type": "tab",
        "label": "Pingin",
        "disabled": true,
        "info": ""
    },
    {
        "id": "e95d32cb.df9e9",
        "type": "tab",
        "label": "homekit demo",
        "disabled": true,
        "info": ""
    },
    {
        "id": "8fc7a6b6.0295a8",
        "type": "tab",
        "label": "Hallway PIR",
        "disabled": false,
        "info": ""
    },
    {
        "id": "44566d59.83dfb4",
        "type": "tab",
        "label": "TASMOTA",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4a2f9b04.323ac4",
        "type": "tab",
        "label": "Weather",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ac407144.c6bff",
        "type": "tab",
        "label": "LIFX",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a6927482.554938",
        "type": "tab",
        "label": "Sunrise/Set Color Temp",
        "disabled": true,
        "info": ""
    },
    {
        "id": "501502b6.3def5c",
        "type": "tab",
        "label": "RasPi Stats",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e7a41a22.5e8a68",
        "type": "tab",
        "label": "Grafana UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c64e88e4.394898",
        "type": "tab",
        "label": "Pingin",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6a644e97.b334d",
        "type": "tab",
        "label": "MQTT",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9d220062.73fe3",
        "type": "tab",
        "label": "discord bot",
        "disabled": false,
        "info": ""
    },
    {
        "id": "27b235a2.c04f6a",
        "type": "tab",
        "label": "sms alarm",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8169de78.7204",
        "type": "tab",
        "label": "Sonoff R2 POW",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9622b515.1f1858",
        "type": "mqtt-broker",
        "z": "",
        "name": "MQTT",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "605c950d.f91f6c",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 2,
                "py": 2
            }
        }
    },
    {
        "id": "3b9a3b05.5f1f94",
        "type": "ui_group",
        "z": "",
        "name": "Bench Light",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "bb237e7f.79985",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/iot.db"
    },
    {
        "id": "5c9a29b8.e9bf38",
        "type": "ui_tab",
        "z": "",
        "name": "MAIN PAGE",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1f71981e.00e288",
        "type": "ui_group",
        "z": "",
        "name": "Main Lamp",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6"
    },
    {
        "id": "1ef0de9a.d708c1",
        "type": "ui_group",
        "z": "",
        "name": "Bench Light",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6"
    },
    {
        "id": "40ab5f3a.7dcee",
        "type": "ui_group",
        "z": "",
        "name": "Report",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "18"
    },
    {
        "id": "d9c8672b.b54a98",
        "type": "ui_group",
        "z": "",
        "name": "Selection",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "5"
    },
    {
        "id": "64200b93.489494",
        "type": "ui_group",
        "z": "",
        "name": "MiFlora",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "ceb8da94.664268",
        "type": "ui_group",
        "z": "",
        "name": "Report",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "18"
    },
    {
        "id": "eacd6680.c0f888",
        "type": "ui_group",
        "z": "",
        "name": "Selection",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "5"
    },
    {
        "id": "c65afd69.29b4d",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/iot.sav"
    },
    {
        "id": "9c256abc.683618",
        "type": "ui_group",
        "z": "",
        "name": "Mailbox",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "6a1ceba.b647114",
        "type": "ui_group",
        "z": "",
        "name": "Weather Station",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c7e058bb.018398",
        "type": "ui_group",
        "z": "",
        "name": "Sensor 1",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "89945c92.21bfa",
        "type": "ui_group",
        "z": "",
        "name": "Sensor 2",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "838abf9c.79ae9",
        "type": "ui_group",
        "z": "",
        "name": "New Devices",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": "18"
    },
    {
        "id": "c23ce0d.6e2c82",
        "type": "ui_group",
        "z": "",
        "name": "Magnet",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "330de865.ba0db8",
        "type": "ui_group",
        "z": "",
        "name": "Digoo RS8 Sensor",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "3cf6a006.0b01e",
        "type": "ui_group",
        "z": "",
        "name": "Digoo Weather Station",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6"
    },
    {
        "id": "68fd0ece.a385a",
        "type": "ui_group",
        "z": "",
        "name": "New Devices",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": "18"
    },
    {
        "id": "cbf66d40.2fdd6",
        "type": "ui_group",
        "z": "",
        "name": "Door Bell",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6"
    },
    {
        "id": "daf886f4.0c70d8",
        "type": "ui_group",
        "z": "",
        "name": "Maplin Weather Station",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "d5a13189.8a04b",
        "type": "sqlitedb",
        "z": 0,
        "db": "/home/pi/sqlite/nodered"
    },
    {
        "id": "8e2ba9f1.cb0148",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/nodered",
        "mode": "RW"
    },
    {
        "id": "108afa39.5213d6",
        "type": "ui_group",
        "z": "",
        "name": "Main Lamp",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f210f83c.57e938",
        "type": "ui_group",
        "z": "",
        "name": "Bench Light",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "50d34365.418cdc",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/iot.db"
    },
    {
        "id": "a1f212af.536b4",
        "type": "websocket-listener",
        "path": "/ws/audio",
        "wholemsg": "false"
    },
    {
        "id": "abd0c159.46d74",
        "type": "ui_group",
        "z": "",
        "name": "Main Lamp",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "9cfac72e.1328f8",
        "type": "ui_group",
        "z": "",
        "name": "Bench Light",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "fceecfb3.aa679",
        "type": "ui_group",
        "z": "",
        "name": "MiFlora",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "f5030360.5fbbc",
        "type": "ui_group",
        "z": "",
        "name": "Report",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "18"
    },
    {
        "id": "127eda38.13a576",
        "type": "ui_group",
        "z": "",
        "name": "Selection",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "5"
    },
    {
        "id": "1fc41e5a.6ee842",
        "type": "ui_group",
        "z": "",
        "name": "MiFlora",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "a4940971.b70ad8",
        "type": "ui_group",
        "z": "",
        "name": "Report",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "18"
    },
    {
        "id": "e009b8b6.d3da78",
        "type": "ui_group",
        "z": "",
        "name": "Selection",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "5"
    },
    {
        "id": "2bd56cfd.1c0444",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/iot.sav"
    },
    {
        "id": "8aeb8ae2.6c1d58",
        "type": "ui_group",
        "z": "",
        "name": "Mailbox",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "3910746.5bd2b8c",
        "type": "ui_group",
        "z": "",
        "name": "Weather Station",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9c76da2a.7baf88",
        "type": "ui_group",
        "z": "",
        "name": "Sensor 1",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "79e545cc.8bc99c",
        "type": "ui_group",
        "z": "",
        "name": "Sensor 2",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "3181cda8.f2bf62",
        "type": "ui_group",
        "z": "",
        "name": "New Devices",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": "18"
    },
    {
        "id": "a0b3485.d5267b8",
        "type": "ui_group",
        "z": "",
        "name": "Magnet",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "37fdf4f3.acd1bc",
        "type": "ui_group",
        "z": "",
        "name": "Digoo RS8 Sensor",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "b35f1f80.99455",
        "type": "ui_group",
        "z": "",
        "name": "Digoo Weather Station",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6"
    },
    {
        "id": "efc7fcd6.dae3b",
        "type": "ui_group",
        "z": "",
        "name": "New Devices",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": "18"
    },
    {
        "id": "d156bd1b.cb89b",
        "type": "ui_group",
        "z": "",
        "name": "Door Bell",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6"
    },
    {
        "id": "73df409b.285d1",
        "type": "ui_group",
        "z": "",
        "name": "Maplin Weather Station",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "eb425c93.ac9e3",
        "type": "sqlitedb",
        "z": 0,
        "db": "/home/pi/sqlite/nodered"
    },
    {
        "id": "f1b02ad2.694528",
        "type": "sqlitedb",
        "z": "",
        "db": "/home/pi/dbs/nodered",
        "mode": "RW"
    },
    {
        "id": "9439b9fe.ab5418",
        "type": "ui_group",
        "z": "",
        "name": "ZÃ¤hler",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9e10ac93.ec836",
        "type": "influxdb",
        "z": "",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "WEATHER",
        "name": "",
        "usetls": false,
        "tls": ""
    },
    {
        "id": "8985b1aa.07053",
        "type": "influxdb",
        "z": "",
        "hostname": "localhost",
        "port": "8086",
        "protocol": "https",
        "database": "new_db",
        "name": "",
        "usetls": true,
        "tls": "b26964a0.933b48"
    },
    {
        "id": "b26964a0.933b48",
        "type": "tls-config",
        "z": "",
        "name": "local-tls",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "verifyservercert": false
    },
    {
        "id": "8fcdfa03.737408",
        "type": "ui_group",
        "z": "",
        "name": "unused",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7615e071.615c1",
        "type": "ui_group",
        "z": "",
        "name": "LOUNGE POWER 1",
        "tab": "5c9a29b8.e9bf38",
        "order": 3,
        "disp": true,
        "width": 5,
        "collapse": true
    },
    {
        "id": "336120b.f4934e",
        "type": "ui_group",
        "z": "",
        "name": "Sonoff Basic",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "f4f15e69.ca4a6",
        "type": "ui_group",
        "z": "",
        "name": "CURRENT WEATHER",
        "tab": "bf37870b.c53058",
        "order": 1,
        "disp": true,
        "width": "4",
        "collapse": true
    },
    {
        "id": "8ad492c4.65edc",
        "type": "node-lifx-server",
        "z": "",
        "name": "Lifx Server",
        "address": "",
        "broadcast": "",
        "lights": "",
        "interval": "10000"
    },
    {
        "id": "db945141.8f84b",
        "type": "ui_group",
        "z": "",
        "name": "Col1",
        "tab": "2de24a55.bd8686",
        "order": 2,
        "disp": false,
        "width": "6"
    },
    {
        "id": "eb282a16.b76408",
        "type": "ui_group",
        "z": "",
        "name": "Actions",
        "tab": "2de24a55.bd8686",
        "order": 5,
        "disp": true,
        "width": "6"
    },
    {
        "id": "234da028.c0388",
        "type": "ui_group",
        "z": "",
        "name": "Col2",
        "tab": "2de24a55.bd8686",
        "order": 3,
        "disp": false,
        "width": "6"
    },
    {
        "id": "24da5dda.5a8d42",
        "type": "ui_group",
        "z": "",
        "name": "Col3",
        "tab": "2de24a55.bd8686",
        "order": 4,
        "disp": false,
        "width": "6"
    },
    {
        "id": "2de24a55.bd8686",
        "type": "ui_tab",
        "z": "",
        "name": "RPi Control",
        "icon": "dashboard",
        "order": 3
    },
    {
        "id": "b108bd8d.24385",
        "type": "ui_group",
        "z": "",
        "name": "Drukknoptesp",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "dbf9570e.3a72d8",
        "type": "ui_group",
        "z": "",
        "name": "Grafana",
        "tab": "bf37870b.c53058",
        "order": 3,
        "disp": true,
        "width": "15",
        "collapse": true
    },
    {
        "id": "578063fd.cfab0c",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "9e53b060.fb577",
        "type": "ui_group",
        "z": "",
        "name": "Group 4",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": 4,
        "collapse": true
    },
    {
        "id": "f65e7994.8cb618",
        "type": "ui_group",
        "z": "",
        "name": "WEATHER FORECAST",
        "tab": "bf37870b.c53058",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "604e9480.ecba8c",
        "type": "ui_group",
        "z": "",
        "name": "LOUNGE POWER 2",
        "tab": "5c9a29b8.e9bf38",
        "order": 4,
        "disp": true,
        "width": 5,
        "collapse": true
    },
    {
        "id": "5523aa99.3ef2b4",
        "type": "ui_group",
        "z": "",
        "name": "LAUNDRY POWER",
        "tab": "5c9a29b8.e9bf38",
        "order": 5,
        "disp": true,
        "width": 5,
        "collapse": true
    },
    {
        "id": "57aae029.da63c",
        "type": "ui_group",
        "z": "",
        "name": "SEGMETER",
        "tab": "5c9a29b8.e9bf38",
        "order": 8,
        "disp": true,
        "width": 5,
        "collapse": true
    },
    {
        "id": "bf7639b5.36f358",
        "type": "ui_group",
        "z": "",
        "name": "LAUNDRY LIFX",
        "tab": "5c9a29b8.e9bf38",
        "order": 7,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "2837a76b.cb31e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f65e7994.8cb618",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "121d0c36.5c5a34",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f65e7994.8cb618",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "d7de81ec.d6c25",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f65e7994.8cb618",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "7b4bfa42.a1f164",
        "type": "ui_group",
        "z": "",
        "name": "Masterswitches",
        "tab": "",
        "order": 6,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5fcf51e9.cbd7c",
        "type": "ui_group",
        "z": "",
        "name": "Condition",
        "tab": "",
        "order": 5,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "8962615c.444ee",
        "type": "ui_group",
        "z": "",
        "name": "Wind",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "7768ad44.148454",
        "type": "ui_group",
        "z": "",
        "name": "Luftfeuchtigkeit",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a28848b9.636f28",
        "type": "ui_group",
        "z": "",
        "name": "Condition",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "2",
        "collapse": false
    },
    {
        "id": "1c1a4394.d97f1c",
        "type": "ui_group",
        "z": "",
        "name": "Forecast",
        "tab": "",
        "order": 6,
        "disp": false,
        "width": "8",
        "collapse": false
    },
    {
        "id": "5486ad63.f06294",
        "type": "ui_group",
        "z": "",
        "name": "KITCHEN LED",
        "tab": "5c9a29b8.e9bf38",
        "order": 6,
        "disp": true,
        "width": 5,
        "collapse": true
    },
    {
        "id": "bf37870b.c53058",
        "type": "ui_tab",
        "z": "",
        "name": "Weather",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a252e072.17937",
        "type": "mqtt-broker",
        "z": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "bf78e108.3ba0f",
        "type": "mqtt-broker",
        "z": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4b8f8bd8.43dd64",
        "type": "ui_group",
        "z": "",
        "name": "SDR VFO A - San Francisco Memory Bank",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "5b1030f7.9aeea",
        "type": "ui_group",
        "z": "",
        "name": "Reciver Status",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "15",
        "collapse": false
    },
    {
        "id": "86f99e30.bd869",
        "type": "ui_group",
        "z": "",
        "name": "Device Demo",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "5e68df5e.f7016",
        "type": "ui_group",
        "z": "",
        "name": "Latency Guage",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "4",
        "collapse": true
    },
    {
        "id": "d45fd72.e046528",
        "type": "ui_group",
        "z": "",
        "name": "SERVER RACK",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "4",
        "collapse": true
    },
    {
        "id": "68a44d5b.0a65b4",
        "type": "ui_group",
        "z": "",
        "name": "PINGS",
        "tab": "5c9a29b8.e9bf38",
        "order": 9,
        "disp": true,
        "width": 12,
        "collapse": false
    },
    {
        "id": "e4e2993d.1166e8",
        "type": "mqtt-broker",
        "z": "",
        "name": "MQTT_Broker",
        "broker": "192.168.16.76",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "91f8bef.ecf904",
        "type": "mqtt-broker",
        "z": "",
        "name": "MQTT_Broker",
        "broker": "192.168.16.76",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "270332ae.c5001e",
        "type": "mqtt-broker",
        "z": "",
        "name": "MQTT_Broker",
        "broker": "192.168.16.76",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "43f6f1df.3c283",
        "type": "ui_group",
        "z": "",
        "name": "BEDROOM / frontgate",
        "tab": "5c9a29b8.e9bf38",
        "order": 10,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "da4bb6f5.9d7f88",
        "type": "homekit-bridge",
        "z": "",
        "bridgeName": "Demo 1",
        "pinCode": "153-10-538",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "NRCHKB",
        "model": "Demo",
        "serialNo": "1.1.2",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": true
    },
    {
        "id": "93ba1e98.e4f44",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Fan Full Example: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b7778e52.220a5",
            "fd8aff55.91d41",
            "c717b796.0735b8",
            "f56a2f96.509c1",
            "d945ba75.897998"
        ],
        "info": "# Fan V2\n\nThis example shows a fan. The inputs from node red are to turn the fan on, off, or set \"No Response\".\n\nThe outputs going to \"Fan output\" will show:\n\nOn / off state <br/>\nRotation speed<br/>\nSwing mode on / off (oscillate) <br/>\nRotation direction (clockwise/counterclockwise)"
    },
    {
        "id": "99b9d2ed.548a3",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Color Bulb: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d838176b.dbaf7",
            "7bf880d4.3cd4d",
            "ee1452a5.08edd",
            "c6ed2a2a.90a01",
            "8cdfae2b.2f2ce8",
            "1758401b.6c62e8"
        ],
        "info": "# Color Bulb\n\nThis is a color bulb. It accepts and sends out Hue, Saturation, Value, and On/off state.\n\nHue is the color\n\nSaturation is how deep the color is\n\nValue is brightness\n\nOn is power state"
    },
    {
        "id": "fa5b0252.0c42c",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Dimmable Bulb: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "459254fe.49c72c",
            "379657db.a99df8",
            "52a07047.03ce7",
            "253b3550.729caa",
            "b9bc7f3d.51acf"
        ],
        "info": "# Dimmable Bulb\n\nThis is a dimmable bulb. The Characteristic Properties enable brightness. It is a white bulb which can be adjusted from 0 to 100% brightness."
    },
    {
        "id": "246bdcfe.254624",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Air Purifier: input power state, output commands device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8dea49.4a770db8",
            "5302e4aa.1b466c",
            "bfe1c73d.c165a8",
            "9739d842.a402f",
            "87048a6e.df64e8",
            "db412cea.4a62f8",
            "46418e19.aa6d6",
            "664dadf9.85d0d4",
            "d7cd8a56.628178",
            "3de34c4c.1871a4",
            "ee8894e4.f1855"
        ],
        "info": "Turning the device on or off will send:\n`{\"Active\":[0, 1]}`\n\nAfter changing power state, the device will be \"Turning on\" or \"Turning off\" until a current state is sent of:\n`{\"CurrentAirPurifierState\":[0, 1, 2]}`\n0: off <br/>\n1: idle <br/>\n2: on <br/>\n\nThere will be a slider in the home app for sending `RotationSpeed`\n\nThere will be a switch on Home app for \"Oscillate\" which sends:\n`{\"SwingMode\":[0,1]}`\n\nChanging mode to manual to auto will send payload:\n`{\"TargetAirPurifierState\":[0, 1]}`\n\nChild lock will send \n`{\"LockPhysicalControls\": [0, 1]}`\n\n"
    },
    {
        "id": "c02286e1.ba6788",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "CO plus CO2 Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e6738a6.ef5dd8",
            "79889759.8219c",
            "7f53465b.356a68",
            "97aff586.786ff8",
            "659ff3da.236404",
            "e6105066.f8911",
            "b433a780.665a7",
            "d4b30334.a19e58",
            "b0eeeb34.2dde8"
        ],
        "info": "# Combined Sensor\nThis is a sensor which will display both Carbon Monoxide (poisonous, deadly gas) and Carbon Dioxide (what humans exhale) levels.\n\n# CO Sensor\n\nThere are three inputs to this example, one for each level of Carbon Monoxide in the air. Options are:\n\n**0 ppm:** this will assume no CO in the air <br/>\n**Low level:** this will assume a level between 1 and 35 ppm, inclusive. This level is generally assumed to not cause problems in healthy adults <br/>\n**Dangerous level:** this will assume a level between 35 and 5000, inclusive; this will also trigger an alert in Home app\n\n## IF YOU HAVE A CARBON MONOXIDE DETECTOR EVER READING ABOVE 35 PPM, PLEASE EVACUATE THE AREA AND SEEK FRESH AIR IMMEDIATELY TO AVOID RISK OF DEATH ##\n\n# CO2 Sensor\n\nThere are three inputs to this example, one for each level of Carbon Dioxide in the air. Options are:\n\n**0 ppm:** this will assume no CO2 in the air <br/>\n**CO2 Level:** this will assume a level between 1 and 100,000 ppm, inclusive <br/>\n**Dangerous level:** this will assume a level between 1,000 and 100,000, inclusive\n\n"
    },
    {
        "id": "b2a9447c.f36738",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Contact Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a5194c26.18c628",
            "2f9bc0d.42a73c",
            "dfca0b2d.8b8e8",
            "d74a610c.09a36",
            "c15b6468.ae2eb8",
            "6f7bc7fa.7f4f6",
            "99b55eb3.e31bf8",
            "508d9ccf.29e404"
        ],
        "info": "# Contact Sensor\n\nThe contact sensor has one inject node to Open the sensor (door, window, etc). Once open, a ten second timer will run then set it back to closed.\n\nAdditional inputs are for \"No Response\", \"Tampered\", and \"Battery\". Note that this battery will not show a battery level but only a good/low battery status."
    },
    {
        "id": "79944a71.8517c4",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "CO2 Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "88892b4.8a61bd8",
            "3611c654.8a42f2",
            "62cafcb0.8ade9c",
            "a0171cdb.f209b",
            "6f7de764.a6a688",
            "8758b463.afb0f",
            "69e8161b.74b7a",
            "40010b09.c73cdc"
        ],
        "info": "# CO2 Sensor\n\nThere are three inputs to this example, one for each level of Carbon Dioxide in the air. Options are:\n\n**0 ppm:** this will assume no CO2 <br/>\n**Safe level:** this will assume a level between 1 and 999 ppm, inclusive <br/>\n**Dangerous level:** this will assume a level between 1,000 and 100,000, inclusive; this will also trigger an alert"
    },
    {
        "id": "26f151e2.62494e",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Air Quality with Battery: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8088a797.e1a7c",
            "a70b3192.dfb4f",
            "d5708f5.036c87",
            "90b692e4.b9f6c",
            "54bfafbc.396898",
            "560fc866.6de558",
            "61e113b2.dbb714"
        ],
        "info": "# Air Quality Sensor\n\nThis sensor will inject random values for all of the air quality metrics available in the HomeKit spec. It will also inject random values for a linked battery service.\n\nWatch the input and Home app to learn how to see how things are working."
    },
    {
        "id": "69ee6c84.06f764",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "LINKED",
        "style": {
            "stroke": "#0070c0",
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "5cd5342a.cfd72c"
        ]
    },
    {
        "id": "fa8a81ea.6f792",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Fan Simplified: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dadd634c.ae2258",
            "753e3777.49a1d",
            "992f4930.012aa",
            "2497a466.aa0e84",
            "c53b76fb.7a3cc8",
            "6c9646ee.1f3a18",
            "1e42a8f3.cf008f"
        ],
        "info": "# Fan Simple\n\nThis example is for a 3-speed fan.\n\nSpeeds are: <br/>\nLow = 33<br/>\nMedium = 66<br/>\nHigh = 99<br/>\n\nValues outside of this are restricted and will not work. The home app will \"snap\" to these values. Siri will respond to \"set fan to low/medium/high\" with the corresponding value."
    },
    {
        "id": "c25c2621.cac098",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Fan Full Example: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b7778e52.220a5",
            "fd8aff55.91d41",
            "c717b796.0735b8",
            "f56a2f96.509c1",
            "d945ba75.897998"
        ],
        "info": "# Fan V2\n\nThis example shows a fan. The inputs from node red are to turn the fan on, off, or set \"No Response\".\n\nThe outputs going to \"Fan output\" will show:\n\nOn / off state <br/>\nRotation speed<br/>\nSwing mode on / off (oscillate) <br/>\nRotation direction (clockwise/counterclockwise)"
    },
    {
        "id": "b1fc8492.11d178",
        "type": "homekit-bridge",
        "z": "",
        "bridgeName": "Demo 1",
        "pinCode": "153-10-538",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "NRCHKB",
        "model": "Demo",
        "serialNo": "1.1.2",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": true
    },
    {
        "id": "a2b431a2.86a1a",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Color Bulb: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d838176b.dbaf7",
            "7bf880d4.3cd4d",
            "ee1452a5.08edd",
            "c6ed2a2a.90a01",
            "8cdfae2b.2f2ce8",
            "1758401b.6c62e8"
        ],
        "info": "# Color Bulb\n\nThis is a color bulb. It accepts and sends out Hue, Saturation, Value, and On/off state.\n\nHue is the color\n\nSaturation is how deep the color is\n\nValue is brightness\n\nOn is power state"
    },
    {
        "id": "4145d8a4.d98258",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Dimmable Bulb: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "459254fe.49c72c",
            "379657db.a99df8",
            "52a07047.03ce7",
            "253b3550.729caa",
            "b9bc7f3d.51acf"
        ],
        "info": "# Dimmable Bulb\n\nThis is a dimmable bulb. The Characteristic Properties enable brightness. It is a white bulb which can be adjusted from 0 to 100% brightness."
    },
    {
        "id": "b19fd6a5.2afcb8",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Air Purifier: input power state, output commands device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8dea49.4a770db8",
            "5302e4aa.1b466c",
            "bfe1c73d.c165a8",
            "9739d842.a402f",
            "87048a6e.df64e8",
            "db412cea.4a62f8",
            "46418e19.aa6d6",
            "664dadf9.85d0d4",
            "d7cd8a56.628178",
            "3de34c4c.1871a4",
            "ee8894e4.f1855"
        ],
        "info": "Turning the device on or off will send:\n`{\"Active\":[0, 1]}`\n\nAfter changing power state, the device will be \"Turning on\" or \"Turning off\" until a current state is sent of:\n`{\"CurrentAirPurifierState\":[0, 1, 2]}`\n0: off <br/>\n1: idle <br/>\n2: on <br/>\n\nThere will be a slider in the home app for sending `RotationSpeed`\n\nThere will be a switch on Home app for \"Oscillate\" which sends:\n`{\"SwingMode\":[0,1]}`\n\nChanging mode to manual to auto will send payload:\n`{\"TargetAirPurifierState\":[0, 1]}`\n\nChild lock will send \n`{\"LockPhysicalControls\": [0, 1]}`\n\n"
    },
    {
        "id": "a1b276a3.2e4f48",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "CO plus CO2 Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e6738a6.ef5dd8",
            "79889759.8219c",
            "7f53465b.356a68",
            "97aff586.786ff8",
            "659ff3da.236404",
            "e6105066.f8911",
            "b433a780.665a7",
            "d4b30334.a19e58",
            "b0eeeb34.2dde8"
        ],
        "info": "# Combined Sensor\nThis is a sensor which will display both Carbon Monoxide (poisonous, deadly gas) and Carbon Dioxide (what humans exhale) levels.\n\n# CO Sensor\n\nThere are three inputs to this example, one for each level of Carbon Monoxide in the air. Options are:\n\n**0 ppm:** this will assume no CO in the air <br/>\n**Low level:** this will assume a level between 1 and 35 ppm, inclusive. This level is generally assumed to not cause problems in healthy adults <br/>\n**Dangerous level:** this will assume a level between 35 and 5000, inclusive; this will also trigger an alert in Home app\n\n## IF YOU HAVE A CARBON MONOXIDE DETECTOR EVER READING ABOVE 35 PPM, PLEASE EVACUATE THE AREA AND SEEK FRESH AIR IMMEDIATELY TO AVOID RISK OF DEATH ##\n\n# CO2 Sensor\n\nThere are three inputs to this example, one for each level of Carbon Dioxide in the air. Options are:\n\n**0 ppm:** this will assume no CO2 in the air <br/>\n**CO2 Level:** this will assume a level between 1 and 100,000 ppm, inclusive <br/>\n**Dangerous level:** this will assume a level between 1,000 and 100,000, inclusive\n\n"
    },
    {
        "id": "24456669.ad573a",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Contact Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a5194c26.18c628",
            "2f9bc0d.42a73c",
            "dfca0b2d.8b8e8",
            "d74a610c.09a36",
            "c15b6468.ae2eb8",
            "6f7bc7fa.7f4f6",
            "99b55eb3.e31bf8",
            "508d9ccf.29e404"
        ],
        "info": "# Contact Sensor\n\nThe contact sensor has one inject node to Open the sensor (door, window, etc). Once open, a ten second timer will run then set it back to closed.\n\nAdditional inputs are for \"No Response\", \"Tampered\", and \"Battery\". Note that this battery will not show a battery level but only a good/low battery status."
    },
    {
        "id": "b18a3e69.494e6",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "CO2 Sensor: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "88892b4.8a61bd8",
            "3611c654.8a42f2",
            "62cafcb0.8ade9c",
            "a0171cdb.f209b",
            "6f7de764.a6a688",
            "8758b463.afb0f",
            "69e8161b.74b7a",
            "40010b09.c73cdc"
        ],
        "info": "# CO2 Sensor\n\nThere are three inputs to this example, one for each level of Carbon Dioxide in the air. Options are:\n\n**0 ppm:** this will assume no CO2 <br/>\n**Safe level:** this will assume a level between 1 and 999 ppm, inclusive <br/>\n**Dangerous level:** this will assume a level between 1,000 and 100,000, inclusive; this will also trigger an alert"
    },
    {
        "id": "6ea645f7.64082c",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Air Quality with Battery: input only sensor",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8088a797.e1a7c",
            "a70b3192.dfb4f",
            "d5708f5.036c87",
            "90b692e4.b9f6c",
            "54bfafbc.396898",
            "560fc866.6de558",
            "61e113b2.dbb714"
        ],
        "info": "# Air Quality Sensor\n\nThis sensor will inject random values for all of the air quality metrics available in the HomeKit spec. It will also inject random values for a linked battery service.\n\nWatch the input and Home app to learn how to see how things are working."
    },
    {
        "id": "4e51a323.ad1cbc",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "LINKED",
        "style": {
            "stroke": "#0070c0",
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "5cd5342a.cfd72c"
        ]
    },
    {
        "id": "c2148dc6.04e26",
        "type": "group",
        "z": "e95d32cb.df9e9",
        "name": "Fan Simplified: input from device, output to device",
        "style": {
            "stroke": "#999999",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dadd634c.ae2258",
            "753e3777.49a1d",
            "992f4930.012aa",
            "2497a466.aa0e84",
            "c53b76fb.7a3cc8",
            "6c9646ee.1f3a18",
            "1e42a8f3.cf008f"
        ],
        "info": "# Fan Simple\n\nThis example is for a 3-speed fan.\n\nSpeeds are: <br/>\nLow = 33<br/>\nMedium = 66<br/>\nHigh = 99<br/>\n\nValues outside of this are restricted and will not work. The home app will \"snap\" to these values. Siri will respond to \"set fan to low/medium/high\" with the corresponding value."
    },
    {
        "id": "a92ca4e5.971358",
        "type": "homekit-bridge",
        "z": "",
        "bridgeName": "dargsnet",
        "pinCode": "111-11-111",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "123",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": false
    },
    {
        "id": "62418de8.5e5254",
        "type": "homekit-bridge",
        "z": "",
        "bridgeName": "Example Bridge",
        "pinCode": "111-11-111",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": true
    },
    {
        "id": "e38ecb52.11dd18",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "bb712e37.4d7da",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "ac72fcaa.5433b",
        "type": "ui_group",
        "z": "",
        "name": "Camera",
        "tab": "b4b4d668.d36518",
        "order": 1,
        "disp": true,
        "width": "24",
        "collapse": false
    },
    {
        "id": "b4b4d668.d36518",
        "type": "ui_tab",
        "z": "",
        "name": "Surveillance",
        "icon": "security",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9b2ac6cc.a117d8",
        "type": "ui_group",
        "z": "",
        "name": "Heating",
        "tab": "b4b4d668.d36518",
        "order": 2,
        "disp": true,
        "width": 8,
        "collapse": false
    },
    {
        "id": "6d72d397.e5633c",
        "type": "homekit-bridge",
        "z": "",
        "bridgeName": "Node-Red-HAP-Bridge-02",
        "pinCode": "222-22-222",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number"
    },
    {
        "id": "1ade01ee.70162e",
        "type": "ui_group",
        "z": "",
        "name": "DOORBELL",
        "tab": "5c9a29b8.e9bf38",
        "order": 2,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "7495d206.fde17c",
        "type": "ui_group",
        "z": "",
        "name": "LOUNGE POWER 3",
        "tab": "5c9a29b8.e9bf38",
        "order": 11,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "99996bf0.0b8508",
        "type": "ui_group",
        "z": "",
        "name": "STATUS",
        "tab": "5c9a29b8.e9bf38",
        "order": 1,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "85bec4d1.de5868",
        "type": "ui_link",
        "name": "Link 5",
        "icon": "open_in_browser",
        "target": "newtab",
        "order": 6
    },
    {
        "id": "ad53e2e.da6902",
        "type": "ui_tab",
        "z": "",
        "name": "NEW MAIN",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5b53ed2b.0fda54",
        "type": "twilio-api",
        "z": "",
        "name": "Twillo SMS",
        "sid": "AC5882095e1c29d22b01b7e896fd663587",
        "from": "+1 878 201 6261"
    },
    {
        "id": "9c8f4e5f.10522",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "1ade01ee.70162e",
        "order": 4,
        "width": 5,
        "height": 1
    },
    {
        "id": "c97e811.445548",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "1ade01ee.70162e",
        "order": 7,
        "width": 5,
        "height": 1
    },
    {
        "id": "155e050b.78788b",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "68a44d5b.0a65b4",
        "order": 19,
        "width": 6,
        "height": 1
    },
    {
        "id": "32bd8257.b609ce",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "68a44d5b.0a65b4",
        "order": 38,
        "width": 6,
        "height": 1
    },
    {
        "id": "9e36b52a.9c8738",
        "type": "Tasmota Switch",
        "z": "b63e3fc.e0893c",
        "broker": "9622b515.1f1858",
        "device": "tasmota_F6AD04",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 390,
        "y": 200,
        "wires": [
            [
                "dc3b268e.3545d8"
            ]
        ]
    },
    {
        "id": "dc3b268e.3545d8",
        "type": "ui_switch",
        "z": "b63e3fc.e0893c",
        "name": "",
        "label": "SONOFF GLOBE F6AD04",
        "tooltip": "",
        "group": "5523aa99.3ef2b4",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 440,
        "y": 120,
        "wires": [
            [
                "9e36b52a.9c8738"
            ]
        ]
    },
    {
        "id": "131b6fc1.b67df",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 160,
        "wires": [
            [
                "9e36b52a.9c8738"
            ]
        ]
    },
    {
        "id": "74d0507c.d4f5b",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 200,
        "wires": [
            [
                "9e36b52a.9c8738"
            ]
        ]
    },
    {
        "id": "a4965bba.ae5d08",
        "type": "Tasmota Switch",
        "z": "b63e3fc.e0893c",
        "broker": "9622b515.1f1858",
        "device": "tasmota_5AE120",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 870,
        "y": 420,
        "wires": [
            [
                "f56c8098.4a39a",
                "ef5f41da.c6e8b"
            ]
        ]
    },
    {
        "id": "f56c8098.4a39a",
        "type": "ui_switch",
        "z": "b63e3fc.e0893c",
        "name": "",
        "label": "SONOFF POWER 5AE120",
        "tooltip": "",
        "group": "7615e071.615c1",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 860,
        "y": 320,
        "wires": [
            [
                "a4965bba.ae5d08"
            ]
        ]
    },
    {
        "id": "b18731c1.49fd1",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 530,
        "y": 520,
        "wires": [
            [
                "a4965bba.ae5d08",
                "d2c78da7.6fb96"
            ]
        ]
    },
    {
        "id": "6ff0e456.c6fdbc",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 530,
        "y": 560,
        "wires": [
            [
                "a4965bba.ae5d08",
                "d2c78da7.6fb96"
            ]
        ]
    },
    {
        "id": "f555a80b.764718",
        "type": "openweathermap in",
        "z": "f89d6462.a45d98",
        "name": "622de6297164cfe7dd860624bd9eeb95",
        "wtype": "current",
        "lon": "",
        "lat": "",
        "city": "melbourne",
        "country": "au",
        "language": "en",
        "x": 510,
        "y": 460,
        "wires": [
            [
                "3a180722.64e8f8",
                "dc3b6627.1121d8",
                "b94258bf.0952d8",
                "a964a198.91f68",
                "fbbec5d7.34aac8",
                "b49ccbcc.d870d8",
                "ddaeab25.3b5658"
            ]
        ]
    },
    {
        "id": "3a180722.64e8f8",
        "type": "debug",
        "z": "f89d6462.a45d98",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1010,
        "y": 420,
        "wires": []
    },
    {
        "id": "dc3b6627.1121d8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload.tempc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 460,
        "wires": []
    },
    {
        "id": "b94258bf.0952d8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Max",
        "format": "{{payload.temp_maxc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 500,
        "wires": []
    },
    {
        "id": "a964a198.91f68",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Min",
        "format": "{{payload.temp_minc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 540,
        "wires": []
    },
    {
        "id": "fbbec5d7.34aac8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wind Speed",
        "format": "{{payload.windspeed}}",
        "layout": "row-spread",
        "x": 1010,
        "y": 580,
        "wires": []
    },
    {
        "id": "b49ccbcc.d870d8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wind Dir",
        "format": "{{payload.winddirection}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 620,
        "wires": []
    },
    {
        "id": "ddaeab25.3b5658",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Detail",
        "format": "{{payload.detail}}",
        "layout": "row-spread",
        "x": 990,
        "y": 660,
        "wires": []
    },
    {
        "id": "2b555485.a2ac2c",
        "type": "openweathermap in",
        "z": "f89d6462.a45d98",
        "name": "OpenWeatherMap Forecast",
        "wtype": "forecast",
        "lon": "",
        "lat": "",
        "city": "Melbourne",
        "country": "AU",
        "language": "en",
        "x": 180,
        "y": 180,
        "wires": [
            [
                "ed60f2f8.e605b",
                "507b3f73.6f7c3",
                "756dfb5c.622524",
                "56473e81.cb7e7",
                "1fc53073.e9ec5",
                "c6ead257.b3f3e",
                "8c5ef796.633cd8",
                "7d6911cf.aade9",
                "4f317103.01e0c",
                "47a0a20.402746",
                "dee4116.31f09f",
                "830be7e3.fe2838",
                "8c201f17.67212",
                "ea5b56f4.2bc2e8"
            ]
        ]
    },
    {
        "id": "69f4af3c.9b161",
        "type": "node-lifx-out",
        "z": "92c87692.1cc048",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 90,
        "y": 260,
        "wires": [
            [
                "46fb8abb.85d854",
                "7fe0d771.b20428"
            ]
        ]
    },
    {
        "id": "2e693434.51654c",
        "type": "node-lifx-in",
        "z": "92c87692.1cc048",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 550,
        "y": 100,
        "wires": []
    },
    {
        "id": "725941ff.2c537",
        "type": "ui_gauge",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "db945141.8f84b",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "CPU Temperature",
        "label": "C",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 750,
        "y": 140,
        "wires": []
    },
    {
        "id": "d630bc09.64ef1",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "vcgencmd measure_temp",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "RPi Temp.",
        "x": 390,
        "y": 140,
        "wires": [
            [
                "2cda44c2.822adc"
            ],
            [],
            []
        ]
    },
    {
        "id": "9a3d5c7d.0fa9b",
        "type": "inject",
        "z": "a0f41b53.f71c78",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "x": 184.5,
        "y": 148.25,
        "wires": [
            [
                "d630bc09.64ef1",
                "4b48819a.85295",
                "54cfaa88.13cf74"
            ]
        ]
    },
    {
        "id": "2cda44c2.822adc",
        "type": "function",
        "z": "a0f41b53.f71c78",
        "name": "",
        "func": "str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 140,
        "wires": [
            [
                "725941ff.2c537",
                "5c336f26.d7938",
                "3aaf779.7f0f188"
            ]
        ]
    },
    {
        "id": "25044b28.a10d74",
        "type": "ui_button",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "eb282a16.b76408",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Reboot",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 160,
        "y": 520,
        "wires": [
            [
                "507481a.ad7ee8"
            ]
        ]
    },
    {
        "id": "507481a.ad7ee8",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "sudo reboot",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Reboot",
        "x": 378,
        "y": 520,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "14b97e6a.602122",
        "type": "ui_button",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "eb282a16.b76408",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Shutdown",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 168.5,
        "y": 564.25,
        "wires": [
            [
                "db939594.7fc2d8"
            ]
        ]
    },
    {
        "id": "db939594.7fc2d8",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "sudo shutdown -h now",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Shutdown",
        "x": 389.5,
        "y": 582.25,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "5c336f26.d7938",
        "type": "ui_chart",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "db945141.8f84b",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "outputs": 1,
        "x": 750,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4b48819a.85295",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "CPU Load",
        "x": 390,
        "y": 220,
        "wires": [
            [
                "6d7094e6.81efbc"
            ],
            [],
            []
        ]
    },
    {
        "id": "54cfaa88.13cf74",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "free | grep Mem | awk '{print 100*($4+$6+$7)/$2}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Free Memory",
        "x": 390,
        "y": 300,
        "wires": [
            [
                "30bb6612.d7cdfa"
            ],
            [],
            []
        ]
    },
    {
        "id": "6d7094e6.81efbc",
        "type": "ui_gauge",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "db945141.8f84b",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Processor",
        "label": "CPU",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "x": 750,
        "y": 220,
        "wires": []
    },
    {
        "id": "30bb6612.d7cdfa",
        "type": "ui_gauge",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "234da028.c0388",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Memory",
        "label": "RAM",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 750,
        "y": 300,
        "wires": []
    },
    {
        "id": "a9272048.31f52",
        "type": "exec",
        "z": "a0f41b53.f71c78",
        "command": "df -h",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Disk Usage",
        "x": 390,
        "y": 380,
        "wires": [
            [
                "5e38c851.49bfe8"
            ],
            [],
            []
        ]
    },
    {
        "id": "df4c2f49.a11cf",
        "type": "ui_gauge",
        "z": "a0f41b53.f71c78",
        "name": "",
        "group": "24da5dda.5a8d42",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Disk",
        "label": "Usage",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "x": 750,
        "y": 380,
        "wires": []
    },
    {
        "id": "5e38c851.49bfe8",
        "type": "function",
        "z": "a0f41b53.f71c78",
        "name": "",
        "func": "var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "df4c2f49.a11cf"
            ]
        ]
    },
    {
        "id": "24f4db4b.dc0514",
        "type": "inject",
        "z": "a0f41b53.f71c78",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "x": 190,
        "y": 380,
        "wires": [
            [
                "a9272048.31f52"
            ]
        ]
    },
    {
        "id": "653fe131.ac576",
        "type": "catch",
        "z": "7bb440b9.1c9c1",
        "name": "",
        "scope": null,
        "x": 260,
        "y": 320,
        "wires": [
            [
                "a26cfd3.2a709"
            ]
        ]
    },
    {
        "id": "a26cfd3.2a709",
        "type": "debug",
        "z": "7bb440b9.1c9c1",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 520,
        "y": 320,
        "wires": []
    },
    {
        "id": "860314d7.09c508",
        "type": "ui_template",
        "z": "7bb440b9.1c9c1",
        "group": "dbf9570e.3a72d8",
        "name": "Grafana Temps",
        "order": 1,
        "width": 15,
        "height": 8,
        "format": "<iframe src=\"http://192.168.0.24:3000/d/E2ZkgkZgz/temps?orgId=1&refresh=5s&viewPanel=6\" width=\"800\" height=\"400\" frameborder=\"0\">\n    \n</iframe>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 280,
        "y": 260,
        "wires": [
            [
                "a26cfd3.2a709"
            ]
        ]
    },
    {
        "id": "9dcd2ea9.87d4",
        "type": "catch",
        "z": "7bb440b9.1c9c1",
        "name": "",
        "scope": null,
        "x": 260,
        "y": 440,
        "wires": [
            [
                "af0c9fc4.84ade"
            ]
        ]
    },
    {
        "id": "af0c9fc4.84ade",
        "type": "debug",
        "z": "7bb440b9.1c9c1",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 520,
        "y": 440,
        "wires": []
    },
    {
        "id": "f24eff81.2c604",
        "type": "ui_template",
        "z": "7bb440b9.1c9c1",
        "group": "dbf9570e.3a72d8",
        "name": "Grafana Power",
        "order": 2,
        "width": 15,
        "height": 8,
        "format": "<iframe src=\"http://192.168.0.24:3000/d/sZzhQxZgz/seg-power?orgId=1&refresh=5s&viewPanel=2\" width=\"800\" height=\"400\" frameborder=\"0\">\n    \n</iframe>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 280,
        "y": 380,
        "wires": [
            [
                "af0c9fc4.84ade"
            ]
        ]
    },
    {
        "id": "ed60f2f8.e605b",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[0].weather[0].description}}",
        "layout": "row-spread",
        "x": 870,
        "y": 100,
        "wires": []
    },
    {
        "id": "2f1132a2.27a89e",
        "type": "Tasmota Switch",
        "z": "b63e3fc.e0893c",
        "broker": "9622b515.1f1858",
        "device": "tasmota_428568",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 510,
        "y": 740,
        "wires": [
            [
                "b749a6ea.dc00e8",
                "ae00b429.d49ca8"
            ]
        ]
    },
    {
        "id": "b749a6ea.dc00e8",
        "type": "ui_switch",
        "z": "b63e3fc.e0893c",
        "name": "",
        "label": "PC399HA POWER",
        "tooltip": "",
        "group": "604e9480.ecba8c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 490,
        "y": 660,
        "wires": [
            [
                "2f1132a2.27a89e"
            ]
        ]
    },
    {
        "id": "4f0287af.65bd38",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 430,
        "y": 800,
        "wires": [
            [
                "2f1132a2.27a89e"
            ]
        ]
    },
    {
        "id": "27d7ebc0.1195a4",
        "type": "inject",
        "z": "b63e3fc.e0893c",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 430,
        "y": 840,
        "wires": [
            [
                "2f1132a2.27a89e"
            ]
        ]
    },
    {
        "id": "ada28774.0970e8",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "on",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 100,
        "wires": [
            [
                "2e693434.51654c"
            ]
        ]
    },
    {
        "id": "83b76f44.eac9",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "on",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 160,
        "wires": [
            [
                "2e693434.51654c"
            ]
        ]
    },
    {
        "id": "c17a0e51.026de",
        "type": "node-lifx-in",
        "z": "92c87692.1cc048",
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d5015037",
        "x": 950,
        "y": 1020,
        "wires": []
    },
    {
        "id": "ff74ea36.6aff98",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "on",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 730,
        "y": 900,
        "wires": [
            [
                "c17a0e51.026de"
            ]
        ]
    },
    {
        "id": "2ebaf822.394bf8",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "on",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 730,
        "y": 940,
        "wires": [
            [
                "c17a0e51.026de"
            ]
        ]
    },
    {
        "id": "75b2bf2e.0642a",
        "type": "debug",
        "z": "92c87692.1cc048",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 390,
        "y": 940,
        "wires": []
    },
    {
        "id": "bdb24fa2.2cccd",
        "type": "node-lifx-out",
        "z": "92c87692.1cc048",
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d5015037",
        "x": 150,
        "y": 1020,
        "wires": [
            [
                "8db4f17b.7a59a",
                "75b2bf2e.0642a"
            ]
        ]
    },
    {
        "id": "7ede41e1.d6695",
        "type": "ui_switch",
        "z": "92c87692.1cc048",
        "name": "",
        "label": "LIFX 2",
        "tooltip": "",
        "group": "bf7639b5.36f358",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "on",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 530,
        "y": 1020,
        "wires": [
            [
                "55a830a4.269b6",
                "e3f03205.2e656"
            ]
        ]
    },
    {
        "id": "46fb8abb.85d854",
        "type": "ui_switch",
        "z": "92c87692.1cc048",
        "name": "",
        "label": "LIFX 1",
        "tooltip": "",
        "group": "bf7639b5.36f358",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "payload.on",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 590,
        "y": 240,
        "wires": [
            [
                "cacc9bf5.7922c8"
            ]
        ]
    },
    {
        "id": "8db4f17b.7a59a",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "Payload to Topic",
        "func": "msg.payload = msg.payload.on;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 1020,
        "wires": [
            [
                "7ede41e1.d6695",
                "5ef69338.5c281c"
            ]
        ]
    },
    {
        "id": "55a830a4.269b6",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "Topic to Payload",
        "func": "msg.payload.on = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 1020,
        "wires": [
            [
                "c17a0e51.026de"
            ]
        ]
    },
    {
        "id": "568bbbef.73b7d4",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 780,
        "y": 820,
        "wires": [
            [
                "fcc9d11e.8105f"
            ]
        ]
    },
    {
        "id": "fcc9d11e.8105f",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "LIFX FX",
        "func": "msg.payload = {\n  \"isTransient\": true,\n  \"color\": { \"hue\": 0, \"saturation\": 65535, \"brightness\": 65535, \"kelvin\": 3500 },\n  \"period\": 2000,\n  \"cycles\": 3,\n  \"skewRatio\": 0,\n  \"waveform\": \"SINE\"  // one of SAW, SINE, HALF_SINE, TRIANGLE, PULSE\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 930,
        "y": 820,
        "wires": [
            [
                "c17a0e51.026de"
            ]
        ]
    },
    {
        "id": "5ef69338.5c281c",
        "type": "debug",
        "z": "92c87692.1cc048",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 520,
        "y": 1120,
        "wires": []
    },
    {
        "id": "e3f03205.2e656",
        "type": "debug",
        "z": "92c87692.1cc048",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 670,
        "y": 1080,
        "wires": []
    },
    {
        "id": "6186ee4d.4d923",
        "type": "debug",
        "z": "92c87692.1cc048",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 930,
        "y": 1140,
        "wires": []
    },
    {
        "id": "26bd2964.0315d6",
        "type": "ui_colour_picker",
        "z": "92c87692.1cc048",
        "name": "",
        "label": "LIFX 2",
        "group": "bf7639b5.36f358",
        "format": "rgb",
        "outformat": "object",
        "showSwatch": true,
        "showPicker": true,
        "showValue": true,
        "showHue": true,
        "showAlpha": false,
        "showLightness": false,
        "square": "true",
        "dynOutput": "false",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 480,
        "y": 1260,
        "wires": [
            [
                "6186ee4d.4d923",
                "625c1984.efcb28"
            ]
        ]
    },
    {
        "id": "aca86ed9.73f94",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "LIFX FX",
        "func": "msg.payload = {\"rgb\": [ payload.r, payload.g, payload.b]}; \nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "x": 660,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "625c1984.efcb28",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "LIFX FX",
        "func": "msg.payload = {\"rgb\": [ msg.payload.r, msg.payload.g, msg.payload.b ] }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 1320,
        "wires": [
            [
                "6186ee4d.4d923",
                "c17a0e51.026de"
            ]
        ]
    },
    {
        "id": "d29622bb.5ae8",
        "type": "comment",
        "z": "f89d6462.a45d98",
        "name": "Open Weather Map API Key",
        "info": "622de6297164cfe7dd860624bd9eeb95",
        "x": 620,
        "y": 580,
        "wires": []
    },
    {
        "id": "507b3f73.6f7c3",
        "type": "debug",
        "z": "f89d6462.a45d98",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 170,
        "y": 220,
        "wires": []
    },
    {
        "id": "f6245d0d.72ebe",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "LIFX FX",
        "func": "msg.payload = {\"bri\" : 100};\nreturn msg;\n\n/*\nmsg.payload = {\n  \"isTransient\": true,\n  \"color\": { \"hue\": 0, \"saturation\": 65535, \"brightness\": 65535, \"kelvin\": 3500 },\n  \"period\": 2000,\n  \"cycles\": 3,\n  \"skewRatio\": 0,\n  \"waveform\": \"SINE\"  // one of SAW, SINE, HALF_SINE, TRIANGLE, PULSE\n*/",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 60,
        "wires": [
            [
                "2e693434.51654c"
            ]
        ]
    },
    {
        "id": "278dbbf6.7ddc64",
        "type": "inject",
        "z": "92c87692.1cc048",
        "name": "trigger",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 60,
        "wires": [
            [
                "f6245d0d.72ebe"
            ]
        ]
    },
    {
        "id": "7fe0d771.b20428",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "Payload to Topic",
        "func": "msg.payload = msg.payload.on;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "46fb8abb.85d854"
            ]
        ]
    },
    {
        "id": "cacc9bf5.7922c8",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "Topic to Payload",
        "func": "msg.payload.on = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 810,
        "y": 320,
        "wires": [
            [
                "1f5e586e.28d508"
            ]
        ]
    },
    {
        "id": "1f5e586e.28d508",
        "type": "node-lifx-in",
        "z": "92c87692.1cc048",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 990,
        "y": 320,
        "wires": []
    },
    {
        "id": "2a5b20b7.8a2c9",
        "type": "trigger",
        "z": "92c87692.1cc048",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 370,
        "y": 320,
        "wires": [
            [
                "cacc9bf5.7922c8",
                "a2f87594.4192a8",
                "14757847.944778"
            ]
        ]
    },
    {
        "id": "2f3b6714.5e62b8",
        "type": "mqtt in",
        "z": "92c87692.1cc048",
        "name": "",
        "topic": "stat/tasmota_%06X/PIR1",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "2a5b20b7.8a2c9",
                "b881abc.224d558"
            ]
        ]
    },
    {
        "id": "a2f87594.4192a8",
        "type": "ui_text",
        "z": "92c87692.1cc048",
        "group": "5523aa99.3ef2b4",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "TRIGGER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 600,
        "y": 300,
        "wires": []
    },
    {
        "id": "159b9393.705e7c",
        "type": "influxdb out",
        "z": "92c87692.1cc048",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "segmeter",
        "precision": "s",
        "retentionPolicy": "",
        "x": 790,
        "y": 380,
        "wires": []
    },
    {
        "id": "16f15a4f.531d76",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "Fields",
        "func": "\nmsg.payload = {LaundryPIR3: msg.payload};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 380,
        "wires": [
            [
                "159b9393.705e7c"
            ]
        ]
    },
    {
        "id": "b881abc.224d558",
        "type": "function",
        "z": "92c87692.1cc048",
        "name": "ON/OFF to 1/0",
        "func": "if (msg.payload === 'ON') msg.payload = 1;\nelse msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 380,
        "wires": [
            [
                "16f15a4f.531d76"
            ]
        ]
    },
    {
        "id": "1360a994.e25806",
        "type": "function",
        "z": "f89d6462.a45d98",
        "name": "timestamp",
        "func": "msg.payload = new Date().toISOString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 700,
        "wires": [
            [
                "2b6a9ef5.3e95c2",
                "6022d896.70a438"
            ]
        ]
    },
    {
        "id": "2b6a9ef5.3e95c2",
        "type": "moment",
        "z": "f89d6462.a45d98",
        "name": "dd DD.MM.YY - HH:mm",
        "topic": "date",
        "input": "payload",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 370,
        "y": 760,
        "wires": [
            [
                "6022d896.70a438",
                "df94a62e.8558d8"
            ]
        ]
    },
    {
        "id": "6022d896.70a438",
        "type": "debug",
        "z": "f89d6462.a45d98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 610,
        "y": 760,
        "wires": []
    },
    {
        "id": "e936ab41.7d3838",
        "type": "inject",
        "z": "f89d6462.a45d98",
        "name": "Clock",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 160,
        "y": 700,
        "wires": [
            [
                "1360a994.e25806"
            ]
        ]
    },
    {
        "id": "df94a62e.8558d8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f4f15e69.ca4a6",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Clock",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 590,
        "y": 800,
        "wires": []
    },
    {
        "id": "756dfb5c.622524",
        "type": "moment",
        "z": "f89d6462.a45d98",
        "name": "",
        "topic": "date",
        "input": "payload[0].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 710,
        "y": 60,
        "wires": [
            [
                "4eac3379.78234c"
            ]
        ]
    },
    {
        "id": "4eac3379.78234c",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 850,
        "y": 60,
        "wires": []
    },
    {
        "id": "56473e81.cb7e7",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[0].main.temp}}",
        "layout": "row-spread",
        "x": 850,
        "y": 140,
        "wires": []
    },
    {
        "id": "c6ead257.b3f3e",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[1].weather[0].description}}",
        "layout": "row-spread",
        "x": 610,
        "y": 160,
        "wires": []
    },
    {
        "id": "1fc53073.e9ec5",
        "type": "moment",
        "z": "f89d6462.a45d98",
        "name": "",
        "topic": "date",
        "input": "payload[1].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 450,
        "y": 120,
        "wires": [
            [
                "596c294c.ab32b8"
            ]
        ]
    },
    {
        "id": "596c294c.ab32b8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 590,
        "y": 120,
        "wires": []
    },
    {
        "id": "8c5ef796.633cd8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[1].main.temp}}",
        "layout": "row-spread",
        "x": 590,
        "y": 200,
        "wires": []
    },
    {
        "id": "4f317103.01e0c",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[2].weather[0].description}}",
        "layout": "row-spread",
        "x": 890,
        "y": 260,
        "wires": []
    },
    {
        "id": "7d6911cf.aade9",
        "type": "moment",
        "z": "f89d6462.a45d98",
        "name": "",
        "topic": "date",
        "input": "payload[2].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 730,
        "y": 220,
        "wires": [
            [
                "76b14e8a.5bbd9"
            ]
        ]
    },
    {
        "id": "76b14e8a.5bbd9",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "47a0a20.402746",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[2].main.temp}}",
        "layout": "row-spread",
        "x": 870,
        "y": 300,
        "wires": []
    },
    {
        "id": "830be7e3.fe2838",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[3].weather[0].description}}",
        "layout": "row-spread",
        "x": 630,
        "y": 320,
        "wires": []
    },
    {
        "id": "dee4116.31f09f",
        "type": "moment",
        "z": "f89d6462.a45d98",
        "name": "",
        "topic": "date",
        "input": "payload[3].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 470,
        "y": 280,
        "wires": [
            [
                "ab7fd09.998113"
            ]
        ]
    },
    {
        "id": "ab7fd09.998113",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 610,
        "y": 280,
        "wires": []
    },
    {
        "id": "8c201f17.67212",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 15,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[3].main.temp}}",
        "layout": "row-spread",
        "x": 610,
        "y": 360,
        "wires": []
    },
    {
        "id": "7fd72a05.216a24",
        "type": "inject",
        "z": "2ec463b0.b5b11c",
        "name": "Refresh Timer",
        "topic": "Refresh Timer",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 140,
        "y": 160,
        "wires": [
            [
                "5a605621.bc4a98",
                "b3360b5e.3041a8"
            ]
        ]
    },
    {
        "id": "faa65157.6fba8",
        "type": "ui_button",
        "z": "2ec463b0.b5b11c",
        "name": "Weather Refresh",
        "group": "7b4bfa42.a1f164",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Aktualisieren",
        "tooltip": "Wetterdaten aktualisieren",
        "color": "",
        "bgcolor": "",
        "icon": "fa-refresh",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "5a605621.bc4a98",
                "b3360b5e.3041a8"
            ]
        ]
    },
    {
        "id": "a4b2d643.e32c48",
        "type": "ui_text",
        "z": "2ec463b0.b5b11c",
        "group": "5fcf51e9.cbd7c",
        "order": 1,
        "width": "4",
        "height": "1",
        "name": "Condition Txt",
        "label": "",
        "format": "{{msg.payload.detail}}",
        "layout": "row-center",
        "x": 990,
        "y": 160,
        "wires": []
    },
    {
        "id": "2d4da0e7.84c4",
        "type": "function",
        "z": "2ec463b0.b5b11c",
        "name": "Prepare Dashboard Data",
        "func": "var windDirection = {};\nvar windDirectionIcon = {};\nvar windSpeed = {};\nvar windSpeedIcon = {};\nvar sunRise = {};\nvar sunSet = {};\nvar conditionIcon = {};\nvar date = new Date ();\n\n/* function for converting meteorogical degree to text */\n\nvar degToCard = function(deg){\nif (deg>11.25 && deg<=33.75){\nreturn \"Nord-Nord-Ost\";\n  }else if (deg>33.75 && deg<56.25){\nreturn \"Nord-Ost\";\n  }else if (deg>56.25 && deg<78.75){\nreturn \"Ost-Nord-Ost\";\n  }else if (deg>78.75 && deg<101.25){\nreturn \"Ost\";\n  }else if (deg>101.25 && deg<123.75){\nreturn \"Ost-SÃ¼d-Ost\";\n  }else if (deg>123.75 && deg<146.25){\nreturn \"SÃ¼d-Ost\";\n  }else if (deg>146.25 && deg<168.75){\nreturn \"SÃ¼d-SÃ¼d-Ost\";\n  }else if (deg>168.75 && deg<191.25){\nreturn \"SÃ¼d\";\n  }else if (deg>191.25 && deg<213.75){\nreturn \"SÃ¼d-SÃ¼d-West\";\n  }else if (deg>213.75 && deg<236.25){\nreturn \"SÃ¼d-West\";\n  }else if (deg>236.25 && deg<258.75){\nreturn \"West-SÃ¼d-West\";\n  }else if (deg>258.75 && deg<281.25){\nreturn \"West\";\n  }else if (deg>281.25 && deg<303.75){\nreturn \"West-Nord-West\";\n  }else if (deg>303.75 && deg<326.25){\nreturn \"Nord-West\";\n  }else if (deg>326.25 && deg<348.75){\nreturn \"Nord-Nord-West\";\n  }else{\nreturn \"Nord\"; \n  }\n}\n\n/* function for converting meteorogical degree to weather icons */\n\nvar degToCardIcon = function(deg){\nif (deg>11.25 && deg<=33.75){\nreturn \"wi-from-nne\";\n  }else if (deg>33.75 && deg<56.25){\nreturn \"wi-from-ne\";\n  }else if (deg>56.25 && deg<78.75){\nreturn \"wi-from-ene\";\n  }else if (deg>78.75 && deg<101.25){\nreturn \"wi-from-e\";\n  }else if (deg>101.25 && deg<123.75){\nreturn \"wi-from-ese\";\n  }else if (deg>123.75 && deg<146.25){\nreturn \"wi-from-se\";\n  }else if (deg>146.25 && deg<168.75){\nreturn \"wi-from-sse\";\n  }else if (deg>168.75 && deg<191.25){\nreturn \"wi-from-s\";\n  }else if (deg>191.25 && deg<213.75){\nreturn \"wi-from-ssw\";\n  }else if (deg>213.75 && deg<236.25){\nreturn \"wi-from-sw\";\n  }else if (deg>236.25 && deg<258.75){\nreturn \"wi-from-wsw\";\n  }else if (deg>258.75 && deg<281.25){\nreturn \"wi-from-w\";\n  }else if (deg>281.25 && deg<303.75){\nreturn \"wi-from-wnw\";\n  }else if (deg>303.75 && deg<326.25){\nreturn \"wi-from-nw\";\n  }else if (deg>326.25 && deg<348.75){\nreturn \"wi-from-nnw\";\n  }else{\nreturn \"wi-from-n\"; \n  }\n}\n\n/* Function for converting wind speed into Beaufort scale icon */\n\nvar speedToCardIcon = function(speed){\nif (speed>0.5 && speed<=1.5){\nreturn \"wi-wind-beaufort-1\";\n  }else if (speed>1.5 && speed<=3.3){\nreturn \"wi-wind-beaufort-2\";\n  }else if (speed>3.3 && speed<=5.5){\nreturn \"wi-wind-beaufort-3\";\n  }else if (speed>5.5 && speed<=7.9){\nreturn \"wi-wind-beaufort-4\";\n  }else if (speed>7.9 && speed<=10.7){\nreturn \"wi-wind-beaufort-5\";\n  }else if (speed>10.7 && speed<=13.8){\nreturn \"wi-wind-beaufort-6\";\n  }else if (speed>13.8 && speed<=17.1){\nreturn \"wi-wind-beaufort-7\";\n  }else if (speed>17.1 && speed<=20.7){\nreturn \"wi-wind-beaufort-8\";\n  }else if (speed>20.7 && speed<=24.4){\nreturn \"wi-wind-beaufort-9\";\n  }else if (speed>24.4 && speed<=28.4){\nreturn \"wi-wind-beaufort-10\";\n  }else if (speed>28.4 && speed<=32.6){\nreturn \"wi-wind-beaufort-11\";\n  }else if (speed>32.6){\nreturn \"wi-wind-beaufort-12\";\n  }else{\nreturn \"wi-wind-beaufort-0\"; \n  }\n}\n\n/* Function for Time Conversions */\n\nfunction timeConverter(UNIX_timestamp){\n  var a = new Date(UNIX_timestamp * 1000);\n  var hour = a.getHours();\n  var min = a.getMinutes();\n  if (min < 10) {min = \"0\" + min;}\n    else {min = min;}\n  var sec = a.getSeconds();\n  if (sec < 10) {sec = \"0\" + sec;}\n    else {sec = sec;}\n    \n  var time = hour + ':' + min + ':' + sec ;\n  return time;\n}\n\n/* Convert OpenWeeather Map Icon to https://erikflowers.github.io/weather-icons/ */\n\nconst owIconMap = new Map();\n\nowIconMap.set('01d', 'wi-day-sunny'); // clear sky\nowIconMap.set('02d', 'wi-day-cloudy'); // few clouds\nowIconMap.set('03d', 'wi-cloud'); // scattered clouds\nowIconMap.set('04d', 'wi-cloudy'); // broken clouds\nowIconMap.set('09d', 'wi-day-showers'); // shower rain\nowIconMap.set('10d', 'wi-day-rain'); // rain\nowIconMap.set('11d', 'wi-thunderstorm'); // thunderstorm\nowIconMap.set('13d', 'wi-snow'); // snow\nowIconMap.set('50d', 'wi-fog'); // mist\nowIconMap.set('01n', 'wi-night-clear'); // clear sky\nowIconMap.set('02n', 'wi-night-alt-cloudy'); // few clouds\nowIconMap.set('03n', 'wi-cloud'); // scattered clouds\nowIconMap.set('04n', 'wi-cloudy'); // broken clouds\nowIconMap.set('09n', 'wi-night-alt-showers'); // shower rain\nowIconMap.set('10n', 'wi-night-alt-rain'); // rain\nowIconMap.set('11n', 'wi-thunderstorm'); // thunderstorm\nowIconMap.set('13n', 'wi-snow'); // snow\nowIconMap.set('50n', 'wi-fog'); // mist\n\nconditionIcon.topic = \"ConditionIcon\";\nconditionIcon.payload = owIconMap.get(msg.payload.icon);\n\nwindDirection.topic = \"WindDirection\";\nwindDirection.payload = degToCard(msg.payload.winddirection);\n\nwindDirectionIcon.topic = \"WindDirectionIcon\";\nwindDirectionIcon.payload = degToCardIcon(msg.payload.winddirection);\n\nwindSpeed.topic = \"WindSpeed\";\nwindSpeed.payload = msg.payload.windspeed +  \" m/s\"; /* \" + windDirection.payload; */\n\nwindSpeedIcon.topic = \"WindSpeedIcon\";\nwindSpeedIcon.payload = speedToCardIcon(msg.payload.windspeed);\n\nsunRise.topic = \"SunRise\";\nsunRise.payload = timeConverter(msg.payload.sunrise);\n\nsunSet.topic = \"SunRet\";\nsunSet.payload = timeConverter(msg.payload.sunset);\n\nowIconMap.clear(); //freeing resource\n\nreturn [conditionIcon, windSpeedIcon, windSpeed, windDirection, windDirectionIcon, sunRise, sunSet];",
        "outputs": 7,
        "noerr": 0,
        "x": 680,
        "y": 320,
        "wires": [
            [
                "7e0c716e.c7c2b"
            ],
            [
                "4004755a.26b86c"
            ],
            [
                "33357576.6158ca"
            ],
            [],
            [
                "b6d70b43.3f3dd8"
            ],
            [
                "9296931a.49fce"
            ],
            [
                "b5630c29.cc125"
            ]
        ]
    },
    {
        "id": "33357576.6158ca",
        "type": "ui_text",
        "z": "2ec463b0.b5b11c",
        "group": "8962615c.444ee",
        "order": 2,
        "width": "2",
        "height": "1",
        "name": "WindSpeed",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "x": 980,
        "y": 320,
        "wires": []
    },
    {
        "id": "9296931a.49fce",
        "type": "ui_text",
        "z": "2ec463b0.b5b11c",
        "group": "f4f15e69.ca4a6",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "Sunrise",
        "label": "Sun Rise",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 970,
        "y": 460,
        "wires": []
    },
    {
        "id": "b5630c29.cc125",
        "type": "ui_text",
        "z": "2ec463b0.b5b11c",
        "group": "f4f15e69.ca4a6",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "Sunset",
        "label": "Sunset",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 970,
        "y": 540,
        "wires": []
    },
    {
        "id": "eb902798.dfc6c8",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "7768ad44.148454",
        "name": "Sunrise Icon",
        "order": 3,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: left;align-items: center;\">\n<i class=\"fa-2x wi wi-sunrise\"></i>\n</div> ",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "fc3c2d45.a2173",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "7768ad44.148454",
        "name": "Sunset Icon",
        "order": 5,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: left;align-items: center;\">\n<i class=\"fa-2x wi wi-sunset\"></i>\n</div> ",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b6d70b43.3f3dd8",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "8962615c.444ee",
        "name": "WindDirection icon",
        "order": 3,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons-wind.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-2x wi wi-wind {{msg.payload}}\"></i>\n</div> ",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1000,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "5a605621.bc4a98",
        "type": "openweathermap",
        "z": "2ec463b0.b5b11c",
        "name": "Current Weather",
        "wtype": "current",
        "lon": "",
        "lat": "",
        "city": "Melbourne",
        "country": "AU",
        "language": "en",
        "x": 370,
        "y": 160,
        "wires": [
            [
                "2d4da0e7.84c4",
                "a4b2d643.e32c48"
            ]
        ]
    },
    {
        "id": "4004755a.26b86c",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "8962615c.444ee",
        "name": "WindSpeed Icon",
        "order": 1,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons-wind.css\">\n<div style=\"display: flex;height: 100%;justify-content: left;align-items: center;\">\n<i class=\"fa-2x wi wi-wind {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1000,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "aae53d61.57413",
        "type": "debug",
        "z": "2ec463b0.b5b11c",
        "name": "Forecast debug",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 990,
        "y": 960,
        "wires": []
    },
    {
        "id": "63cbcf12.f2191",
        "type": "comment",
        "z": "2ec463b0.b5b11c",
        "name": "Open Weather API fÃ¼r aktuelles Wetter und Forecast",
        "info": "",
        "x": 480,
        "y": 80,
        "wires": []
    },
    {
        "id": "7e0c716e.c7c2b",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "a28848b9.636f28",
        "name": "Condition Icon",
        "order": 1,
        "width": "2",
        "height": "2",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-4x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 990,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b3360b5e.3041a8",
        "type": "openweathermap",
        "z": "2ec463b0.b5b11c",
        "name": "5 Day Forecast",
        "wtype": "forecast",
        "lon": "",
        "lat": "",
        "city": "Melbourne",
        "country": "AU",
        "language": "en",
        "x": 350,
        "y": 620,
        "wires": [
            [
                "52f82140.31835",
                "b0cb8080.314c2",
                "bac30660.4be218",
                "aae53d61.57413"
            ]
        ]
    },
    {
        "id": "52f82140.31835",
        "type": "function",
        "z": "2ec463b0.b5b11c",
        "name": "Prepare Forecast Icon",
        "func": "var wfcIcon1 = {};\nvar wfcIcon2 = {}; \nvar wfcIcon3 = {};\nvar wfcIcon4 = {};\nvar wfcIcon5 = {};\nvar wfcIcon6 = {};\nvar wfcIcon7 = {};\nvar wfcIcon8 = {};\n\n\nvar date = new Date ();\n\n/* Function for Time Conversions */\n\nfunction timeConverter(UNIX_timestamp){\n  var a = new Date(UNIX_timestamp * 1000);\n  var hour = a.getHours();\n  var min = a.getMinutes();\n  if (min < 10) {min = \"0\" + min;}\n    else {min = min;}\n  var sec = a.getSeconds();\n  if (sec < 10) {sec = \"0\" + sec;}\n    else {sec = sec;}\n    \n  var time = hour + ':' + min; /* + ':' + sec ;*/\n  return time;\n}\n\n/* Convert OpenWeeather Map Icon to https://erikflowers.github.io/weather-icons/ */\n\nconst owIconMap = new Map();\n\nowIconMap.set('01d', 'wi-day-sunny'); // clear sky\nowIconMap.set('02d', 'wi-day-cloudy'); // few clouds\nowIconMap.set('03d', 'wi-cloud'); // scattered clouds\nowIconMap.set('04d', 'wi-cloudy'); // broken clouds\nowIconMap.set('09d', 'wi-day-showers'); // shower rain\nowIconMap.set('10d', 'wi-day-rain'); // rain\nowIconMap.set('11d', 'wi-thunderstorm'); // thunderstorm\nowIconMap.set('13d', 'wi-snow'); // snow\nowIconMap.set('50d', 'wi-fog'); // mist\nowIconMap.set('01n', 'wi-night-clear'); // clear sky\nowIconMap.set('02n', 'wi-night-alt-cloudy'); // few clouds\nowIconMap.set('03n', 'wi-cloud'); // scattered clouds\nowIconMap.set('04n', 'wi-cloudy'); // broken clouds\nowIconMap.set('09n', 'wi-night-alt-showers'); // shower rain\nowIconMap.set('10n', 'wi-night-alt-rain'); // rain\nowIconMap.set('11n', 'wi-thunderstorm'); // thunderstorm\nowIconMap.set('13n', 'wi-snow'); // snow\nowIconMap.set('50n', 'wi-fog'); // mist\n\nwfcIcon1.topic = msg.payload[0].dt_txt;\nwfcIcon1.payload = owIconMap.get(msg.payload[0].weather[0].icon);\n\nwfcIcon2.topic = msg.payload[1].dt_txt;\nwfcIcon2.payload = owIconMap.get(msg.payload[1].weather[0].icon);\n\nwfcIcon3.topic = msg.payload[2].dt_txt;\nwfcIcon3.payload = owIconMap.get(msg.payload[2].weather[0].icon);\n\nwfcIcon4.topic = msg.payload[3].dt_txt;\nwfcIcon4.payload = owIconMap.get(msg.payload[3].weather[0].icon);\n\nwfcIcon5.topic = msg.payload[4].dt_txt;\nwfcIcon5.payload = owIconMap.get(msg.payload[4].weather[0].icon);\n\nwfcIcon6.topic = msg.payload[5].dt_txt;\nwfcIcon6.payload = owIconMap.get(msg.payload[5].weather[0].icon);\n\nwfcIcon7.topic = msg.payload[6].dt_txt;\nwfcIcon7.payload = owIconMap.get(msg.payload[6].weather[0].icon);\n\nwfcIcon8.topic = msg.payload[7].dt_txt;\nwfcIcon8.payload = owIconMap.get(msg.payload[7].weather[0].icon);\n\n\nowIconMap.clear(); //freeing resource\n\nreturn [wfcIcon1, wfcIcon2, wfcIcon3, wfcIcon4, wfcIcon5, wfcIcon6, wfcIcon7, wfcIcon8];",
        "outputs": 8,
        "noerr": 0,
        "x": 690,
        "y": 680,
        "wires": [
            [
                "b4613cab.aa6b3"
            ],
            [
                "3b83efba.f97ea"
            ],
            [
                "61fc35dc.db462c"
            ],
            [
                "a83981e4.e4b3c"
            ],
            [
                "6eae0b4f.690964"
            ],
            [
                "423c3b0a.1569a4"
            ],
            [
                "f662efb5.eb306"
            ],
            [
                "7958239a.94023c"
            ]
        ]
    },
    {
        "id": "b4613cab.aa6b3",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 1",
        "order": 2,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "3b83efba.f97ea",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 2",
        "order": 3,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "61fc35dc.db462c",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 3",
        "order": 4,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "a83981e4.e4b3c",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 4",
        "order": 5,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "6eae0b4f.690964",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 5",
        "order": 6,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "423c3b0a.1569a4",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 6",
        "order": 7,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "f662efb5.eb306",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 7",
        "order": 8,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "7958239a.94023c",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "WFc Icon 8",
        "order": 9,
        "width": "1",
        "height": "1",
        "format": "<link rel=\"stylesheet\" href=\"/weather-icons/mycss/weather-icons.min.css\">\n<div style=\"display: flex;height: 100%;justify-content: center;align-items: center;\">\n<i class=\"fa-1x wi {{msg.payload}}\"></i>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 980,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "b0cb8080.314c2",
        "type": "function",
        "z": "2ec463b0.b5b11c",
        "name": "Prepare Forecast Data",
        "func": "var fcdata = {};\n\nfcdata.payload = {\n  forecast: {\n    dt00: {\n      dt_txt: msg.payload[0].dt_txt,\n      temp_min: msg.payload[0].main.temp_min,\n      temp_max: msg.payload[0].main.temp_max,\n      temp: msg.payload[0].main.temp,\n      desc: msg.payload[0].weather[0].description\n    },\n    dt01: {\n      dt_txt: msg.payload[1].dt_txt,\n      temp_min: msg.payload[1].main.temp_min,\n      temp_max: msg.payload[1].main.temp_max,\n      temp: msg.payload[1].main.temp,\n      desc: msg.payload[1].weather[0].description\n    },\n    dt02: {\n      dt_txt: msg.payload[2].dt_txt,\n      temp_min: msg.payload[2].main.temp_min,\n      temp_max: msg.payload[2].main.temp_max,\n      temp: msg.payload[2].main.temp,\n      desc: msg.payload[2].weather[0].description\n    },\n    dt03: {\n      dt_txt: msg.payload[3].dt_txt,\n      temp_min: msg.payload[3].main.temp_min,\n      temp_max: msg.payload[3].main.temp_max,\n      temp: msg.payload[3].main.temp,\n      desc: msg.payload[3].weather[0].description\n    },\n    dt04: {\n      dt_txt: msg.payload[4].dt_txt,\n      temp_min: msg.payload[4].main.temp_min,\n      temp_max: msg.payload[4].main.temp_max,\n      temp: msg.payload[4].main.temp,\n      desc: msg.payload[4].weather[0].description\n    },\n    dt05: {\n      dt_txt: msg.payload[5].dt_txt,\n      temp_min: msg.payload[5].main.temp_min,\n      temp_max: msg.payload[5].main.temp_max,\n      temp: msg.payload[5].main.temp,\n      desc: msg.payload[5].weather[0].description\n    },\n    dt06: {\n      dt_txt: msg.payload[6].dt_txt,\n      temp_min: msg.payload[6].main.temp_min,\n      temp_max: msg.payload[6].main.temp_max,\n      temp: msg.payload[6].main.temp,\n      desc: msg.payload[6].weather[0].description\n    },\n    dt07: {\n      dt_txt: msg.payload[7].dt_txt,\n      temp_min: msg.payload[7].main.temp_min,\n      temp_max: msg.payload[7].main.temp_max,\n      temp: msg.payload[7].main.temp,\n      desc: msg.payload[7].weather[0].description\n    }\n  }\n}\n\n\n\nreturn fcdata;",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "3a0b91e7.f6a22e",
        "type": "ui_template",
        "z": "2ec463b0.b5b11c",
        "group": "1c1a4394.d97f1c",
        "name": "Forecast",
        "order": 1,
        "width": "8",
        "height": "1",
        "format": "<div layout=\"row\" layout-align=\"space-around start\" ng-repeat=\"data in msg.payload.row\">\n  <span flex style=\"color: white\">{{data.cell01}}</span>\n  <span flex style=\"color: white\">{{data.cell02}}</span>\n  <span flex style=\"color: white\">{{data.cell03}}</span>\n  <span flex style=\"color: white\">{{data.cell04}}</span>\n  <span flex style=\"color: white\">{{data.cell05}}</span>\n  <span flex style=\"color: white\">{{data.cell06}}</span>\n  <span flex style=\"color: white\">{{data.cell07}}</span>\n  <span flex style=\"color: white\">{{data.cell08}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 970,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "bac30660.4be218",
        "type": "function",
        "z": "2ec463b0.b5b11c",
        "name": "Prepare forecast for UI widget",
        "func": "var fcdata = {};\n\n// prepare forecast data for CSS based ui widget\n\nfcdata.payload = {\n  row: {\n  \tdata01: {\n  \t\tcell01: msg.payload[0].dt_txt.substring(11, 16),\n  \t\tcell02: msg.payload[1].dt_txt.substring(11, 16),\n  \t\tcell03: msg.payload[2].dt_txt.substring(11, 16),\n  \t\tcell04: msg.payload[3].dt_txt.substring(11, 16),\n  \t\tcell05: msg.payload[4].dt_txt.substring(11, 16),\n  \t\tcell06: msg.payload[5].dt_txt.substring(11, 16),\n  \t\tcell07: msg.payload[6].dt_txt.substring(11, 16),\n  \t\tcell08: msg.payload[7].dt_txt.substring(11, 16)\n  \t},\n  \tdata02: {\n  \t\tcell01: msg.payload[0].main.temp,\n  \t\tcell02: msg.payload[1].main.temp,\n  \t\tcell03: msg.payload[2].main.temp,\n  \t\tcell04: msg.payload[3].main.temp,\n  \t\tcell05: msg.payload[4].main.temp,\n  \t\tcell06: msg.payload[5].main.temp,\n  \t\tcell07: msg.payload[6].main.temp,\n  \t\tcell08: msg.payload[7].main.temp\n  \t}\n  }\n}\n\nreturn fcdata;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "3a0b91e7.f6a22e"
            ]
        ]
    },
    {
        "id": "ea5b56f4.2bc2e8",
        "type": "ui_text",
        "z": "f89d6462.a45d98",
        "group": "f65e7994.8cb618",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Rain",
        "format": "{{payload[0].rain[\"3h\"]}}",
        "layout": "row-spread",
        "x": 970,
        "y": 140,
        "wires": []
    },
    {
        "id": "3aaf779.7f0f188",
        "type": "influxdb out",
        "z": "a0f41b53.f71c78",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "CPU",
        "precision": "s",
        "retentionPolicy": "",
        "x": 770,
        "y": 100,
        "wires": []
    },
    {
        "id": "e4452a01.9b6738",
        "type": "catch",
        "z": "ebdbbec9.aca16",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 2200,
        "y": 3480,
        "wires": [
            []
        ]
    },
    {
        "id": "d714b68e.84d238",
        "type": "ui_gauge",
        "z": "ebdbbec9.aca16",
        "name": "",
        "group": "68a44d5b.0a65b4",
        "order": 5,
        "width": 6,
        "height": 5,
        "gtype": "gage",
        "title": "OpenDNS 4.2.2.2",
        "label": "ms",
        "format": "{{value}}",
        "min": 0,
        "max": "1000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 530,
        "y": 40,
        "wires": []
    },
    {
        "id": "30b73208.9cb6ee",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 80,
        "wires": [
            [
                "8f2f82c.be5a68"
            ]
        ]
    },
    {
        "id": "d3e10068.b20d7",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 480,
        "wires": [
            [
                "98af4f6a.696e5"
            ]
        ]
    },
    {
        "id": "1b245ff1.c913a",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "FIREWALL",
        "host": "8.8.8.8",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 460,
        "wires": [
            [
                "d3e10068.b20d7"
            ]
        ]
    },
    {
        "id": "d12e2434.051168",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "OpenDNS",
        "host": "4.2.2.2",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 60,
        "wires": [
            [
                "d714b68e.84d238",
                "30b73208.9cb6ee"
            ]
        ]
    },
    {
        "id": "ec6e45c0.e08c48",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 220,
        "wires": [
            [
                "384dff5a.fe4cf",
                "ed2b88fe.0391e8"
            ]
        ]
    },
    {
        "id": "a2f85637.6c3138",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 340,
        "wires": [
            [
                "255caf43.2753d",
                "eb58e5c0.fac348",
                "2c55636c.1410ec"
            ]
        ]
    },
    {
        "id": "2961b2d0.c5aafe",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "TinyPico2 192.168.0.43",
        "host": "192.168.0.43",
        "timer": "5",
        "inputs": 0,
        "x": 120,
        "y": 320,
        "wires": [
            [
                "a2f85637.6c3138",
                "21787452.935a3c"
            ]
        ]
    },
    {
        "id": "bc374a6f.a19f58",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "TinyPico1",
        "host": "192.168.0.41",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 200,
        "wires": [
            [
                "ec6e45c0.e08c48",
                "21787452.935a3c"
            ]
        ]
    },
    {
        "id": "384dff5a.fe4cf",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 7,
        "width": 6,
        "height": 1,
        "label": "TinyPico1 192.168.0.41",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPico1 192.168.0.41",
        "x": 570,
        "y": 220,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "255caf43.2753d",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 34,
        "width": 6,
        "height": 1,
        "label": "TinyPico2 192.168.0.43",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPico2 192.168.0.43",
        "x": 570,
        "y": 340,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "8f2f82c.be5a68",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 1,
        "width": 6,
        "height": 1,
        "label": "OpenDNS 4.2.2.2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "OpenDNS 4.2.2.2",
        "x": 530,
        "y": 80,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "98af4f6a.696e5",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 3,
        "width": 6,
        "height": 1,
        "label": "FWALL 8.8.8.8",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "FWALL 8.8.8.8",
        "x": 540,
        "y": 480,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "1abde44.8be151c",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 680,
        "wires": [
            [
                "e5be15f6.be6948"
            ]
        ]
    },
    {
        "id": "1f47d774.ca3779",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "Tasmota-Arlec-192.168.0.33",
        "host": "192.168.0.33",
        "timer": "5",
        "inputs": 0,
        "x": 140,
        "y": 640,
        "wires": [
            [
                "1abde44.8be151c"
            ]
        ]
    },
    {
        "id": "e5be15f6.be6948",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 14,
        "width": 6,
        "height": 1,
        "label": "Tasmota-Arlec 192.168.0.33",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Tasmota-Arlec 192.168.0.33",
        "x": 560,
        "y": 680,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "6c8c62fa.9728ec",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 840,
        "wires": [
            [
                "1726593b.6fab07"
            ]
        ]
    },
    {
        "id": "e6e91678.cdfc48",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "Kitchen_WeMosD1-0308-192.168.0.42",
        "host": "192.168.0.42",
        "timer": "5",
        "inputs": 0,
        "x": 150,
        "y": 780,
        "wires": [
            [
                "6c8c62fa.9728ec"
            ]
        ]
    },
    {
        "id": "1726593b.6fab07",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 9,
        "width": 6,
        "height": 1,
        "label": "Kitchen_WeMos 192.168.0.42",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Kitchen_WeMosD1-0308-192.168.0.42",
        "x": 590,
        "y": 840,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "9627b64a.5a3cf8",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 980,
        "wires": [
            [
                "6cb8e748.adde78"
            ]
        ]
    },
    {
        "id": "5e927eff.bcff2",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "Tasmota_Lounge-192.168.0.31",
        "host": "192.168.0.31",
        "timer": "5",
        "inputs": 0,
        "x": 150,
        "y": 940,
        "wires": [
            [
                "9627b64a.5a3cf8"
            ]
        ]
    },
    {
        "id": "6cb8e748.adde78",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 12,
        "width": 6,
        "height": 1,
        "label": "Tasmota_Lounge-192.168.0.31",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Tasmota_Lounge-192.168.0.31",
        "x": 570,
        "y": 980,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "f98d89.b9ffb278",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1120,
        "wires": [
            [
                "b52a957f.613688"
            ]
        ]
    },
    {
        "id": "a582d32.5a0eb3",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "Tasmota_Laundry-192.168.0.32",
        "host": "192.168.0.32",
        "timer": "5",
        "inputs": 0,
        "x": 150,
        "y": 1080,
        "wires": [
            [
                "f98d89.b9ffb278"
            ]
        ]
    },
    {
        "id": "b52a957f.613688",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 20,
        "width": 6,
        "height": 1,
        "label": "Tasmota_Laundry-192.168.0.32",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "tasmota_5AE120-0288\t192.168.0.31",
        "x": 590,
        "y": 1120,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "d649e3b5.835f2",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1260,
        "wires": [
            [
                "917db577.7d4a88"
            ]
        ]
    },
    {
        "id": "fcb327a4.e9ce28",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "ipcam_00626E53902C_1\t192.168.0.20",
        "host": "192.168.0.20",
        "timer": "5",
        "inputs": 0,
        "x": 170,
        "y": 1220,
        "wires": [
            [
                "d649e3b5.835f2"
            ]
        ]
    },
    {
        "id": "917db577.7d4a88",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 22,
        "width": 6,
        "height": 1,
        "label": "ipcam_\t192.168.0.20",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "ipcam_\t192.168.0.20",
        "x": 540,
        "y": 1260,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "fd5e5e8c.18d3b",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1540,
        "wires": [
            [
                "17b004f7.ab081b",
                "d229649b.28de68"
            ]
        ]
    },
    {
        "id": "918f3026.62257",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": "timed",
        "name": "iPhone6s\t192.168.0.10",
        "host": "192.168.0.10",
        "timer": "5",
        "inputs": 0,
        "x": 120,
        "y": 1500,
        "wires": [
            [
                "fd5e5e8c.18d3b",
                "d229649b.28de68"
            ]
        ]
    },
    {
        "id": "17b004f7.ab081b",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 28,
        "width": 6,
        "height": 1,
        "label": "iPhone6s\t192.168.0.10",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "iPhone6s\t192.168.0.10",
        "x": 550,
        "y": 1540,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "44698434.b63e3c",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1680,
        "wires": [
            [
                "f2b670f.7fe189"
            ]
        ]
    },
    {
        "id": "cc052143.1d543",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "LoungeTV 192.168.0.6",
        "host": "192.168.0.6",
        "timer": "5",
        "inputs": 0,
        "x": 120,
        "y": 1640,
        "wires": [
            [
                "44698434.b63e3c"
            ]
        ]
    },
    {
        "id": "f2b670f.7fe189",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 26,
        "width": 6,
        "height": 1,
        "label": "LoungeTV 192.168.0.6",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LoungeTV 192.168.0.6",
        "x": 540,
        "y": 1680,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "9085eb98.d71208",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1380,
        "wires": [
            [
                "e16c99c4.de9408"
            ]
        ]
    },
    {
        "id": "938973ae.3676c",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "ipcam_2\t192.168.0.21",
        "host": "192.168.0.21",
        "timer": "5",
        "inputs": 0,
        "x": 120,
        "y": 1340,
        "wires": [
            [
                "9085eb98.d71208"
            ]
        ]
    },
    {
        "id": "e16c99c4.de9408",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 24,
        "width": 6,
        "height": 1,
        "label": "ipcam_2\t192.168.0.21",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "ipcam_2\t192.168.0.21",
        "x": 540,
        "y": 1380,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "aa07c518.d2e288",
        "type": "interval-length",
        "z": "ebdbbec9.aca16",
        "format": "human",
        "bytopic": true,
        "minimum": "",
        "maximum": "",
        "window": "1",
        "timeout": false,
        "msgTimeout": "",
        "minimumunit": "msecs",
        "maximumunit": "msecs",
        "windowunit": "msecs",
        "msgTimeoutUnit": "msecs",
        "reset": false,
        "startup": false,
        "msgField": "payload",
        "timestampField": "timestamp",
        "repeatTimeout": false,
        "name": "",
        "x": 800,
        "y": 1500,
        "wires": [
            [
                "81a4a525.f396e8"
            ],
            [
                "914253b1.3323b"
            ]
        ]
    },
    {
        "id": "81a4a525.f396e8",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 990,
        "y": 1440,
        "wires": []
    },
    {
        "id": "914253b1.3323b",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 990,
        "y": 1520,
        "wires": []
    },
    {
        "id": "d229649b.28de68",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 970,
        "y": 1360,
        "wires": []
    },
    {
        "id": "21787452.935a3c",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 270,
        "y": 260,
        "wires": []
    },
    {
        "id": "8e10e2d6.73e",
        "type": "ui_gauge",
        "z": "ebdbbec9.aca16",
        "d": true,
        "name": "",
        "group": "5e68df5e.f7016",
        "order": 4,
        "width": "2",
        "height": "2",
        "gtype": "gage",
        "title": "TinyPicoClock-192.168.0.44",
        "label": "ms",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1380,
        "y": 580,
        "wires": []
    },
    {
        "id": "c40da24d.da69a",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1190,
        "y": 640,
        "wires": [
            [
                "60396eec.d93ff"
            ]
        ]
    },
    {
        "id": "d2287b30.9814a8",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "TinyPicoClock-192.168.0.44",
        "host": "192.168.0.44",
        "timer": "5",
        "inputs": 0,
        "x": 960,
        "y": 600,
        "wires": [
            [
                "8e10e2d6.73e",
                "c40da24d.da69a"
            ]
        ]
    },
    {
        "id": "60396eec.d93ff",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 30,
        "width": 6,
        "height": 1,
        "label": "TinyPicoClock-192.168.0.44",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPicoClock-192.168.0.44",
        "x": 1380,
        "y": 640,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "36b479.75a79b88",
        "type": "ui_gauge",
        "z": "ebdbbec9.aca16",
        "d": true,
        "name": "",
        "group": "5e68df5e.f7016",
        "order": 4,
        "width": "2",
        "height": "2",
        "gtype": "gage",
        "title": "LIFX 1 192.168.0.51",
        "label": "ms",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1360,
        "y": 720,
        "wires": []
    },
    {
        "id": "10d80666.8a86ea",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1190,
        "y": 780,
        "wires": [
            [
                "c4026add.afaec8"
            ]
        ]
    },
    {
        "id": "ba63e155.60529",
        "type": "ping",
        "z": "ebdbbec9.aca16",
        "mode": null,
        "name": "LIFX 1 192.168.0.51",
        "host": "192.168.0.51",
        "timer": "5",
        "inputs": 0,
        "x": 930,
        "y": 740,
        "wires": [
            [
                "36b479.75a79b88",
                "10d80666.8a86ea"
            ]
        ]
    },
    {
        "id": "c4026add.afaec8",
        "type": "ui_led",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 16,
        "width": 6,
        "height": 1,
        "label": "LIFX 1 192.168.0.51",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LIFX 1 192.168.0.51",
        "x": 1360,
        "y": 780,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "ed2b88fe.0391e8",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 880,
        "y": 160,
        "wires": [
            [
                "58c2d592.09abfc",
                "37328c0f.829f24",
                "adfae550.fbb608"
            ]
        ]
    },
    {
        "id": "58c2d592.09abfc",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1150,
        "y": 120,
        "wires": []
    },
    {
        "id": "eb58e5c0.fac348",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 770,
        "y": 340,
        "wires": []
    },
    {
        "id": "37328c0f.829f24",
        "type": "ui_text",
        "z": "ebdbbec9.aca16",
        "group": "57aae029.da63c",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1200,
        "y": 160,
        "wires": []
    },
    {
        "id": "b3c5c1e8.9e9dd",
        "type": "ui_text",
        "z": "ebdbbec9.aca16",
        "group": "57aae029.da63c",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1230,
        "y": 200,
        "wires": []
    },
    {
        "id": "adfae550.fbb608",
        "type": "moment",
        "z": "ebdbbec9.aca16",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1090,
        "y": 200,
        "wires": [
            [
                "b3c5c1e8.9e9dd"
            ]
        ]
    },
    {
        "id": "2c55636c.1410ec",
        "type": "function",
        "z": "ebdbbec9.aca16",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1020,
        "y": 340,
        "wires": [
            [
                "1643dbb7.bb0c64",
                "86f9f17a.57af6",
                "e9bf470d.74db18"
            ]
        ]
    },
    {
        "id": "1643dbb7.bb0c64",
        "type": "debug",
        "z": "ebdbbec9.aca16",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1290,
        "y": 300,
        "wires": []
    },
    {
        "id": "86f9f17a.57af6",
        "type": "ui_text",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 36,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "Pico 2 Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1370,
        "y": 340,
        "wires": []
    },
    {
        "id": "e9e9ccf2.bd72b",
        "type": "ui_text",
        "z": "ebdbbec9.aca16",
        "group": "68a44d5b.0a65b4",
        "order": 32,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "Pico 2 Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1390,
        "y": 380,
        "wires": []
    },
    {
        "id": "e9bf470d.74db18",
        "type": "moment",
        "z": "ebdbbec9.aca16",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1230,
        "y": 380,
        "wires": [
            [
                "e9e9ccf2.bd72b"
            ]
        ]
    },
    {
        "id": "af7f0846.c54258",
        "type": "debug",
        "z": "e95d32cb.df9e9",
        "name": "Fan output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 690,
        "y": 1580,
        "wires": []
    },
    {
        "id": "34258eb3.6855c2",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Fan V2",
        "serviceName": "Fanv2",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.0.0",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"RotationSpeed\":true,\n    \"RotationDirection\":true,\n    \"SwingMode\":true\n}",
        "outputs": 2,
        "x": 460,
        "y": 1580,
        "wires": [
            [
                "af7f0846.c54258"
            ],
            []
        ]
    },
    {
        "id": "c49772bf.d6dc6",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"Active\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 1680,
        "wires": [
            [
                "34258eb3.6855c2"
            ]
        ]
    },
    {
        "id": "67fc372f.356a58",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "ON",
        "topic": "",
        "payload": "{\"Active\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 1580,
        "wires": [
            [
                "34258eb3.6855c2"
            ]
        ]
    },
    {
        "id": "312ad725.525b58",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "OFF",
        "topic": "",
        "payload": "{\"Active\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 1620,
        "wires": [
            [
                "34258eb3.6855c2"
            ]
        ]
    },
    {
        "id": "1d3cfa98.b726f5",
        "type": "debug",
        "z": "e95d32cb.df9e9",
        "name": "Color light output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 670,
        "y": 700,
        "wires": []
    },
    {
        "id": "cbc3f9cf.dfc0e8",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Color",
        "serviceName": "Lightbulb",
        "topic": "",
        "filter": false,
        "manufacturer": "Garrett",
        "model": "Color",
        "serialNo": "42",
        "firmwareRev": "1.2",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"Brightness\":true,\n    \"Hue\":true,\n    \"Saturation\":true\n}",
        "outputs": 2,
        "x": 450,
        "y": 700,
        "wires": [
            [
                "1d3cfa98.b726f5"
            ],
            []
        ]
    },
    {
        "id": "22dfa1e9.1eb44e",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"On\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 380,
        "y": 620,
        "wires": [
            [
                "cbc3f9cf.dfc0e8"
            ]
        ]
    },
    {
        "id": "48a23b44.338d84",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "ON",
        "topic": "",
        "payload": "{\"On\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 620,
        "wires": [
            [
                "cbc3f9cf.dfc0e8"
            ]
        ]
    },
    {
        "id": "ea539700.721d68",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Reset HSV",
        "topic": "",
        "payload": "{\"Brightness\":50,\"Hue\":50,\"Saturation\":50}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 700,
        "wires": [
            [
                "cbc3f9cf.dfc0e8"
            ]
        ]
    },
    {
        "id": "c9c2e0d6.9c78c",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "OFF",
        "topic": "",
        "payload": "{\"On\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 660,
        "wires": [
            [
                "cbc3f9cf.dfc0e8"
            ]
        ]
    },
    {
        "id": "fee1459.eef6cb8",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Dimmable",
        "serviceName": "Lightbulb",
        "topic": "",
        "filter": false,
        "manufacturer": "Garrett",
        "model": "Dummy",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.1.9",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"Brightness\":true\n}",
        "outputs": 2,
        "x": 420,
        "y": 520,
        "wires": [
            [
                "fab05c79.3ee76"
            ],
            []
        ]
    },
    {
        "id": "fab05c79.3ee76",
        "type": "debug",
        "z": "e95d32cb.df9e9",
        "name": "Dimmable light output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 660,
        "y": 520,
        "wires": []
    },
    {
        "id": "afb82cb6.1c83d",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"On\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 360,
        "y": 480,
        "wires": [
            [
                "fee1459.eef6cb8"
            ]
        ]
    },
    {
        "id": "3aca52e0.49471e",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "ON",
        "topic": "",
        "payload": "{\"On\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 480,
        "wires": [
            [
                "fee1459.eef6cb8"
            ]
        ]
    },
    {
        "id": "36e69f47.f2709",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "OFF",
        "topic": "",
        "payload": "{\"On\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 520,
        "wires": [
            [
                "fee1459.eef6cb8"
            ]
        ]
    },
    {
        "id": "c4ff5b91.e220c8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "off",
        "topic": "",
        "payload": "{\"CurrentAirPurifierState\":0}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 80,
        "wires": [
            [
                "175117cb.7a0328"
            ]
        ]
    },
    {
        "id": "175117cb.7a0328",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Air purifier",
        "serviceName": "AirPurifier",
        "topic": "",
        "filter": false,
        "manufacturer": "Purity",
        "model": "Air",
        "serialNo": "23",
        "firmwareRev": "1.0.0",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"SwingMode\":true,\n    \"RotationSpeed\":true,\n    \"LockPhysicalControls\":true\n}",
        "outputs": 2,
        "x": 330,
        "y": 80,
        "wires": [
            [
                "4c75df40.6b7f8",
                "d00a1316.8de2b"
            ],
            []
        ]
    },
    {
        "id": "4c75df40.6b7f8",
        "type": "debug",
        "z": "e95d32cb.df9e9",
        "name": "Purifier output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 460,
        "y": 160,
        "wires": []
    },
    {
        "id": "d00a1316.8de2b",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "on/off",
        "func": "if (msg.hap !== undefined && msg.hap.context !== undefined){\n    if (msg.payload.Active === 1){\n        return [msg,null];\n    }\n    if (msg.payload.Active === 0){\n        return [null,msg];\n    }\n}\nreturn;",
        "outputs": 2,
        "noerr": 0,
        "x": 490,
        "y": 80,
        "wires": [
            [
                "c79c47ee.aa93c8",
                "44b38313.0372fc"
            ],
            [
                "f07f60e6.b14bd"
            ]
        ],
        "outputLabels": [
            "On",
            "Off"
        ]
    },
    {
        "id": "9316c41f.3f75a8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "idle",
        "topic": "",
        "payload": "{\"CurrentAirPurifierState\":1}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 120,
        "wires": [
            [
                "175117cb.7a0328"
            ]
        ]
    },
    {
        "id": "3aaef6f4.2951aa",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "on",
        "topic": "",
        "payload": "{\"CurrentAirPurifierState\":2}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 160,
        "wires": [
            [
                "175117cb.7a0328"
            ]
        ]
    },
    {
        "id": "a0bb148.5da33e8",
        "type": "link in",
        "z": "e95d32cb.df9e9",
        "name": "",
        "links": [
            "d62c08c5.eb36c8"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "175117cb.7a0328"
            ]
        ]
    },
    {
        "id": "c79c47ee.aa93c8",
        "type": "trigger",
        "z": "e95d32cb.df9e9",
        "op1": "",
        "op2": "{\"CurrentAirPurifierState\":1}",
        "op1type": "nul",
        "op2type": "json",
        "duration": "5",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "5 sec to idle",
        "x": 690,
        "y": 80,
        "wires": [
            [
                "d62c08c5.eb36c8"
            ]
        ]
    },
    {
        "id": "44b38313.0372fc",
        "type": "trigger",
        "z": "e95d32cb.df9e9",
        "op1": "",
        "op2": "{\"CurrentAirPurifierState\":2}",
        "op1type": "nul",
        "op2type": "json",
        "duration": "10",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "10 sec to on",
        "x": 690,
        "y": 120,
        "wires": [
            [
                "d62c08c5.eb36c8"
            ]
        ]
    },
    {
        "id": "f07f60e6.b14bd",
        "type": "trigger",
        "z": "e95d32cb.df9e9",
        "op1": "",
        "op2": "{\"CurrentAirPurifierState\":0}",
        "op1type": "nul",
        "op2type": "json",
        "duration": "5",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "5 sec to off",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "d62c08c5.eb36c8"
            ]
        ]
    },
    {
        "id": "d62c08c5.eb36c8",
        "type": "link out",
        "z": "e95d32cb.df9e9",
        "name": "",
        "links": [
            "a0bb148.5da33e8"
        ],
        "x": 835,
        "y": 120,
        "wires": []
    },
    {
        "id": "a4ede105.d8469",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "CO detector",
        "serviceName": "CarbonMonoxideSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "MONOxide",
        "model": "1",
        "serialNo": "2",
        "firmwareRev": "2",
        "hardwareRev": "2",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"CarbonMonoxideLevel\":{\n        \"maxValue\":5000\n    },\n    \"CarbonMonoxidePeakLevel\":{\n        \"maxValue\":5000\n    },\n    \"CarbonDioxideLevel\":true,\n    \"CarbonDioxidePeakLevel\":true\n}",
        "outputs": 2,
        "x": 710,
        "y": 1020,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a36ca5a3.b77da8",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "Carbon DIoxide",
        "func": "if(msg.payload === 0){\n    context.set('lastPeak',0);\n    newMsg = {\n        payload: {\n            \"CarbonDioxideLevel\":0\n        }\n    }\n    return newMsg;\n}\n\n// Initialize vars\nvar CurrentLevel = 0;\nvar lastPeak = context.get('lastPeak');\n\n// Set random level\nif(msg.payload === \"CO2\"){\n    CurrentLevel = Math.floor(Math.random() * (100000 - 1 + 1) + 1);\n}\n\n\n// Formulate output message\nvar newMsg = {\n    payload: {\n        \"CarbonDioxideLevel\" : CurrentLevel\n    }\n};\n\n// Set new peak level\nif(CurrentLevel > lastPeak){\n    lastPeak = CurrentLevel;\n    context.set('lastPeak',CurrentLevel);\n    newMsg.payload.CarbonDioxidePeakLevel = CurrentLevel;\n}\n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 420,
        "y": 1180,
        "wires": [
            [
                "a4ede105.d8469"
            ]
        ]
    },
    {
        "id": "b97e2f7e.45523",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "Carbon MONoxide",
        "func": "// Reset all values to 0 if 0ppm input\nif(msg.payload === 0){\n    context.set('lastPeak',0);\n    newMsg = {\n        payload: {\n            \"CarbonMonoxideLevel\":0,\n            \"CarbonMonoxidePeakLevel\":0,\n            \"CarbonMonoxideDetected\":0\n        }\n    };\n    return newMsg;\n}\n\n// Initialize vars\nvar CurrentLevel = 0;\nvar lastPeak = context.get('lastPeak');\n\n// Set random Low or Dangerous levels\nif(msg.payload === \"Low\"){\n    CurrentLevel = Math.floor(Math.random() * (35 - 1 + 1) + 1);\n}\nif(msg.payload === \"Danger\"){\n    CurrentLevel = Math.floor(Math.random() * (5000 - 35 + 1) + 35);\n}\n\n// Formulate output message\nvar newMsg = {\n    payload: {\n        \"CarbonMonoxideLevel\" : CurrentLevel,\n        \"CarbonMonoxideDetected\" : 0\n    }\n};\n\n// Set new peak level\nif(CurrentLevel > lastPeak){\n    lastPeak = CurrentLevel;\n    context.set('lastPeak',CurrentLevel);\n    newMsg.payload.CarbonMonoxidePeakLevel = CurrentLevel;\n}\n\n// Set warning if dangerous\nif (CurrentLevel >= 35) {\n    newMsg.payload.CarbonMonoxideDetected = 1;\n} \n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 1060,
        "wires": [
            [
                "a4ede105.d8469"
            ]
        ]
    },
    {
        "id": "aad2e161.d5fa5",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"CarbonMonoxideLevel\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 440,
        "y": 1020,
        "wires": [
            [
                "a4ede105.d8469"
            ]
        ]
    },
    {
        "id": "b5066d4d.a04ee",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Clear CO2 Peak",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 1180,
        "wires": [
            [
                "a36ca5a3.b77da8"
            ]
        ]
    },
    {
        "id": "5eb7b883.67bf18",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "0 ppm",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 1020,
        "wires": [
            [
                "b97e2f7e.45523"
            ]
        ]
    },
    {
        "id": "9c44c6f0.4e8908",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "CO2 Level",
        "topic": "",
        "payload": "CO2",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 1220,
        "wires": [
            [
                "a36ca5a3.b77da8"
            ]
        ]
    },
    {
        "id": "809d1685.5b7648",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Low level",
        "topic": "",
        "payload": "Low",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 1060,
        "wires": [
            [
                "b97e2f7e.45523"
            ]
        ]
    },
    {
        "id": "348f5a51.787986",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Danger level",
        "topic": "",
        "payload": "Danger",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "b97e2f7e.45523"
            ]
        ]
    },
    {
        "id": "921e444c.8686e8",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Contact Sensor",
        "serviceName": "ContactSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "Full Contact",
        "model": "Door",
        "serialNo": "Sensor",
        "firmwareRev": "1.0.0",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"StatusTampered\":true,\n    \"StatusLowBattery\":true\n}",
        "outputs": 2,
        "x": 700,
        "y": 1320,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3d034f37.e7013",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Tampered",
        "topic": "",
        "payload": "{\"StatusTampered\":1}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 1440,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "16bf1b74.2dcff5",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Clear tampered",
        "topic": "",
        "payload": "{\"StatusTampered\":0}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 1480,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "499c80c4.f7e63",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Low batt",
        "topic": "",
        "payload": "{\"StatusLowBattery\":1}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 520,
        "y": 1440,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "b7212fd0.4e169",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Good batt",
        "topic": "",
        "payload": "{\"StatusLowBattery\":0}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 520,
        "y": 1480,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "831ff6fb.c12d38",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"ContactSensorState\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 1380,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "f156458a.dfb6e8",
        "type": "trigger",
        "z": "e95d32cb.df9e9",
        "op1": "",
        "op2": "{\"ContactSensorState\":0}",
        "op1type": "pay",
        "op2type": "json",
        "duration": "10",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "10 Sec open",
        "x": 390,
        "y": 1320,
        "wires": [
            [
                "921e444c.8686e8"
            ]
        ]
    },
    {
        "id": "3fd1b89b.f09428",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Open",
        "topic": "",
        "payload": "{\"ContactSensorState\":1}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "x": 150,
        "y": 1320,
        "wires": [
            [
                "f156458a.dfb6e8"
            ]
        ]
    },
    {
        "id": "e4dc4e54.d2cbc",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "CO2 Sensor",
        "serviceName": "CarbonDioxideSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Carbon",
        "serialNo": "Default Serial Number",
        "firmwareRev": "22",
        "hardwareRev": "11",
        "cameraConfigVideoProcessor": "",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": "",
        "cameraConfigMaxWidth": "",
        "cameraConfigMaxHeight": "",
        "cameraConfigMaxFPS": "",
        "cameraConfigMaxBitrate": "",
        "cameraConfigVideoCodec": "",
        "cameraConfigAudioCodec": "",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": "",
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "",
        "cameraConfigMapAudio": "",
        "cameraConfigVideoFilter": "",
        "cameraConfigAdditionalCommandLine": "",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"CarbonDioxideLevel\" : true,\n    \"CarbonDioxidePeakLevel\": true,\n    \"StatusActive\" : true\n}",
        "outputs": 2,
        "x": 710,
        "y": 800,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f479a85e.f3eca8",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "Random values, peak value",
        "func": "// Reset all values to 0 if 0ppm input\nif(msg.payload === 0){\n    context.set('lastPeak',0);\n    newMsg = {\n        payload: {\n            \"CarbonDioxideLevel\":0,\n            \"CarbonDioxidePeakLevel\":0,\n            \"CarbonDioxideDetected\":0\n        }\n    };\n    return newMsg;\n}\n\n// Initialize vars\nvar CurrentLevel = 0;\nvar lastPeak = context.get('lastPeak');\n\n// Set random safe or dangerous levels\nif(msg.payload === \"Safe\"){\n    CurrentLevel = Math.floor(Math.random() * (999 - 1 + 1) + 1);\n}\nif(msg.payload === \"Danger\"){\n    CurrentLevel = Math.floor(Math.random() * (100000 - 1000 + 1) + 1000);\n}\n\n// Formulate output message\nvar newMsg = {\n    payload: {\n        \"CarbonDioxideLevel\" : CurrentLevel,\n        \"CarbonDioxideDetected\" : 0\n    }\n};\n\n// Set new peak level\nif(CurrentLevel > lastPeak){\n    lastPeak = CurrentLevel;\n    context.set('lastPeak',CurrentLevel);\n    newMsg.payload.CarbonDioxidePeakLevel = CurrentLevel;\n}\n\n// Set warning if dangerous\nif (CurrentLevel >= 1000) {\n    newMsg.payload.CarbonDioxideDetected = 1;\n} \n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 440,
        "y": 800,
        "wires": [
            [
                "e4dc4e54.d2cbc"
            ]
        ]
    },
    {
        "id": "82bfa524.b1d6d8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Active",
        "topic": "",
        "payload": "{\"StatusActive\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 510,
        "y": 840,
        "wires": [
            [
                "e4dc4e54.d2cbc"
            ]
        ]
    },
    {
        "id": "4fb889c4.d393c8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Inactive",
        "topic": "",
        "payload": "{\"StatusActive\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 510,
        "y": 880,
        "wires": [
            [
                "e4dc4e54.d2cbc"
            ]
        ]
    },
    {
        "id": "bb264ac3.ff0628",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"CarbonDioxideLevel\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 480,
        "y": 920,
        "wires": [
            [
                "e4dc4e54.d2cbc"
            ]
        ]
    },
    {
        "id": "23c319af.977e76",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "0 ppm",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 800,
        "wires": [
            [
                "f479a85e.f3eca8"
            ]
        ]
    },
    {
        "id": "1d034f0c.af9ce1",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Safe Level",
        "topic": "",
        "payload": "Safe",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 840,
        "wires": [
            [
                "f479a85e.f3eca8"
            ]
        ]
    },
    {
        "id": "70de074.94457f8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Dangerous level",
        "topic": "",
        "payload": "Danger",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 880,
        "wires": [
            [
                "f479a85e.f3eca8"
            ]
        ]
    },
    {
        "id": "2c7e786d.b535a8",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Air Quality",
        "serviceName": "AirQualitySensor",
        "topic": "",
        "filter": false,
        "manufacturer": "Quality",
        "model": "Battery",
        "serialNo": "777",
        "firmwareRev": "8.3",
        "hardwareRev": "2.1",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"AirQuality\":true,\n    \"PM2_5Density\":true,\n    \"PM10Density\":true\n}",
        "outputs": 2,
        "x": 710,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1ecfda6c.59dfa6",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Air quality random",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "15",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "x": 190,
        "y": 260,
        "wires": [
            [
                "2885cb9d.376954"
            ]
        ]
    },
    {
        "id": "ccea1bfc.ea5728",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Battery random",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "x": 180,
        "y": 360,
        "wires": [
            [
                "4395b124.1c9d7"
            ]
        ]
    },
    {
        "id": "4395b124.1c9d7",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "Batt",
        "func": "// Define random battery level\nconst level = Math.floor(Math.random() * Math.floor(100))\nvar newMsg = {\n    payload: {\n        \"BatteryLevel\": level\n    }\n};\n\n// Show \"Low Battery\" if less than 10%\nif (level < 10)newMsg.payload.StatusLowBattery = 1;\nelse newMsg.payload.StatusLowBattery = 0;\n\n// Show \"Charging\" if greater than 60%\nif (level > 60) newMsg.payload.ChargingState = 1;\nelse newMsg.payload.ChargingState = 0;\n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 360,
        "wires": [
            [
                "1aafe92f.108477"
            ]
        ]
    },
    {
        "id": "a53ffe54.dae64",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"AirQuality\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 460,
        "y": 300,
        "wires": [
            [
                "2c7e786d.b535a8"
            ]
        ]
    },
    {
        "id": "2885cb9d.376954",
        "type": "function",
        "z": "e95d32cb.df9e9",
        "name": "Random values",
        "func": "var newMsg = {\n    \"payload\":{\n        \"AirQuality\":Math.floor(Math.random() * Math.floor(5)),\n        \"PM2_5Density\":Math.floor(Math.random() * Math.floor(1000)),\n        \"PM10Density\":Math.floor(Math.random() * Math.floor(1000)),\n        \"OzoneDensity\":Math.floor(Math.random() * Math.floor(1000)),\n        \"NitrogenDioxideDensity\":Math.floor(Math.random() * Math.floor(1000)),\n        \"SulphurDioxideDensity\": Math.floor(Math.random() * Math.floor(1000))\n    }\n}\n\n\n\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 260,
        "wires": [
            [
                "2c7e786d.b535a8"
            ]
        ]
    },
    {
        "id": "1aafe92f.108477",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": false,
        "bridge": "",
        "parentService": "e4dc4e54.d2cbc",
        "name": "Battery",
        "serviceName": "BatteryService",
        "topic": "Air Quality",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.0.0",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 700,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9b76c353.1e7b2",
        "type": "debug",
        "z": "e95d32cb.df9e9",
        "name": "Fan output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 690,
        "y": 1780,
        "wires": []
    },
    {
        "id": "5181bda1.602c64",
        "type": "homekit-service",
        "z": "e95d32cb.df9e9",
        "isParent": true,
        "bridge": "b1fc8492.11d178",
        "parentService": "",
        "name": "Fan Speeds",
        "serviceName": "Fan",
        "topic": "",
        "filter": false,
        "manufacturer": "Gman",
        "model": "Default Model",
        "serialNo": "CRX1",
        "firmwareRev": "1.0.0",
        "hardwareRev": "1.0.0",
        "softwareRev": "1.0.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\n    \"RotationSpeed\": {\n        \"minValue\":0,\n        \"maxValue\":99,\n        \"minStep\":33\n    }\n}",
        "outputs": 2,
        "x": 470,
        "y": 1780,
        "wires": [
            [
                "9b76c353.1e7b2"
            ],
            []
        ]
    },
    {
        "id": "902964b6.2cd4e8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "NO RESPONSE",
        "topic": "",
        "payload": "{\"On\":\"NO_RESPONSE\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 420,
        "y": 1860,
        "wires": [
            [
                "5181bda1.602c64"
            ]
        ]
    },
    {
        "id": "cc28841b.345368",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "OFF",
        "topic": "",
        "payload": "{\"On\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 1780,
        "wires": [
            [
                "5181bda1.602c64"
            ]
        ]
    },
    {
        "id": "92253b9c.b7c4c8",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Low",
        "topic": "",
        "payload": "{\"On\":true,\"RotationSpeed\":33}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 1820,
        "wires": [
            [
                "5181bda1.602c64"
            ]
        ]
    },
    {
        "id": "6bfd166c.751078",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "Medium",
        "topic": "",
        "payload": "{\"On\":true,\"RotationSpeed\":66}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 1860,
        "wires": [
            [
                "5181bda1.602c64"
            ]
        ]
    },
    {
        "id": "d7c5405c.625d7",
        "type": "inject",
        "z": "e95d32cb.df9e9",
        "name": "High",
        "topic": "",
        "payload": "{\"On\":true,\"RotationSpeed\":99}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 1900,
        "wires": [
            [
                "5181bda1.602c64"
            ]
        ]
    },
    {
        "id": "ec6ea064.d6ea7",
        "type": "homekit-service",
        "z": "92c87692.1cc048",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LaundryPIR",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "12345678",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 1010,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "14757847.944778",
        "type": "change",
        "z": "92c87692.1cc048",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "ec6ea064.d6ea7"
            ]
        ]
    },
    {
        "id": "f9f166ee.987728",
        "type": "homekit-service",
        "z": "b63e3fc.e0893c",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LoungeGPO1",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 540,
        "y": 380,
        "wires": [
            [
                "e0010635.281f38"
            ],
            []
        ]
    },
    {
        "id": "d2c78da7.6fb96",
        "type": "debug",
        "z": "b63e3fc.e0893c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 810,
        "y": 540,
        "wires": []
    },
    {
        "id": "e0010635.281f38",
        "type": "change",
        "z": "b63e3fc.e0893c",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 440,
        "wires": [
            [
                "a4965bba.ae5d08"
            ]
        ]
    },
    {
        "id": "ef5f41da.c6e8b",
        "type": "change",
        "z": "b63e3fc.e0893c",
        "name": "Tasmota to Homekit",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 320,
        "wires": [
            [
                "f9f166ee.987728"
            ]
        ]
    },
    {
        "id": "54a7740d.f8620c",
        "type": "homekit-service",
        "z": "b63e3fc.e0893c",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LoungeGPO2",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 220,
        "y": 740,
        "wires": [
            [
                "ee66d3ca.5d875"
            ],
            []
        ]
    },
    {
        "id": "ee66d3ca.5d875",
        "type": "change",
        "z": "b63e3fc.e0893c",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 800,
        "wires": [
            [
                "2f1132a2.27a89e"
            ]
        ]
    },
    {
        "id": "ae00b429.d49ca8",
        "type": "change",
        "z": "b63e3fc.e0893c",
        "name": "Tasmota to Homekit",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 680,
        "wires": [
            [
                "54a7740d.f8620c"
            ]
        ]
    },
    {
        "id": "74d72484.565e0c",
        "type": "mqtt in",
        "z": "eaa9c18e.51913",
        "name": "",
        "topic": "frontgate/pir",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 190,
        "y": 260,
        "wires": [
            [
                "37575823.ea6428",
                "2926f4c8.e3992c",
                "62ce8dcc.7b06a4"
            ]
        ]
    },
    {
        "id": "37575823.ea6428",
        "type": "debug",
        "z": "eaa9c18e.51913",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1330,
        "y": 240,
        "wires": []
    },
    {
        "id": "7a77ea74.74f644",
        "type": "mqtt out",
        "z": "eaa9c18e.51913",
        "name": "",
        "topic": "frontgate/led",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 630,
        "y": 280,
        "wires": []
    },
    {
        "id": "2926f4c8.e3992c",
        "type": "change",
        "z": "eaa9c18e.51913",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "frontgate/led",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 260,
        "wires": [
            [
                "37575823.ea6428",
                "7a77ea74.74f644"
            ]
        ]
    },
    {
        "id": "310f78c5.8b9038",
        "type": "mqtt in",
        "z": "eaa9c18e.51913",
        "name": "",
        "topic": "frontgate/status",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 200,
        "y": 200,
        "wires": [
            [
                "37575823.ea6428"
            ]
        ]
    },
    {
        "id": "fdc685cb.e04528",
        "type": "function",
        "z": "eaa9c18e.51913",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 720,
        "y": 420,
        "wires": [
            [
                "a0f894d8.c12678",
                "78e20e4c.3f81c",
                "d936cdff.ab3cd"
            ]
        ]
    },
    {
        "id": "a0f894d8.c12678",
        "type": "debug",
        "z": "eaa9c18e.51913",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1330,
        "y": 380,
        "wires": []
    },
    {
        "id": "78e20e4c.3f81c",
        "type": "ui_text",
        "z": "eaa9c18e.51913",
        "group": "43f6f1df.3c283",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Motion Lasted (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1130,
        "y": 420,
        "wires": []
    },
    {
        "id": "5e16e90c.ba2828",
        "type": "ui_text",
        "z": "eaa9c18e.51913",
        "group": "43f6f1df.3c283",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Motion @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1180,
        "y": 460,
        "wires": []
    },
    {
        "id": "d936cdff.ab3cd",
        "type": "moment",
        "z": "eaa9c18e.51913",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 930,
        "y": 460,
        "wires": [
            [
                "5e16e90c.ba2828"
            ]
        ]
    },
    {
        "id": "62ce8dcc.7b06a4",
        "type": "change",
        "z": "eaa9c18e.51913",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "ON",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "OFF",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 360,
        "wires": [
            [
                "fdc685cb.e04528",
                "a0f894d8.c12678",
                "8c9ed9ef.d3dfa8"
            ]
        ]
    },
    {
        "id": "36582b1c.0a1564",
        "type": "homekit-service",
        "z": "eaa9c18e.51913",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "frontgate motion",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 540,
        "y": 500,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4d76f034.73825",
        "type": "change",
        "z": "eaa9c18e.51913",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 500,
        "wires": [
            [
                "36582b1c.0a1564"
            ]
        ]
    },
    {
        "id": "8c9ed9ef.d3dfa8",
        "type": "trigger",
        "z": "eaa9c18e.51913",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "4d76f034.73825"
            ]
        ]
    },
    {
        "id": "8757ea13.ee4cf8",
        "type": "function",
        "z": "eaa9c18e.51913",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 660,
        "wires": [
            [
                "ca75cf9c.02da8",
                "6b798a4d.4b9934",
                "82cd7737.af7f58"
            ]
        ]
    },
    {
        "id": "ca75cf9c.02da8",
        "type": "debug",
        "z": "eaa9c18e.51913",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 910,
        "y": 740,
        "wires": []
    },
    {
        "id": "6b798a4d.4b9934",
        "type": "ui_text",
        "z": "eaa9c18e.51913",
        "group": "43f6f1df.3c283",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1140,
        "y": 660,
        "wires": []
    },
    {
        "id": "722dd7a6.d157f8",
        "type": "ui_text",
        "z": "eaa9c18e.51913",
        "d": true,
        "group": "43f6f1df.3c283",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1170,
        "y": 700,
        "wires": []
    },
    {
        "id": "82cd7737.af7f58",
        "type": "moment",
        "z": "eaa9c18e.51913",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 910,
        "y": 700,
        "wires": [
            [
                "722dd7a6.d157f8"
            ]
        ]
    },
    {
        "id": "4a55c6c0.66a408",
        "type": "function",
        "z": "eaa9c18e.51913",
        "name": "online unless not online",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 620,
        "wires": [
            [
                "85c3b3d0.e0765",
                "8757ea13.ee4cf8",
                "96792dd7.cc352"
            ]
        ]
    },
    {
        "id": "83e54a5b.3febc8",
        "type": "ping",
        "z": "eaa9c18e.51913",
        "mode": null,
        "name": "nodemcu1",
        "host": "192.168.0.54",
        "timer": "5",
        "inputs": 0,
        "x": 160,
        "y": 580,
        "wires": [
            [
                "4a55c6c0.66a408",
                "b29cd1b7.01e9f"
            ]
        ]
    },
    {
        "id": "85c3b3d0.e0765",
        "type": "debug",
        "z": "eaa9c18e.51913",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 610,
        "y": 700,
        "wires": []
    },
    {
        "id": "b29cd1b7.01e9f",
        "type": "debug",
        "z": "eaa9c18e.51913",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 330,
        "y": 660,
        "wires": []
    },
    {
        "id": "96792dd7.cc352",
        "type": "ui_led",
        "z": "eaa9c18e.51913",
        "group": "43f6f1df.3c283",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1190,
        "y": 620,
        "wires": []
    },
    {
        "id": "9ca3bedf.92b5b",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "+/tasmota_8EBFE6/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 720,
        "y": 300,
        "wires": [
            [
                "bb302cb0.899ff"
            ]
        ]
    },
    {
        "id": "58206e59.b2451",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 510,
        "y": 1640,
        "wires": []
    },
    {
        "id": "4949151c.4c067c",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/output",
        "payload": "on",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1420,
        "wires": [
            [
                "ba20bd56.d97ca",
                "682070e1.4abf8"
            ]
        ]
    },
    {
        "id": "ba20bd56.d97ca",
        "type": "mqtt out",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/output",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 640,
        "y": 1460,
        "wires": []
    },
    {
        "id": "9d321add.1a63f8",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/output",
        "payload": "off",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1480,
        "wires": [
            [
                "ba20bd56.d97ca",
                "682070e1.4abf8"
            ]
        ]
    },
    {
        "id": "c2083bca.731798",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "outTopic",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 80,
        "y": 1660,
        "wires": [
            [
                "58206e59.b2451",
                "b02fea46.dc6328"
            ]
        ]
    },
    {
        "id": "ac0ae3e6.b5cfd",
        "type": "ui_button",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "group": "57aae029.da63c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "button on",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "on",
        "payloadType": "str",
        "topic": "esp32/output",
        "x": 240,
        "y": 1380,
        "wires": [
            [
                "ba20bd56.d97ca",
                "682070e1.4abf8"
            ]
        ]
    },
    {
        "id": "4efb1042.a5037",
        "type": "ui_button",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "group": "57aae029.da63c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "button off",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "off",
        "payloadType": "str",
        "topic": "esp32/output",
        "x": 240,
        "y": 1520,
        "wires": [
            [
                "ba20bd56.d97ca",
                "682070e1.4abf8"
            ]
        ]
    },
    {
        "id": "107281e5.f593ce",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 190,
        "y": 20,
        "wires": [
            [
                "831b6bbb.a28f48"
            ]
        ]
    },
    {
        "id": "831b6bbb.a28f48",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 20,
        "wires": []
    },
    {
        "id": "b02fea46.dc6328",
        "type": "influxdb out",
        "z": "4e68cfeb.fa3a4",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "segmeter",
        "precision": "s",
        "retentionPolicy": "",
        "x": 610,
        "y": 1700,
        "wires": []
    },
    {
        "id": "a6a22b2b.86c498",
        "type": "Tasmota Switch",
        "z": "44566d59.83dfb4",
        "broker": "9622b515.1f1858",
        "device": "tasmota_F6AD04",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 390,
        "y": 200,
        "wires": [
            [
                "8efb3531.5f0328"
            ]
        ]
    },
    {
        "id": "8efb3531.5f0328",
        "type": "ui_switch",
        "z": "44566d59.83dfb4",
        "name": "",
        "label": "SONOFF GLOBE F6AD04",
        "tooltip": "",
        "group": "5523aa99.3ef2b4",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 440,
        "y": 120,
        "wires": [
            [
                "a6a22b2b.86c498"
            ]
        ]
    },
    {
        "id": "c720a5df.2c3ee8",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 160,
        "wires": [
            [
                "a6a22b2b.86c498"
            ]
        ]
    },
    {
        "id": "30a43cf3.ce6d44",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 200,
        "wires": [
            [
                "a6a22b2b.86c498"
            ]
        ]
    },
    {
        "id": "867afae4.75b508",
        "type": "Tasmota Switch",
        "z": "44566d59.83dfb4",
        "broker": "9622b515.1f1858",
        "device": "tasmota_5AE120",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 870,
        "y": 420,
        "wires": [
            [
                "2dc30537.0d6dca",
                "531c8ead.8c709"
            ]
        ]
    },
    {
        "id": "2dc30537.0d6dca",
        "type": "ui_switch",
        "z": "44566d59.83dfb4",
        "name": "",
        "label": "SONOFF POWER 5AE120",
        "tooltip": "",
        "group": "7615e071.615c1",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 860,
        "y": 320,
        "wires": [
            [
                "867afae4.75b508"
            ]
        ]
    },
    {
        "id": "81934a54.d42d58",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 530,
        "y": 520,
        "wires": [
            [
                "867afae4.75b508",
                "752a696d.5799f8"
            ]
        ]
    },
    {
        "id": "e32b529f.136c9",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 530,
        "y": 560,
        "wires": [
            [
                "867afae4.75b508",
                "752a696d.5799f8"
            ]
        ]
    },
    {
        "id": "82a0c3c0.af341",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "57aae029.da63c",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Power W",
        "format": "{{payload.P1}}",
        "layout": "row-spread",
        "x": 520,
        "y": 1760,
        "wires": []
    },
    {
        "id": "3afcf6b7.b3b11a",
        "type": "openweathermap in",
        "z": "4a2f9b04.323ac4",
        "name": "622de6297164cfe7dd860624bd9eeb95",
        "wtype": "current",
        "lon": "",
        "lat": "",
        "city": "melbourne",
        "country": "au",
        "language": "en",
        "x": 510,
        "y": 460,
        "wires": [
            [
                "30b9f77.ace0a08",
                "a2f32936.65c4e8",
                "e353cc85.73005",
                "57101c2e.0aa2c4",
                "d80dd74.792ef28",
                "75e8bc5f.7ab7d4",
                "699a8c24.7c07b4"
            ]
        ]
    },
    {
        "id": "30b9f77.ace0a08",
        "type": "debug",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 990,
        "y": 420,
        "wires": []
    },
    {
        "id": "a2f32936.65c4e8",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload.tempc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 460,
        "wires": []
    },
    {
        "id": "e353cc85.73005",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Max",
        "format": "{{payload.temp_maxc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 500,
        "wires": []
    },
    {
        "id": "57101c2e.0aa2c4",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Min",
        "format": "{{payload.temp_minc}}",
        "layout": "row-spread",
        "x": 990,
        "y": 540,
        "wires": []
    },
    {
        "id": "d80dd74.792ef28",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wind Speed",
        "format": "{{payload.windspeed}}",
        "layout": "row-spread",
        "x": 1010,
        "y": 580,
        "wires": []
    },
    {
        "id": "75e8bc5f.7ab7d4",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wind Dir",
        "format": "{{payload.winddirection}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 620,
        "wires": []
    },
    {
        "id": "699a8c24.7c07b4",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f4f15e69.ca4a6",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Detail",
        "format": "{{payload.detail}}",
        "layout": "row-spread",
        "x": 990,
        "y": 660,
        "wires": []
    },
    {
        "id": "8a88b92e.6a8628",
        "type": "openweathermap in",
        "z": "4a2f9b04.323ac4",
        "name": "OpenWeatherMap Forecast",
        "wtype": "forecast",
        "lon": "",
        "lat": "",
        "city": "Melbourne",
        "country": "AU",
        "language": "en",
        "x": 180,
        "y": 180,
        "wires": [
            [
                "44c0c42.2cc0d3c",
                "aeef2029.a7311",
                "b880542d.0de9a8",
                "383607c9.735cb8",
                "62924473.6391fc",
                "63c77c7e.c17b74",
                "49d23290.39e82c",
                "5f28786f.08e558",
                "21ce780a.1a1b48",
                "db67e512.de8518",
                "ff34a8a5.4b0798",
                "76f60541.8e9d6c",
                "629b0d21.1858a4",
                "6f5e6d4.f1fcd94"
            ]
        ]
    },
    {
        "id": "bb302cb0.899ff",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 950,
        "y": 300,
        "wires": []
    },
    {
        "id": "196bfc52.8d7674",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "57aae029.da63c",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Lights W",
        "format": "{{payload.P2}}",
        "layout": "row-spread",
        "x": 520,
        "y": 1800,
        "wires": []
    },
    {
        "id": "58dc15f5.b64c5c",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_F6AD04/STATE",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 140,
        "y": 620,
        "wires": [
            [
                "5e03489.aa1b8b8",
                "506dd81b.534218",
                "e6090767.237938",
                "d23ec39b.7d93a"
            ]
        ]
    },
    {
        "id": "5e03489.aa1b8b8",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "7615e071.615c1",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi Signal",
        "format": "{{payload.Wifi.Signal}}",
        "layout": "row-spread",
        "x": 410,
        "y": 620,
        "wires": []
    },
    {
        "id": "506dd81b.534218",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 700,
        "wires": []
    },
    {
        "id": "e6090767.237938",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "7615e071.615c1",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi RSSI",
        "format": "{{payload.Wifi.RSSI}}",
        "layout": "row-spread",
        "x": 400,
        "y": 580,
        "wires": []
    },
    {
        "id": "59ab6fe0.462be",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_5AE120/STATE",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 180,
        "y": 1000,
        "wires": [
            [
                "464a6ff4.8a66a",
                "3fd34241.24c7ce",
                "7c77b00c.60cb4",
                "89187314.d6405"
            ]
        ]
    },
    {
        "id": "464a6ff4.8a66a",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi Signal",
        "format": "{{payload.Wifi.Signal}}",
        "layout": "row-spread",
        "x": 630,
        "y": 1000,
        "wires": []
    },
    {
        "id": "3fd34241.24c7ce",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 1080,
        "wires": []
    },
    {
        "id": "7c77b00c.60cb4",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi RSSI",
        "format": "{{payload.Wifi.RSSI}}",
        "layout": "row-spread",
        "x": 620,
        "y": 960,
        "wires": []
    },
    {
        "id": "22d4e8c3.bda198",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "57aae029.da63c",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Outside Temp",
        "format": "{{payload.T1}}",
        "layout": "row-spread",
        "x": 540,
        "y": 1940,
        "wires": []
    },
    {
        "id": "37014bc.a3563b4",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "57aae029.da63c",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Inside SEG Temp",
        "format": "{{payload.T2}}",
        "layout": "row-spread",
        "x": 550,
        "y": 1980,
        "wires": []
    },
    {
        "id": "75a89ca8.a33764",
        "type": "node-lifx-out",
        "z": "ac407144.c6bff",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 70,
        "y": 400,
        "wires": [
            [
                "b2fb4646.c9a228",
                "8ac0f1a1.a657f"
            ]
        ]
    },
    {
        "id": "c8996b7c.bb16c8",
        "type": "ui_gauge",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "db945141.8f84b",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "CPU Temperature",
        "label": "C",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 750,
        "y": 140,
        "wires": []
    },
    {
        "id": "152e2229.ae5a9e",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "vcgencmd measure_temp",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "RPi Temp.",
        "x": 390,
        "y": 140,
        "wires": [
            [
                "2d0882eb.31563e"
            ],
            [],
            []
        ]
    },
    {
        "id": "4d09a3a3.5ff1ec",
        "type": "inject",
        "z": "501502b6.3def5c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "x": 184.5,
        "y": 148.25,
        "wires": [
            [
                "152e2229.ae5a9e",
                "a12d35a.6608fc8",
                "145a737.35e458d"
            ]
        ]
    },
    {
        "id": "2d0882eb.31563e",
        "type": "function",
        "z": "501502b6.3def5c",
        "name": "",
        "func": "str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 140,
        "wires": [
            [
                "c8996b7c.bb16c8",
                "904cac48.28cff",
                "3ad4ec86.90b1c4"
            ]
        ]
    },
    {
        "id": "ddba037b.986a7",
        "type": "ui_button",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "eb282a16.b76408",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Reboot",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 160,
        "y": 520,
        "wires": [
            [
                "73adfb06.ca57f4"
            ]
        ]
    },
    {
        "id": "73adfb06.ca57f4",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "sudo reboot",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Reboot",
        "x": 378,
        "y": 520,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "85765a57.3e7418",
        "type": "ui_button",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "eb282a16.b76408",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Shutdown",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 168.5,
        "y": 564.25,
        "wires": [
            [
                "36e62181.45110e"
            ]
        ]
    },
    {
        "id": "36e62181.45110e",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "sudo shutdown -h now",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Shutdown",
        "x": 389.5,
        "y": 582.25,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "904cac48.28cff",
        "type": "ui_chart",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "db945141.8f84b",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "outputs": 1,
        "x": 750,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "a12d35a.6608fc8",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "CPU Load",
        "x": 390,
        "y": 220,
        "wires": [
            [
                "7ae2ace3.f0d794"
            ],
            [],
            []
        ]
    },
    {
        "id": "145a737.35e458d",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "free | grep Mem | awk '{print 100*($4+$6+$7)/$2}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Free Memory",
        "x": 390,
        "y": 300,
        "wires": [
            [
                "a71badb9.d21b9"
            ],
            [],
            []
        ]
    },
    {
        "id": "7ae2ace3.f0d794",
        "type": "ui_gauge",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "db945141.8f84b",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Processor",
        "label": "CPU",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "x": 750,
        "y": 220,
        "wires": []
    },
    {
        "id": "a71badb9.d21b9",
        "type": "ui_gauge",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "234da028.c0388",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Memory",
        "label": "RAM",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 750,
        "y": 300,
        "wires": []
    },
    {
        "id": "6ecabf66.f8d71",
        "type": "exec",
        "z": "501502b6.3def5c",
        "command": "df -h",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "name": "Disk Usage",
        "x": 390,
        "y": 380,
        "wires": [
            [
                "f739ed2d.5ecc2"
            ],
            [],
            []
        ]
    },
    {
        "id": "f58618e.02d6de8",
        "type": "ui_gauge",
        "z": "501502b6.3def5c",
        "name": "",
        "group": "24da5dda.5a8d42",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Disk",
        "label": "Usage",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "x": 750,
        "y": 380,
        "wires": []
    },
    {
        "id": "f739ed2d.5ecc2",
        "type": "function",
        "z": "501502b6.3def5c",
        "name": "",
        "func": "var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "f58618e.02d6de8"
            ]
        ]
    },
    {
        "id": "848ef2fa.5975b",
        "type": "inject",
        "z": "501502b6.3def5c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "x": 190,
        "y": 380,
        "wires": [
            [
                "6ecabf66.f8d71"
            ]
        ]
    },
    {
        "id": "2034f2a7.e7741e",
        "type": "catch",
        "z": "e7a41a22.5e8a68",
        "name": "",
        "scope": null,
        "x": 260,
        "y": 320,
        "wires": [
            [
                "9a4fd87e.50c508"
            ]
        ]
    },
    {
        "id": "9a4fd87e.50c508",
        "type": "debug",
        "z": "e7a41a22.5e8a68",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 520,
        "y": 320,
        "wires": []
    },
    {
        "id": "9a462240.e064e",
        "type": "ui_template",
        "z": "e7a41a22.5e8a68",
        "group": "dbf9570e.3a72d8",
        "name": "Grafana Temps",
        "order": 1,
        "width": 15,
        "height": 8,
        "format": "<iframe src=\"http://192.168.0.24:3000/d/E2ZkgkZgz/temps?orgId=1&refresh=5s&viewPanel=6\" width=\"800\" height=\"400\" frameborder=\"0\">\n    \n</iframe>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 280,
        "y": 260,
        "wires": [
            [
                "9a4fd87e.50c508"
            ]
        ]
    },
    {
        "id": "2f83a65f.e534da",
        "type": "catch",
        "z": "e7a41a22.5e8a68",
        "name": "",
        "scope": null,
        "x": 260,
        "y": 440,
        "wires": [
            [
                "879f9e65.2ce18"
            ]
        ]
    },
    {
        "id": "879f9e65.2ce18",
        "type": "debug",
        "z": "e7a41a22.5e8a68",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 520,
        "y": 440,
        "wires": []
    },
    {
        "id": "a34b0617.0b88f8",
        "type": "ui_template",
        "z": "e7a41a22.5e8a68",
        "group": "dbf9570e.3a72d8",
        "name": "Grafana Power",
        "order": 2,
        "width": 15,
        "height": 8,
        "format": "<iframe src=\"http://192.168.0.24:3000/d/sZzhQxZgz/seg-power?orgId=1&refresh=5s&viewPanel=2\" width=\"800\" height=\"400\" frameborder=\"0\">\n    \n</iframe>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 280,
        "y": 380,
        "wires": [
            [
                "879f9e65.2ce18"
            ]
        ]
    },
    {
        "id": "44c0c42.2cc0d3c",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[0].weather[0].description}}",
        "layout": "row-spread",
        "x": 870,
        "y": 100,
        "wires": []
    },
    {
        "id": "14338167.557ddf",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_428568/STATE",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 160,
        "y": 220,
        "wires": [
            [
                "5b72ac96.bee064",
                "443d8dc7.65dde4",
                "fc1a7f66.bacfc",
                "d1091d42.85f85"
            ]
        ]
    },
    {
        "id": "5b72ac96.bee064",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 400,
        "y": 160,
        "wires": []
    },
    {
        "id": "fc1a7f66.bacfc",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi Signal",
        "format": "{{payload.Wifi.Signal}}",
        "layout": "row-spread",
        "x": 410,
        "y": 240,
        "wires": []
    },
    {
        "id": "443d8dc7.65dde4",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Wifi RSSI",
        "format": "{{payload.Wifi.RSSI}}",
        "layout": "row-spread",
        "x": 400,
        "y": 200,
        "wires": []
    },
    {
        "id": "23594f37.da69d",
        "type": "Tasmota Switch",
        "z": "44566d59.83dfb4",
        "broker": "9622b515.1f1858",
        "device": "tasmota_428568",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 510,
        "y": 740,
        "wires": [
            [
                "7aeee63b.993ff8",
                "f235d3aa.6804f"
            ]
        ]
    },
    {
        "id": "7aeee63b.993ff8",
        "type": "ui_switch",
        "z": "44566d59.83dfb4",
        "name": "",
        "label": "PC399HA POWER",
        "tooltip": "",
        "group": "604e9480.ecba8c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 490,
        "y": 660,
        "wires": [
            [
                "23594f37.da69d"
            ]
        ]
    },
    {
        "id": "beb29dce.4b7d6",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 430,
        "y": 800,
        "wires": [
            [
                "23594f37.da69d"
            ]
        ]
    },
    {
        "id": "ce903815.c9b388",
        "type": "inject",
        "z": "44566d59.83dfb4",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 430,
        "y": 840,
        "wires": [
            [
                "23594f37.da69d"
            ]
        ]
    },
    {
        "id": "d1091d42.85f85",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "UpTime",
        "format": "{{payload.Uptime}}",
        "layout": "row-spread",
        "x": 400,
        "y": 280,
        "wires": []
    },
    {
        "id": "d23ec39b.7d93a",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "7615e071.615c1",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "UpTime",
        "format": "{{payload.Uptime}}",
        "layout": "row-spread",
        "x": 400,
        "y": 660,
        "wires": []
    },
    {
        "id": "89187314.d6405",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "UpTime",
        "format": "{{payload.Uptime}}",
        "layout": "row-spread",
        "x": 620,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9d56598d.443308",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "7615e071.615c1",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DHT TEMP",
        "format": "{{msg.payload.DHT11.Temperature}}",
        "layout": "row-spread",
        "x": 410,
        "y": 1120,
        "wires": []
    },
    {
        "id": "b7f3e547.c397c8",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "7615e071.615c1",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DHT HUMIDITY",
        "format": "{{msg.payload.DHT11.Temperature}}",
        "layout": "row-spread",
        "x": 420,
        "y": 1160,
        "wires": []
    },
    {
        "id": "8473b95e.27ae18",
        "type": "node-lifx-in",
        "z": "ac407144.c6bff",
        "d": true,
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d5015037",
        "x": 1030,
        "y": 1060,
        "wires": []
    },
    {
        "id": "bdd6191c.eee3a8",
        "type": "inject",
        "z": "ac407144.c6bff",
        "name": "",
        "topic": "on",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 270,
        "y": 1200,
        "wires": [
            [
                "8473b95e.27ae18",
                "604a960.457b26c"
            ]
        ]
    },
    {
        "id": "647f5cbc.5140a4",
        "type": "inject",
        "z": "ac407144.c6bff",
        "name": "",
        "topic": "on",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 270,
        "y": 1240,
        "wires": [
            [
                "8473b95e.27ae18",
                "604a960.457b26c"
            ]
        ]
    },
    {
        "id": "8535e4b9.b465b8",
        "type": "node-lifx-out",
        "z": "ac407144.c6bff",
        "d": true,
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d5015037",
        "x": 150,
        "y": 1060,
        "wires": [
            [
                "303fd6c5.be862a"
            ]
        ]
    },
    {
        "id": "d77d786c.97e458",
        "type": "ui_switch",
        "z": "ac407144.c6bff",
        "name": "",
        "label": "LIFX 2",
        "tooltip": "",
        "group": "bf7639b5.36f358",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "on",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 530,
        "y": 1060,
        "wires": [
            [
                "409db550.7e32dc",
                "604a960.457b26c"
            ]
        ]
    },
    {
        "id": "303fd6c5.be862a",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Payload to Topic",
        "func": "msg.payload = msg.payload.on;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 1060,
        "wires": [
            [
                "d77d786c.97e458"
            ]
        ]
    },
    {
        "id": "409db550.7e32dc",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Topic to Payload",
        "func": "msg.payload.on = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 1060,
        "wires": [
            [
                "8473b95e.27ae18"
            ]
        ]
    },
    {
        "id": "2f16d4c0.3a080c",
        "type": "inject",
        "z": "ac407144.c6bff",
        "name": "DISCO",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1190,
        "y": 820,
        "wires": [
            [
                "73bb2438.ed28dc"
            ]
        ]
    },
    {
        "id": "73bb2438.ed28dc",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "LIFX FX",
        "func": "msg.payload = {\n  \"isTransient\": true,\n  \"color\": { \"hue\": 0, \"saturation\": 65535, \"brightness\": 65535, \"kelvin\": 3500 },\n  \"period\": 2000,\n  \"cycles\": 3,\n  \"skewRatio\": 0,\n  \"waveform\": \"SINE\"  // one of SAW, SINE, HALF_SINE, TRIANGLE, PULSE\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1350,
        "y": 820,
        "wires": [
            [
                "8473b95e.27ae18",
                "67f5a4c1.07af9c"
            ]
        ]
    },
    {
        "id": "6150747c.9a04ec",
        "type": "ui_colour_picker",
        "z": "ac407144.c6bff",
        "name": "",
        "label": "LIFX 2 RGB",
        "group": "bf7639b5.36f358",
        "format": "rgb",
        "outformat": "object",
        "showSwatch": true,
        "showPicker": true,
        "showValue": true,
        "showHue": true,
        "showAlpha": false,
        "showLightness": false,
        "square": "true",
        "dynOutput": "false",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 510,
        "y": 1000,
        "wires": [
            [
                "5617448a.a223fc"
            ]
        ]
    },
    {
        "id": "5617448a.a223fc",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "LIFX FX",
        "func": "msg.payload = {\"rgb\": [ msg.payload.r, msg.payload.g, msg.payload.b ] }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 760,
        "y": 1000,
        "wires": [
            [
                "8473b95e.27ae18"
            ]
        ]
    },
    {
        "id": "d706a5c0.ac1658",
        "type": "influxdb out",
        "z": "4e68cfeb.fa3a4",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "working",
        "precision": "s",
        "retentionPolicy": "",
        "x": 460,
        "y": 820,
        "wires": []
    },
    {
        "id": "3be79b76.b08d64",
        "type": "function",
        "z": "4e68cfeb.fa3a4",
        "name": "Fields",
        "func": "\nmsg.payload = {\n    Humidity: msg.payload.DHT11.Humidity,\n    Temperature: msg.payload.DHT11.Temperature\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 230,
        "y": 820,
        "wires": [
            [
                "d706a5c0.ac1658"
            ]
        ]
    },
    {
        "id": "5af0bd6c.c8fa84",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DHT TEMP",
        "format": "{{payload.DHT11.Temperature}}",
        "layout": "row-spread",
        "x": 410,
        "y": 780,
        "wires": []
    },
    {
        "id": "f9fcaf31.dd76b",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DHT HUMIDITY",
        "format": "{{payload.DHT11.Humidity}}",
        "layout": "row-spread",
        "x": 420,
        "y": 740,
        "wires": []
    },
    {
        "id": "1e93637c.1fadcd",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "F6AD04 - SONOFF 2 - LAUNDRY",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "ea0a741a.e18d48",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_F6AD04/SENSOR",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 150,
        "y": 740,
        "wires": [
            [
                "f9fcaf31.dd76b",
                "5af0bd6c.c8fa84",
                "506dd81b.534218",
                "3be79b76.b08d64"
            ]
        ]
    },
    {
        "id": "798bcd1a.abb444",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_5AE120/SENSOR",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 170,
        "y": 1100,
        "wires": [
            [
                "9d56598d.443308",
                "b7f3e547.c397c8",
                "3fd34241.24c7ce"
            ]
        ]
    },
    {
        "id": "154e550e.89fd4b",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "5AE120 - SONOFF 1 - LOUNGE",
        "info": "",
        "x": 170,
        "y": 940,
        "wires": []
    },
    {
        "id": "ecd03d00.3e56a",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "TinyPico SEGMETER Bridge",
        "info": "",
        "x": 180,
        "y": 1320,
        "wires": []
    },
    {
        "id": "35e51b99.c039a4",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "428568 - ARLEC PC399HA - LOUNGE",
        "info": "",
        "x": 170,
        "y": 120,
        "wires": []
    },
    {
        "id": "8fa176ad.98d7c8",
        "type": "comment",
        "z": "4a2f9b04.323ac4",
        "name": "Open Weather Map API Key",
        "info": "622de6297164cfe7dd860624bd9eeb95",
        "x": 620,
        "y": 580,
        "wires": []
    },
    {
        "id": "aeef2029.a7311",
        "type": "debug",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 170,
        "y": 220,
        "wires": []
    },
    {
        "id": "64d24c8b.d342b4",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "stat/tasmota_%06X/PIR1",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 630,
        "y": 600,
        "wires": [
            [
                "24fc73de.5df87c",
                "b53933ea.79201"
            ]
        ]
    },
    {
        "id": "24fc73de.5df87c",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 600,
        "wires": []
    },
    {
        "id": "b53933ea.79201",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5523aa99.3ef2b4",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "PIR",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 880,
        "y": 560,
        "wires": []
    },
    {
        "id": "b2fb4646.c9a228",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Payload to Topic",
        "func": "msg.payload = msg.payload.on;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "67f5a4c1.07af9c",
        "type": "node-lifx-in",
        "z": "ac407144.c6bff",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 1210,
        "y": 160,
        "wires": []
    },
    {
        "id": "dfe209a4.1b2d28",
        "type": "trigger",
        "z": "ac407144.c6bff",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "3",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 390,
        "y": 600,
        "wires": [
            [
                "839d70bc.76dd9",
                "3e032aed.4948e6",
                "ade78e6a.ed47c"
            ]
        ]
    },
    {
        "id": "1822bac.efe0c45",
        "type": "mqtt in",
        "z": "ac407144.c6bff",
        "name": "",
        "topic": "stat/tasmota_%06X/PIR1",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 130,
        "y": 600,
        "wires": [
            [
                "dfe209a4.1b2d28",
                "7abda9f2.d4e818",
                "e39b4162.71748"
            ]
        ]
    },
    {
        "id": "839d70bc.76dd9",
        "type": "ui_text",
        "z": "ac407144.c6bff",
        "group": "5523aa99.3ef2b4",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "TRIGGER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 700,
        "y": 680,
        "wires": []
    },
    {
        "id": "48af70e.274f69",
        "type": "influxdb out",
        "z": "ac407144.c6bff",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "segmeter",
        "precision": "s",
        "retentionPolicy": "",
        "x": 910,
        "y": 760,
        "wires": []
    },
    {
        "id": "3313c568.d4eeda",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Fields",
        "func": "\nmsg.payload = {LaundryPIR3: msg.payload};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 760,
        "wires": [
            [
                "48af70e.274f69"
            ]
        ]
    },
    {
        "id": "2ef6d433.b1044c",
        "type": "influxdb out",
        "z": "4e68cfeb.fa3a4",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "segmeter",
        "precision": "s",
        "retentionPolicy": "",
        "x": 670,
        "y": 460,
        "wires": []
    },
    {
        "id": "9253111f.d9ca6",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "tele/tasmota_428568/SENSOR",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "e8651ca9.98aac",
                "a1aaffb7.97f34",
                "154364ba.04036b",
                "96d95e44.ca651"
            ]
        ]
    },
    {
        "id": "e8651ca9.98aac",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Power",
        "format": "{{payload.ENERGY.Power}}",
        "layout": "row-spread",
        "x": 410,
        "y": 340,
        "wires": []
    },
    {
        "id": "a1aaffb7.97f34",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Voltage",
        "format": "{{payload.ENERGY.Voltage}}",
        "layout": "row-spread",
        "x": 420,
        "y": 380,
        "wires": []
    },
    {
        "id": "154364ba.04036b",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "604e9480.ecba8c",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Factor",
        "format": "{{payload.ENERGY.Factor}}",
        "layout": "row-spread",
        "x": 410,
        "y": 420,
        "wires": []
    },
    {
        "id": "96d95e44.ca651",
        "type": "function",
        "z": "4e68cfeb.fa3a4",
        "name": "Fields",
        "func": "\nmsg.payload = {ArlecPower: msg.payload.ENERGY.Power};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 460,
        "wires": [
            [
                "2ef6d433.b1044c"
            ]
        ]
    },
    {
        "id": "7abda9f2.d4e818",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "ON/OFF to 1/0",
        "func": "if (msg.payload === 'ON') msg.payload = 1;\nelse msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 760,
        "wires": [
            [
                "3313c568.d4eeda"
            ]
        ]
    },
    {
        "id": "8219fc9.821b",
        "type": "function",
        "z": "4a2f9b04.323ac4",
        "name": "timestamp",
        "func": "msg.payload = new Date().toISOString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 700,
        "wires": [
            [
                "b6c2ad89.06834",
                "3845830e.15969c"
            ]
        ]
    },
    {
        "id": "b6c2ad89.06834",
        "type": "moment",
        "z": "4a2f9b04.323ac4",
        "name": "dd DD.MM.YY - HH:mm",
        "topic": "date",
        "input": "payload",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 370,
        "y": 760,
        "wires": [
            [
                "3845830e.15969c",
                "89bc512d.c3b99"
            ]
        ]
    },
    {
        "id": "3845830e.15969c",
        "type": "debug",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 610,
        "y": 760,
        "wires": []
    },
    {
        "id": "275f6754.88bdc8",
        "type": "inject",
        "z": "4a2f9b04.323ac4",
        "name": "Clock",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 160,
        "y": 700,
        "wires": [
            [
                "8219fc9.821b"
            ]
        ]
    },
    {
        "id": "89bc512d.c3b99",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "99996bf0.0b8508",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Clock",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 590,
        "y": 800,
        "wires": []
    },
    {
        "id": "b880542d.0de9a8",
        "type": "moment",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "topic": "date",
        "input": "payload[0].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 710,
        "y": 60,
        "wires": [
            [
                "64e3f4ac.5aee3c"
            ]
        ]
    },
    {
        "id": "64e3f4ac.5aee3c",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 850,
        "y": 60,
        "wires": []
    },
    {
        "id": "383607c9.735cb8",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[0].main.temp}}",
        "layout": "row-spread",
        "x": 850,
        "y": 140,
        "wires": []
    },
    {
        "id": "63c77c7e.c17b74",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[1].weather[0].description}}",
        "layout": "row-spread",
        "x": 610,
        "y": 160,
        "wires": []
    },
    {
        "id": "62924473.6391fc",
        "type": "moment",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "topic": "date",
        "input": "payload[1].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 450,
        "y": 120,
        "wires": [
            [
                "6c81acdc.3ca714"
            ]
        ]
    },
    {
        "id": "6c81acdc.3ca714",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 590,
        "y": 120,
        "wires": []
    },
    {
        "id": "49d23290.39e82c",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[1].main.temp}}",
        "layout": "row-spread",
        "x": 590,
        "y": 200,
        "wires": []
    },
    {
        "id": "21ce780a.1a1b48",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[2].weather[0].description}}",
        "layout": "row-spread",
        "x": 890,
        "y": 260,
        "wires": []
    },
    {
        "id": "5f28786f.08e558",
        "type": "moment",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "topic": "date",
        "input": "payload[2].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 730,
        "y": 220,
        "wires": [
            [
                "d1342e8.dde87d"
            ]
        ]
    },
    {
        "id": "d1342e8.dde87d",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "db67e512.de8518",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[2].main.temp}}",
        "layout": "row-spread",
        "x": 870,
        "y": 300,
        "wires": []
    },
    {
        "id": "76f60541.8e9d6c",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 14,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Description",
        "format": "{{payload[3].weather[0].description}}",
        "layout": "row-spread",
        "x": 630,
        "y": 320,
        "wires": []
    },
    {
        "id": "ff34a8a5.4b0798",
        "type": "moment",
        "z": "4a2f9b04.323ac4",
        "name": "",
        "topic": "date",
        "input": "payload[3].dt_txt",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 470,
        "y": 280,
        "wires": [
            [
                "d92a509.9305bb"
            ]
        ]
    },
    {
        "id": "d92a509.9305bb",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 610,
        "y": 280,
        "wires": []
    },
    {
        "id": "629b0d21.1858a4",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 15,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Temp",
        "format": "{{payload[3].main.temp}}",
        "layout": "row-spread",
        "x": 610,
        "y": 360,
        "wires": []
    },
    {
        "id": "6f5e6d4.f1fcd94",
        "type": "ui_text",
        "z": "4a2f9b04.323ac4",
        "group": "f65e7994.8cb618",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Rain",
        "format": "{{payload[0].rain[\"3h\"]}}",
        "layout": "row-spread",
        "x": 970,
        "y": 140,
        "wires": []
    },
    {
        "id": "1cc954f2.32510b",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "Kitchen WeMos D1",
        "info": "",
        "x": 130,
        "y": 2320,
        "wires": []
    },
    {
        "id": "9a2aef00.92758",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "stat/tasmota__WeMosD1/PIR1",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 190,
        "y": 2400,
        "wires": [
            [
                "60b4d1cd.4d9e",
                "f2f40610.e19708",
                "f2ee42c1.6ac9c"
            ]
        ]
    },
    {
        "id": "60b4d1cd.4d9e",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 430,
        "y": 2340,
        "wires": []
    },
    {
        "id": "f2f40610.e19708",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5486ad63.f06294",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "PIR",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 410,
        "y": 2280,
        "wires": []
    },
    {
        "id": "f2ee42c1.6ac9c",
        "type": "trigger",
        "z": "4e68cfeb.fa3a4",
        "op1": "ON",
        "op2": "OFF",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 430,
        "y": 2400,
        "wires": [
            [
                "9b5a6d36.e4f93",
                "ad3f9e44.571f2",
                "d923f330.40ab6"
            ]
        ]
    },
    {
        "id": "9b5a6d36.e4f93",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5486ad63.f06294",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "TRIGGER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 680,
        "y": 2360,
        "wires": []
    },
    {
        "id": "b42321bb.7a524",
        "type": "mqtt out",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 1050,
        "y": 2400,
        "wires": []
    },
    {
        "id": "88fe2b4f.85e278",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5486ad63.f06294",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "LED POWER",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 430,
        "y": 2480,
        "wires": []
    },
    {
        "id": "b759b517.51e998",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "stat/tasmota__WeMosD1/POWER",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 180,
        "y": 2480,
        "wires": [
            [
                "88fe2b4f.85e278"
            ]
        ]
    },
    {
        "id": "81b0cf7c.acece",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "stat/tasmota__WeMosD1/RESULT",
        "qos": "2",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 180,
        "y": 2540,
        "wires": [
            [
                "1b69985b.e68928",
                "49b24da7.8cfd84"
            ]
        ]
    },
    {
        "id": "1b69985b.e68928",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "5486ad63.f06294",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "LED Dimmer",
        "format": "{{msg.payload.Dimmer}}",
        "layout": "row-spread",
        "x": 430,
        "y": 2540,
        "wires": []
    },
    {
        "id": "49b24da7.8cfd84",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 430,
        "y": 2580,
        "wires": []
    },
    {
        "id": "c68fbb28.e1ff98",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1090,
        "y": 2300,
        "wires": []
    },
    {
        "id": "ad3f9e44.571f2",
        "type": "change",
        "z": "4e68cfeb.fa3a4",
        "name": "cmnd/tasmota__WeMosD1/POWER",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "cmnd/tasmota__WeMosD1/POWER",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 2400,
        "wires": [
            [
                "b42321bb.7a524",
                "c68fbb28.e1ff98"
            ]
        ]
    },
    {
        "id": "5a9cec62.ff5d04",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "cmnd/tasmota__WeMosD1/POWER",
        "payload": "ON",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 770,
        "y": 2560,
        "wires": [
            [
                "b42321bb.7a524"
            ]
        ]
    },
    {
        "id": "22adffaa.fb3e9",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "testing dimmer",
        "topic": "cmnd/tasmota__WeMosD1",
        "payload": "{\"POWER\":\"ON\",\"Dimmer\":21}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 820,
        "y": 2500,
        "wires": [
            [
                "b42321bb.7a524"
            ]
        ]
    },
    {
        "id": "3ad4ec86.90b1c4",
        "type": "influxdb out",
        "z": "501502b6.3def5c",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "CPU",
        "precision": "s",
        "retentionPolicy": "",
        "x": 770,
        "y": 100,
        "wires": []
    },
    {
        "id": "682070e1.4abf8",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 670,
        "y": 1400,
        "wires": []
    },
    {
        "id": "2b6416f3.f5e3ca",
        "type": "catch",
        "z": "c64e88e4.394898",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 2200,
        "y": 3480,
        "wires": [
            []
        ]
    },
    {
        "id": "9940a7b4.707f68",
        "type": "ui_gauge",
        "z": "c64e88e4.394898",
        "name": "",
        "group": "68a44d5b.0a65b4",
        "order": 6,
        "width": 6,
        "height": 5,
        "gtype": "gage",
        "title": "OpenDNS 4.2.2.2",
        "label": "ms",
        "format": "{{value}}",
        "min": 0,
        "max": "1000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 530,
        "y": 40,
        "wires": []
    },
    {
        "id": "6dc5e3c0.5451ac",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 80,
        "wires": [
            [
                "8971b26b.d95da"
            ]
        ]
    },
    {
        "id": "430c3d6f.cefa34",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 140,
        "wires": [
            [
                "dfa30525.d88368"
            ]
        ]
    },
    {
        "id": "cc462fc5.53869",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "FIREWALL",
        "host": "8.8.8.8",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 140,
        "wires": [
            [
                "430c3d6f.cefa34"
            ]
        ]
    },
    {
        "id": "c5b4fa96.37aa58",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "OpenDNS",
        "host": "4.2.2.2",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 80,
        "wires": [
            [
                "9940a7b4.707f68",
                "6dc5e3c0.5451ac"
            ]
        ]
    },
    {
        "id": "9423613c.0f3de",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 220,
        "wires": [
            [
                "34fedf21.91386",
                "72dd5c13.8f1bc4"
            ]
        ]
    },
    {
        "id": "76c5104f.2e81",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 280,
        "wires": [
            [
                "883e54a8.185158",
                "2514742d.7bc59c",
                "776ce81b.e1a178"
            ]
        ]
    },
    {
        "id": "4b8d3753.8ae158",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "TinyPico2 192.168.0.43",
        "host": "192.168.0.43",
        "timer": "5",
        "inputs": 0,
        "x": 120,
        "y": 280,
        "wires": [
            [
                "76c5104f.2e81"
            ]
        ]
    },
    {
        "id": "ef10a1a4.c21f7",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": "timed",
        "name": "TinyPico1",
        "host": "192.168.0.41",
        "timer": "5",
        "inputs": 0,
        "x": 80,
        "y": 220,
        "wires": [
            [
                "9423613c.0f3de"
            ]
        ]
    },
    {
        "id": "34fedf21.91386",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 8,
        "width": 6,
        "height": 1,
        "label": "TinyPico1 192.168.0.41",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPico1 192.168.0.41",
        "x": 570,
        "y": 220,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "883e54a8.185158",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 35,
        "width": 6,
        "height": 1,
        "label": "TinyPico2 192.168.0.43",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPico2 192.168.0.43",
        "x": 550,
        "y": 280,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "8971b26b.d95da",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 2,
        "width": 6,
        "height": 1,
        "label": "OpenDNS 4.2.2.2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "OpenDNS 4.2.2.2",
        "x": 530,
        "y": 80,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "dfa30525.d88368",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 4,
        "width": 6,
        "height": 1,
        "label": "FWALL 8.8.8.8",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "FWALL 8.8.8.8",
        "x": 500,
        "y": 140,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "f47d28ef.7f7cb8",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 440,
        "wires": [
            [
                "92ca0a60.f9c438"
            ]
        ]
    },
    {
        "id": "56f134fb.07288c",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "Tasmota-Arlec-192.168.0.33",
        "host": "192.168.0.33",
        "timer": "5",
        "inputs": 0,
        "x": 160,
        "y": 440,
        "wires": [
            [
                "f47d28ef.7f7cb8"
            ]
        ]
    },
    {
        "id": "92ca0a60.f9c438",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 15,
        "width": 6,
        "height": 1,
        "label": "Tasmota-Arlec 192.168.0.33",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Tasmota-Arlec 192.168.0.33",
        "x": 680,
        "y": 440,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "a84abed9.3b7a3",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 500,
        "wires": [
            [
                "83d2edfc.cdb17"
            ]
        ]
    },
    {
        "id": "d5b0afde.8a5b6",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "Kitchen tasmota__WeMosD1-3929-192.168.0.47",
        "host": "192.168.0.47",
        "timer": "5",
        "inputs": 0,
        "x": 220,
        "y": 500,
        "wires": [
            [
                "a84abed9.3b7a3"
            ]
        ]
    },
    {
        "id": "83d2edfc.cdb17",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 10,
        "width": 6,
        "height": 1,
        "label": "Kitchen tasmota__WeMosD1-3929-192.168.0.47",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Kitchen_WeMosD1-0308-192.168.0.42",
        "x": 710,
        "y": 500,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "711abc4f.809034",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 660,
        "wires": [
            [
                "299ca3e5.7734fc"
            ]
        ]
    },
    {
        "id": "aad61ab0.918ed8",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "Tasmota_Lounge-192.168.0.31",
        "host": "192.168.0.31",
        "timer": "5",
        "inputs": 0,
        "x": 170,
        "y": 660,
        "wires": [
            [
                "711abc4f.809034"
            ]
        ]
    },
    {
        "id": "299ca3e5.7734fc",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 13,
        "width": 6,
        "height": 1,
        "label": "Tasmota_Lounge-192.168.0.31",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Tasmota_Lounge-192.168.0.31",
        "x": 690,
        "y": 660,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "e606c8ca.b25998",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 720,
        "wires": [
            [
                "43cacf5f.f5c99"
            ]
        ]
    },
    {
        "id": "a50bb8c.8b1de48",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "Tasmota_Laundry-192.168.0.32",
        "host": "192.168.0.32",
        "timer": "5",
        "inputs": 0,
        "x": 170,
        "y": 720,
        "wires": [
            [
                "e606c8ca.b25998"
            ]
        ]
    },
    {
        "id": "43cacf5f.f5c99",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 21,
        "width": 6,
        "height": 1,
        "label": "Tasmota_Laundry-192.168.0.32",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "tasmota_5AE120-0288\t192.168.0.31",
        "x": 710,
        "y": 720,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "255f76da.64ee2a",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 780,
        "wires": [
            [
                "5680219c.2c46d"
            ]
        ]
    },
    {
        "id": "be1e79b1.59c868",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "ipcam_00626E53902C_1\t192.168.0.20",
        "host": "192.168.0.20",
        "timer": "5",
        "inputs": 0,
        "x": 190,
        "y": 780,
        "wires": [
            [
                "255f76da.64ee2a"
            ]
        ]
    },
    {
        "id": "5680219c.2c46d",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 23,
        "width": 6,
        "height": 1,
        "label": "ipcam_\t192.168.0.20",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "ipcam_\t192.168.0.20",
        "x": 660,
        "y": 780,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "c9522443.cebe38",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 920,
        "wires": [
            [
                "8d85f4a8.b92c48"
            ]
        ]
    },
    {
        "id": "10f4e51f.3c694b",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": "timed",
        "name": "iPhone6s\t192.168.0.10",
        "host": "192.168.0.10",
        "timer": "5",
        "inputs": 0,
        "x": 140,
        "y": 920,
        "wires": [
            [
                "c9522443.cebe38"
            ]
        ]
    },
    {
        "id": "8d85f4a8.b92c48",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 29,
        "width": 6,
        "height": 1,
        "label": "iPhone6s\t192.168.0.10",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "iPhone6s\t192.168.0.10",
        "x": 670,
        "y": 920,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "e6585cf6.6baf5",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 1000,
        "wires": [
            [
                "b3f8e8c1.566d88"
            ]
        ]
    },
    {
        "id": "3525eebe.bbc072",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "LoungeTV 192.168.0.6",
        "host": "192.168.0.6",
        "timer": "5",
        "inputs": 0,
        "x": 140,
        "y": 1000,
        "wires": [
            [
                "e6585cf6.6baf5"
            ]
        ]
    },
    {
        "id": "b3f8e8c1.566d88",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 27,
        "width": 6,
        "height": 1,
        "label": "LoungeTV 192.168.0.6",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LoungeTV 192.168.0.6",
        "x": 660,
        "y": 1000,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "47821783.772358",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 840,
        "wires": [
            [
                "1b96f690.19cea9"
            ]
        ]
    },
    {
        "id": "1b8e7de0.ce62e2",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "ipcam_2\t192.168.0.21",
        "host": "192.168.0.21",
        "timer": "5",
        "inputs": 0,
        "x": 140,
        "y": 840,
        "wires": [
            [
                "47821783.772358"
            ]
        ]
    },
    {
        "id": "1b96f690.19cea9",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 25,
        "width": 6,
        "height": 1,
        "label": "ipcam_2\t192.168.0.21",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "ipcam_2\t192.168.0.21",
        "x": 660,
        "y": 840,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "bb6b4977.2c1908",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 1080,
        "wires": [
            [
                "e997f9e2.f72998"
            ]
        ]
    },
    {
        "id": "a38cdc07.3eda7",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "TinyPicoClock-192.168.0.44",
        "host": "192.168.0.44",
        "timer": "5",
        "inputs": 0,
        "x": 160,
        "y": 1080,
        "wires": [
            [
                "bb6b4977.2c1908"
            ]
        ]
    },
    {
        "id": "e997f9e2.f72998",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 31,
        "width": 6,
        "height": 1,
        "label": "TinyPicoClock-192.168.0.44",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "TinyPicoClock-192.168.0.44",
        "x": 680,
        "y": 1080,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "724b1871.2de628",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 1140,
        "wires": [
            [
                "720f3212.bb625c"
            ]
        ]
    },
    {
        "id": "952af26.12b3d1",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "LIFX 1 192.168.0.51",
        "host": "192.168.0.51",
        "timer": "5",
        "inputs": 0,
        "x": 130,
        "y": 1140,
        "wires": [
            [
                "724b1871.2de628"
            ]
        ]
    },
    {
        "id": "720f3212.bb625c",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 17,
        "width": 6,
        "height": 1,
        "label": "LIFX 1 192.168.0.51",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LIFX 1 192.168.0.51",
        "x": 660,
        "y": 1140,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "72dd5c13.8f1bc4",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 880,
        "y": 160,
        "wires": [
            [
                "41995c83.54cc84",
                "95d1b3e3.23805",
                "2b65ddf.2078622"
            ]
        ]
    },
    {
        "id": "41995c83.54cc84",
        "type": "debug",
        "z": "c64e88e4.394898",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1150,
        "y": 120,
        "wires": []
    },
    {
        "id": "2514742d.7bc59c",
        "type": "debug",
        "z": "c64e88e4.394898",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 280,
        "wires": []
    },
    {
        "id": "95d1b3e3.23805",
        "type": "ui_text",
        "z": "c64e88e4.394898",
        "group": "57aae029.da63c",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1200,
        "y": 160,
        "wires": []
    },
    {
        "id": "78760f91.eeaa2",
        "type": "ui_text",
        "z": "c64e88e4.394898",
        "group": "57aae029.da63c",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1230,
        "y": 200,
        "wires": []
    },
    {
        "id": "2b65ddf.2078622",
        "type": "moment",
        "z": "c64e88e4.394898",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1090,
        "y": 200,
        "wires": [
            [
                "78760f91.eeaa2"
            ]
        ]
    },
    {
        "id": "776ce81b.e1a178",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1000,
        "y": 280,
        "wires": [
            [
                "f80d0f1b.b6f34",
                "700fe5ff.6c7afc",
                "afe3e1bf.a247"
            ]
        ]
    },
    {
        "id": "f80d0f1b.b6f34",
        "type": "debug",
        "z": "c64e88e4.394898",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1330,
        "y": 260,
        "wires": []
    },
    {
        "id": "700fe5ff.6c7afc",
        "type": "ui_text",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 37,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "Pico 2 Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1410,
        "y": 300,
        "wires": []
    },
    {
        "id": "452911.8ecaa6f",
        "type": "ui_text",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 33,
        "width": 6,
        "height": 1,
        "name": "",
        "label": "Pico 2 Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1430,
        "y": 340,
        "wires": []
    },
    {
        "id": "afe3e1bf.a247",
        "type": "moment",
        "z": "c64e88e4.394898",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1270,
        "y": 340,
        "wires": [
            [
                "452911.8ecaa6f"
            ]
        ]
    },
    {
        "id": "bcc92427.22adb8",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 700,
        "y": 220,
        "wires": [
            [
                "3964ce55.62a012"
            ]
        ]
    },
    {
        "id": "3964ce55.62a012",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 910,
        "y": 220,
        "wires": []
    },
    {
        "id": "ef39e2d5.395b1",
        "type": "homekit-service",
        "z": "4e68cfeb.fa3a4",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "KitchenPIR",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 870,
        "y": 2300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ae16d6f0.e90be8",
        "type": "homekit-service",
        "z": "ac407144.c6bff",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LaundryPIR",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "12345678",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 990,
        "y": 620,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d923f330.40ab6",
        "type": "change",
        "z": "4e68cfeb.fa3a4",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "ON",
                "fromt": "str",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "OFF",
                "fromt": "str",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 2300,
        "wires": [
            [
                "ef39e2d5.395b1"
            ]
        ]
    },
    {
        "id": "9dc70dd6.46606",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "ON",
        "topic": "",
        "payload": "{\"MotionDetected\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 730,
        "y": 2220,
        "wires": [
            [
                "ef39e2d5.395b1"
            ]
        ]
    },
    {
        "id": "d587a522.f16b78",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "OFF",
        "topic": "",
        "payload": "{\"MotionDetected\":false}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 730,
        "y": 2260,
        "wires": [
            [
                "ef39e2d5.395b1"
            ]
        ]
    },
    {
        "id": "3e032aed.4948e6",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Payload to MotionDetected",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 620,
        "wires": [
            [
                "ae16d6f0.e90be8"
            ]
        ]
    },
    {
        "id": "fd4f402d.9a251",
        "type": "homekit-service",
        "z": "44566d59.83dfb4",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "GPO-1",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 520,
        "y": 380,
        "wires": [
            [
                "705923f1.08440c"
            ],
            []
        ]
    },
    {
        "id": "752a696d.5799f8",
        "type": "debug",
        "z": "44566d59.83dfb4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 810,
        "y": 540,
        "wires": []
    },
    {
        "id": "705923f1.08440c",
        "type": "change",
        "z": "44566d59.83dfb4",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 440,
        "wires": [
            [
                "867afae4.75b508"
            ]
        ]
    },
    {
        "id": "531c8ead.8c709",
        "type": "change",
        "z": "44566d59.83dfb4",
        "name": "Tasmota to Homekit",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 320,
        "wires": [
            [
                "fd4f402d.9a251"
            ]
        ]
    },
    {
        "id": "ee9cdf9b.c42a",
        "type": "homekit-service",
        "z": "44566d59.83dfb4",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "GPO-2",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 200,
        "y": 740,
        "wires": [
            [
                "c98402e8.3e964"
            ],
            []
        ]
    },
    {
        "id": "c98402e8.3e964",
        "type": "change",
        "z": "44566d59.83dfb4",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 800,
        "wires": [
            [
                "23594f37.da69d"
            ]
        ]
    },
    {
        "id": "f235d3aa.6804f",
        "type": "change",
        "z": "44566d59.83dfb4",
        "name": "Tasmota to Homekit",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 680,
        "wires": [
            [
                "ee9cdf9b.c42a"
            ]
        ]
    },
    {
        "id": "b4b98f1e.5bcde",
        "type": "ui_heater_controller",
        "z": "4e68cfeb.fa3a4",
        "name": "heater",
        "group": "9b2ac6cc.a117d8",
        "unit": "C",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "",
        "title": "",
        "logLengthType": "days",
        "logLength": 1,
        "sliderMinValue": 5,
        "sliderMaxValue": 22,
        "sliderStep": "1",
        "thresholdRising": 0.5,
        "thresholdFalling": 0.5,
        "calendar": "{\n    \"Monday\": {\n        \"00:00\": 19,\n        \"06:20\": 22,\n        \"08:00\": 19,\n        \"16:40\": 22,\n        \"23:59\": 19\n    },\n    \"Tuesday\": {\n        \"00:00\": 19,\n        \"06:20\": 22,\n        \"08:00\": 19,\n        \"16:40\": 22,\n        \"23:59\": 19\n    },\n    \"Wednesday\": {\n        \"00:00\": 19,\n        \"06:20\": 22,\n        \"08:00\": 19,\n        \"16:40\": 22,\n        \"23:59\": 19\n    },\n    \"Thursday\": {\n        \"00:00\": 19,\n        \"06:20\": 22,\n        \"08:00\": 19,\n        \"16:40\": 22,\n        \"23:59\": 19\n    },\n    \"Friday\": {\n        \"00:00\": 19,\n        \"06:20\": 23,\n        \"08:00\": 19,\n        \"16:40\": 22,\n        \"23:59\": 19\n    },\n    \"Saturday\": {\n        \"00:00\": 19,\n        \"08:00\": 20,\n        \"20:00\": 22,\n        \"23:59\": 19\n    },\n    \"Sunday\": {\n        \"00:00\": 19,\n        \"08:00\": 20,\n        \"20:00\": 22,\n        \"23:59\": 19\n    }\n}",
        "x": 730,
        "y": 2040,
        "wires": [
            [
                "9c34b3e9.fcaa6"
            ]
        ]
    },
    {
        "id": "dc416735.bdf068",
        "type": "change",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.T2",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "currentTemp",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 2040,
        "wires": [
            [
                "b4b98f1e.5bcde"
            ]
        ]
    },
    {
        "id": "9c34b3e9.fcaa6",
        "type": "ui_text",
        "z": "4e68cfeb.fa3a4",
        "group": "9b2ac6cc.a117d8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Relay",
        "format": "{{msg.payload.currentHeaterStatus}} ",
        "layout": "row-spread",
        "x": 870,
        "y": 2040,
        "wires": []
    },
    {
        "id": "917465a2.71ae58",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 530,
        "y": 2100,
        "wires": []
    },
    {
        "id": "b02a917b.2458d",
        "type": "change",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.p_1",
                "pt": "msg",
                "to": "payload.P1",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "payload.p_2",
                "pt": "msg",
                "to": "payload.P2",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 1780,
        "wires": [
            [
                "82a0c3c0.af341",
                "196bfc52.8d7674"
            ]
        ]
    },
    {
        "id": "587704a.ada0afc",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "power",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 70,
        "y": 1780,
        "wires": [
            [
                "b02a917b.2458d",
                "47b9a2b5.312b4c"
            ]
        ]
    },
    {
        "id": "b98f97d.5eec368",
        "type": "change",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.temperature_2",
                "pt": "msg",
                "to": "payload.T2",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "payload.temperature_1",
                "pt": "msg",
                "to": "payload.T1",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 2000,
        "wires": [
            [
                "22d4e8c3.bda198",
                "37014bc.a3563b4",
                "917465a2.71ae58",
                "dc416735.bdf068"
            ]
        ]
    },
    {
        "id": "5492c501.ca9adc",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "temp",
        "qos": "0",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 70,
        "y": 2000,
        "wires": [
            [
                "b98f97d.5eec368",
                "47b9a2b5.312b4c"
            ]
        ]
    },
    {
        "id": "37b5aec8.8a5c22",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "doorbell/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 700,
        "y": 160,
        "wires": [
            [
                "ad6ae79c.ee1098"
            ]
        ]
    },
    {
        "id": "ad6ae79c.ee1098",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 910,
        "y": 160,
        "wires": []
    },
    {
        "id": "8a46aa21.a915c8",
        "type": "mqtt in",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/distance",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 120,
        "y": 580,
        "wires": [
            [
                "ff3b606c.b415f"
            ]
        ]
    },
    {
        "id": "5e3f5af2.c7ca94",
        "type": "mqtt out",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/led",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 1570,
        "y": 320,
        "wires": []
    },
    {
        "id": "6f4ee576.ffb02c",
        "type": "mqtt in",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/button",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "a62c492f.15afc8",
                "b1283a65.1b83c8",
                "430a6906.8cec48",
                "3bc0a46f.fc886c"
            ]
        ]
    },
    {
        "id": "a62c492f.15afc8",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 590,
        "y": 140,
        "wires": []
    },
    {
        "id": "ff3b606c.b415f",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "string-num",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 720,
        "wires": [
            [
                "3ed692d0.4457de",
                "64718c65.07c2f4",
                "2a5005a0.2aec2a",
                "3b8ef31c.53c42c"
            ]
        ]
    },
    {
        "id": "3ed692d0.4457de",
        "type": "ui_chart",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "group": "1ade01ee.70162e",
        "order": 6,
        "width": 0,
        "height": 0,
        "label": "ultrasonic",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 220,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "430a6906.8cec48",
        "type": "ui_text",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Doorbell",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 920,
        "y": 300,
        "wires": []
    },
    {
        "id": "d94f2949.4e89c8",
        "type": "function",
        "z": "4c4e755b.4ac2bc",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 980,
        "y": 220,
        "wires": [
            [
                "3444e95c.cf8316"
            ]
        ]
    },
    {
        "id": "3444e95c.cf8316",
        "type": "moment",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1170,
        "y": 220,
        "wires": [
            [
                "b70ac4b4.4bd988"
            ]
        ]
    },
    {
        "id": "b70ac4b4.4bd988",
        "type": "ui_text",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Doorbell @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1320,
        "y": 220,
        "wires": []
    },
    {
        "id": "b1283a65.1b83c8",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "on/off -> 1/0",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 220,
        "wires": [
            [
                "d94f2949.4e89c8",
                "9cdac8e4.150c58",
                "498a3562.f890ec",
                "ff3f8439.61ec18"
            ]
        ]
    },
    {
        "id": "fe2fa5f0.1c8088",
        "type": "mqtt in",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 120,
        "y": 60,
        "wires": [
            [
                "199648ae.0a4ab7"
            ]
        ]
    },
    {
        "id": "199648ae.0a4ab7",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 290,
        "y": 60,
        "wires": []
    },
    {
        "id": "90f35eef.048d7",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 580,
        "wires": [
            [
                "8973c18d.e0147"
            ]
        ]
    },
    {
        "id": "df347cac.c3287",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "Doorbell WeMosD1 192.168.0.45",
        "host": "192.168.0.45",
        "timer": "5",
        "inputs": 0,
        "x": 170,
        "y": 580,
        "wires": [
            [
                "90f35eef.048d7"
            ]
        ]
    },
    {
        "id": "8973c18d.e0147",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 11,
        "width": 6,
        "height": 1,
        "label": "Doorbell WeMosD1 192.168.0.45",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Doorbell WeMosD1 192.168.0.45",
        "x": 700,
        "y": 580,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "64718c65.07c2f4",
        "type": "ui_text",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Ultrasonic",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 220,
        "y": 840,
        "wires": []
    },
    {
        "id": "9cdac8e4.150c58",
        "type": "ui_chart",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "group": "1ade01ee.70162e",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "doorbell",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 920,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "498a3562.f890ec",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1080,
        "y": 280,
        "wires": []
    },
    {
        "id": "67042165.42689",
        "type": "mqtt in",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "frontgate/pir",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 190,
        "y": 220,
        "wires": [
            [
                "75886ab6.974b64",
                "736bf43f.a0c9dc",
                "6c8794cf.5de9dc"
            ]
        ]
    },
    {
        "id": "75886ab6.974b64",
        "type": "debug",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1330,
        "y": 200,
        "wires": []
    },
    {
        "id": "1969b218.b2777e",
        "type": "mqtt out",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "frontgate/led",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 630,
        "y": 240,
        "wires": []
    },
    {
        "id": "736bf43f.a0c9dc",
        "type": "change",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "frontgate/led",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 220,
        "wires": [
            [
                "75886ab6.974b64",
                "1969b218.b2777e"
            ]
        ]
    },
    {
        "id": "2fd2aa8c.71e0c6",
        "type": "mqtt in",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "frontgate/status",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "75886ab6.974b64"
            ]
        ]
    },
    {
        "id": "51a5de1a.e7b81",
        "type": "function",
        "z": "8fc7a6b6.0295a8",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 720,
        "y": 380,
        "wires": [
            [
                "29d8a8b0.35ed78",
                "7089b212.79676c",
                "f7eab0f6.ded0f"
            ]
        ]
    },
    {
        "id": "29d8a8b0.35ed78",
        "type": "debug",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1330,
        "y": 340,
        "wires": []
    },
    {
        "id": "7089b212.79676c",
        "type": "ui_text",
        "z": "8fc7a6b6.0295a8",
        "group": "43f6f1df.3c283",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Motion Lasted (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1130,
        "y": 380,
        "wires": []
    },
    {
        "id": "fc08194a.b65668",
        "type": "ui_text",
        "z": "8fc7a6b6.0295a8",
        "group": "43f6f1df.3c283",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Motion @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1180,
        "y": 420,
        "wires": []
    },
    {
        "id": "f7eab0f6.ded0f",
        "type": "moment",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 930,
        "y": 420,
        "wires": [
            [
                "fc08194a.b65668"
            ]
        ]
    },
    {
        "id": "6c8794cf.5de9dc",
        "type": "change",
        "z": "8fc7a6b6.0295a8",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "ON",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "OFF",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 320,
        "wires": [
            [
                "51a5de1a.e7b81",
                "29d8a8b0.35ed78",
                "e2157403.adee18"
            ]
        ]
    },
    {
        "id": "1a445b03.3820c5",
        "type": "homekit-service",
        "z": "8fc7a6b6.0295a8",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "Hallway motion",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 680,
        "y": 460,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f9995f1e.bbbe",
        "type": "change",
        "z": "8fc7a6b6.0295a8",
        "name": "payload to MotionDected",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 460,
        "wires": [
            [
                "1a445b03.3820c5"
            ]
        ]
    },
    {
        "id": "e2157403.adee18",
        "type": "trigger",
        "z": "8fc7a6b6.0295a8",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 290,
        "y": 400,
        "wires": [
            [
                "f9995f1e.bbbe"
            ]
        ]
    },
    {
        "id": "61755af6.9182c4",
        "type": "function",
        "z": "8fc7a6b6.0295a8",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 620,
        "wires": [
            [
                "aece2e5b.adb3d",
                "1d45fda6.e097f2",
                "b587534b.b4dfc"
            ]
        ]
    },
    {
        "id": "aece2e5b.adb3d",
        "type": "debug",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 910,
        "y": 700,
        "wires": []
    },
    {
        "id": "1d45fda6.e097f2",
        "type": "ui_text",
        "z": "8fc7a6b6.0295a8",
        "group": "43f6f1df.3c283",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Offline since (seconds)",
        "format": "{{msg.diff}}",
        "layout": "row-spread",
        "x": 1140,
        "y": 620,
        "wires": []
    },
    {
        "id": "d77957e.eac6ea8",
        "type": "ui_text",
        "z": "8fc7a6b6.0295a8",
        "d": true,
        "group": "43f6f1df.3c283",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Seen @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1170,
        "y": 660,
        "wires": []
    },
    {
        "id": "b587534b.b4dfc",
        "type": "moment",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 910,
        "y": 660,
        "wires": [
            [
                "d77957e.eac6ea8"
            ]
        ]
    },
    {
        "id": "ae29442e.059348",
        "type": "function",
        "z": "8fc7a6b6.0295a8",
        "name": "online unless not online",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 580,
        "wires": [
            [
                "1d67b81f.7a30c8",
                "61755af6.9182c4",
                "b199f2.39a8f61"
            ]
        ]
    },
    {
        "id": "bc05394f.9a4268",
        "type": "ping",
        "z": "8fc7a6b6.0295a8",
        "mode": null,
        "name": "nodemcu1",
        "host": "192.168.0.54",
        "timer": "5",
        "inputs": 0,
        "x": 160,
        "y": 540,
        "wires": [
            [
                "ae29442e.059348",
                "e54b7088.6df76"
            ]
        ]
    },
    {
        "id": "1d67b81f.7a30c8",
        "type": "debug",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 610,
        "y": 660,
        "wires": []
    },
    {
        "id": "e54b7088.6df76",
        "type": "debug",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 330,
        "y": 620,
        "wires": []
    },
    {
        "id": "b199f2.39a8f61",
        "type": "ui_led",
        "z": "8fc7a6b6.0295a8",
        "group": "43f6f1df.3c283",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1190,
        "y": 580,
        "wires": []
    },
    {
        "id": "2a5005a0.2aec2a",
        "type": "function",
        "z": "4c4e755b.4ac2bc",
        "name": "check distance",
        "func": "\nlet flagged = context.get(\"flagged\");\n\nif(flagged ===  true) \n\t\t{ \n\tif (msg.payload < 300) // 2nd time its low\n\t\t\t{\n\t\t\tcontext.set(\"motion\", true);\n\t\t\tmsg.motion = true;\n\t\t\t\n   \t \t\tcontext.set(\"flagged\",false);\n   \t \t\tmsg.flagged = false;\n\t\t\t} \n\t\t}\n\nif (msg.payload < 300) // first time flag if low\n\t\t{\n\t\tmsg.flagged = true; \n\t\tcontext.set(\"flagged\",true);\n\n\t\t}\n\n\nif (msg.payload > 300)\n\t{\n\tcontext.set(\"motion\", false);\n\tmsg.motion = false;\n\n    msg.flagged = false;  //  clear flag if high\n    context.set(\"flagged\",false);\n\t}\n\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 600,
        "y": 720,
        "wires": [
            [
                "d7237ffb.aeca5",
                "1fbaf9c6.743f56",
                "2e2fabce.3e63c4",
                "9921f951.d04538"
            ]
        ]
    },
    {
        "id": "d7237ffb.aeca5",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "motion",
        "targetType": "msg",
        "x": 610,
        "y": 820,
        "wires": []
    },
    {
        "id": "1fbaf9c6.743f56",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 610,
        "y": 880,
        "wires": []
    },
    {
        "id": "2e2fabce.3e63c4",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "flagged",
        "targetType": "msg",
        "x": 610,
        "y": 940,
        "wires": []
    },
    {
        "id": "9921f951.d04538",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "motion - payload",
        "rules": [
            {
                "t": "move",
                "p": "motion",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 720,
        "wires": [
            [
                "b1c4f92.1e63108",
                "66889d4b.f87244"
            ]
        ]
    },
    {
        "id": "5f04366.f6a46c8",
        "type": "trigger",
        "z": "4c4e755b.4ac2bc",
        "op1": "",
        "op2": "false",
        "op1type": "pay",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1270,
        "y": 620,
        "wires": [
            [
                "74f3d5f.259222c",
                "65996bdd.0c9824",
                "cdc0722d.8cfa9"
            ]
        ]
    },
    {
        "id": "c678d2b5.8bd5",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1530,
        "y": 880,
        "wires": []
    },
    {
        "id": "b1c4f92.1e63108",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 950,
        "y": 780,
        "wires": []
    },
    {
        "id": "c83bce0a.f62f6",
        "type": "inject",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "",
        "payload": "200",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 350,
        "y": 580,
        "wires": [
            [
                "ff3b606c.b415f"
            ]
        ]
    },
    {
        "id": "66889d4b.f87244",
        "type": "switch",
        "z": "4c4e755b.4ac2bc",
        "name": "true false",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1040,
        "y": 640,
        "wires": [
            [
                "5f04366.f6a46c8",
                "57c1bfec.6531",
                "9409d87b.1d94b8"
            ],
            []
        ]
    },
    {
        "id": "35541f38.98e24",
        "type": "inject",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "",
        "payload": "5500",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 350,
        "y": 620,
        "wires": [
            [
                "ff3b606c.b415f"
            ]
        ]
    },
    {
        "id": "bef429da.921058",
        "type": "homekit-service",
        "z": "4c4e755b.4ac2bc",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "doorbell_motion",
        "serviceName": "MotionSensor",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 1460,
        "y": 940,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "65996bdd.0c9824",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "doorbell motion",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"MotionDetected\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"MotionDetected\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 920,
        "wires": [
            [
                "bef429da.921058",
                "c678d2b5.8bd5"
            ]
        ]
    },
    {
        "id": "cdc0722d.8cfa9",
        "type": "ui_text",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Doorbell Motion",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1480,
        "y": 640,
        "wires": []
    },
    {
        "id": "74f3d5f.259222c",
        "type": "function",
        "z": "4c4e755b.4ac2bc",
        "name": "state change time measure",
        "func": "let now = Date.now();\ncontext.set(\"nownow\",now);\n\nlet flagOnline = context.get(\"flagOnline\");\n\nif(msg.payload === true){\n    \n    context.set(\"flagOnline\",true);\n    context.set(\"onlineTimeStamp\",now);\n\n    msg.flagOnline = flagOnline;\n    msg.onlineTimeStamp = now;\n} \n\nif(msg.payload === false){\n\n    if(flagOnline ===true)// Just recently went offline\n    {\n    context.set(\"flagOnline\",false);\n    msg.flagOnline = flagOnline;\n    }\n    \n//    if(flagOnline ===false) // have been offline already\n//    {\n//        // nothing to do.. \n//    }\n \n    let onlineTimeStamp = context.get(\"onlineTimeStamp\");\n    let diff = now - onlineTimeStamp;\n\n    msg.diff = diff/1000; // time in seconds\n    \n    msg.flagOnline = flagOnline;\n    msg.now = now;\n    msg.onlineTimeStamp = onlineTimeStamp;\n    \n}\n\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1360,
        "y": 700,
        "wires": [
            [
                "39c92de7.524672"
            ]
        ]
    },
    {
        "id": "39c92de7.524672",
        "type": "moment",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "date",
        "input": "onlineTimeStamp",
        "inputType": "msg",
        "inTz": "ETC/GMT",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "ddd DD.MMM.YY - HH:mm:ss",
        "locale": "EN",
        "output": "onlineTimeStamp",
        "outputType": "msg",
        "outTz": "Australia/Melbourne",
        "x": 1330,
        "y": 760,
        "wires": [
            [
                "1118a060.2c46b"
            ]
        ]
    },
    {
        "id": "1118a060.2c46b",
        "type": "ui_text",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Motion @ ",
        "format": "{{msg.onlineTimeStamp}}",
        "layout": "row-spread",
        "x": 1400,
        "y": 820,
        "wires": []
    },
    {
        "id": "5c6790ea.0faae",
        "type": "debug",
        "z": "6a644e97.b334d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 640,
        "y": 200,
        "wires": []
    },
    {
        "id": "54080f7c.2903b",
        "type": "mqtt in",
        "z": "6a644e97.b334d",
        "name": "",
        "topic": "$SYS/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "5c6790ea.0faae"
            ]
        ]
    },
    {
        "id": "3b8ef31c.53c42c",
        "type": "influxdb out",
        "z": "4c4e755b.4ac2bc",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "ultrasonic",
        "precision": "s",
        "retentionPolicy": "",
        "x": 670,
        "y": 640,
        "wires": []
    },
    {
        "id": "1c2e52e8.35043d",
        "type": "homekit-service",
        "z": "ac407144.c6bff",
        "d": true,
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LIFX2",
        "serviceName": "Lightbulb",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "",
        "hardwareRev": "",
        "softwareRev": "",
        "cameraConfigVideoProcessor": "",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": "",
        "cameraConfigMaxWidth": "",
        "cameraConfigMaxHeight": "",
        "cameraConfigMaxFPS": "",
        "cameraConfigMaxBitrate": "",
        "cameraConfigVideoCodec": "",
        "cameraConfigAudioCodec": "",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": "",
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "",
        "cameraConfigMapAudio": "",
        "cameraConfigVideoFilter": "",
        "cameraConfigAdditionalCommandLine": "",
        "cameraConfigDebug": false,
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\"Brightness\":true}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 610,
        "y": 1300,
        "wires": [
            [
                "154024e.e80cbdb",
                "9ed1cd87.b7d5f",
                "766cc68e.bb8438",
                "d77d786c.97e458"
            ],
            []
        ]
    },
    {
        "id": "154024e.e80cbdb",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "HomeKit Out",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 930,
        "y": 1300,
        "wires": []
    },
    {
        "id": "5c2eb283.4daa6c",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Brightness to HomeKit",
        "func": "var input = msg.payload;\nif (input < 101){\n    if (input < 1) {\n        msg.payload = {\n        \"On\": false\n    }\n    }\n    else {\n        msg.payload = {\n        \"Brightness\": input,\n        \"On\": true\n    }\n    }\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 520,
        "y": 1380,
        "wires": [
            [
                "1c2e52e8.35043d"
            ]
        ]
    },
    {
        "id": "9ed1cd87.b7d5f",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Brightness to Integer",
        "func": "var b = context.get('b')||0;\nif(msg.payload.Brightness){\n    b = msg.payload.Brightness;\n    context.set('b',b);\n    msg.payload=b\n}\n\n// Uncomment lines 9 and 20 to prevent looping\n//if (msg.hap.context !== undefined) {\n    if(msg.payload.Brightness === 0){\n        msg.payload = 0\n    }\n    if(msg.payload.On === false){\n        msg.payload = 0\n    }\n    if(msg.payload.On === true){\n        msg.payload = b\n    }\n    return msg\n//}",
        "outputs": 1,
        "noerr": 0,
        "x": 820,
        "y": 1380,
        "wires": [
            [
                "37708feb.e7b2d",
                "df43aee6.bef4d",
                "8473b95e.27ae18"
            ]
        ]
    },
    {
        "id": "37708feb.e7b2d",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "Brightness Out",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1040,
        "y": 1380,
        "wires": []
    },
    {
        "id": "604a960.457b26c",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "topic",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "{\"On\":true}",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "{\"On\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1300,
        "wires": [
            [
                "1c2e52e8.35043d"
            ]
        ]
    },
    {
        "id": "766cc68e.bb8438",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1200,
        "wires": [
            [
                "d03ffa76.3b26b8",
                "8473b95e.27ae18"
            ]
        ]
    },
    {
        "id": "4a713674.e851d8",
        "type": "function",
        "z": "c64e88e4.394898",
        "name": "",
        "func": "\nvar trueMsg = { payload: true };\nvar falseMsg = { payload: false };\n\n\nif(msg.payload===false)\n{\n    return falseMsg; \n}\nelse{\n        return trueMsg; \n\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 1200,
        "wires": [
            [
                "9fd4b76c.ff2628"
            ]
        ]
    },
    {
        "id": "63eae8c0.8a21c8",
        "type": "ping",
        "z": "c64e88e4.394898",
        "mode": null,
        "name": "LIFX 2 192.168.0.52",
        "host": "192.168.0.52",
        "timer": "5",
        "inputs": 0,
        "x": 130,
        "y": 1200,
        "wires": [
            [
                "4a713674.e851d8"
            ]
        ]
    },
    {
        "id": "9fd4b76c.ff2628",
        "type": "ui_led",
        "z": "c64e88e4.394898",
        "group": "68a44d5b.0a65b4",
        "order": 18,
        "width": 6,
        "height": 1,
        "label": "LIFX 2 192.168.0.52",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "LIFX 2 192.168.0.52",
        "x": 660,
        "y": 1200,
        "wires": [],
        "info": "HELLO"
    },
    {
        "id": "987576c8.fe38c8",
        "type": "homekit-service",
        "z": "ac407144.c6bff",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LIFX1",
        "serviceName": "Lightbulb",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "",
        "hardwareRev": "",
        "softwareRev": "",
        "cameraConfigVideoProcessor": "",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": "",
        "cameraConfigMaxWidth": "",
        "cameraConfigMaxHeight": "",
        "cameraConfigMaxFPS": "",
        "cameraConfigMaxBitrate": "",
        "cameraConfigVideoCodec": "",
        "cameraConfigAudioCodec": "",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": "",
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "",
        "cameraConfigMapAudio": "",
        "cameraConfigVideoFilter": "",
        "cameraConfigAdditionalCommandLine": "",
        "cameraConfigDebug": false,
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\"Brightness\":true}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 590,
        "y": 320,
        "wires": [
            [
                "34799268.7c26ce",
                "7728658.ee6ce9c",
                "745d985b.7b2128"
            ],
            []
        ]
    },
    {
        "id": "34799268.7c26ce",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 320,
        "wires": [
            [
                "67f5a4c1.07af9c"
            ]
        ]
    },
    {
        "id": "df43aee6.bef4d",
        "type": "ui_slider",
        "z": "ac407144.c6bff",
        "name": "",
        "label": "LIFX 2",
        "tooltip": "",
        "group": "bf7639b5.36f358",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 570,
        "y": 1460,
        "wires": [
            [
                "5c2eb283.4daa6c"
            ]
        ]
    },
    {
        "id": "d03ffa76.3b26b8",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "HomeKit Out",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1170,
        "y": 1180,
        "wires": []
    },
    {
        "id": "fcb785e7.9af668",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Brightness to HomeKit",
        "func": "var input = msg.payload;\nif (input < 101){\n    if (input < 1) {\n        msg.payload = {\n        \"On\": false\n    }\n    }\n    else {\n        msg.payload = {\n        \"Brightness\": input,\n        \"On\": true\n    }\n    }\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 260,
        "wires": [
            [
                "987576c8.fe38c8"
            ]
        ]
    },
    {
        "id": "7728658.ee6ce9c",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "Brightness to Integer",
        "func": "var b = context.get('b')||0;\nif(msg.payload.Brightness){\n    b = msg.payload.Brightness;\n    context.set('b',b);\n    msg.payload=b\n}\n\n// Uncomment lines 9 and 20 to prevent looping\n//if (msg.hap.context !== undefined) {\n    if(msg.payload.Brightness === 0){\n        msg.payload = 0\n    }\n    if(msg.payload.On === false){\n        msg.payload = 0\n    }\n    if(msg.payload.On === true){\n        msg.payload = b\n    }\n    return msg\n//}",
        "outputs": 1,
        "noerr": 0,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "67f5a4c1.07af9c",
                "1028c8f7.5219e7"
            ]
        ]
    },
    {
        "id": "772fc31a.5e4acc",
        "type": "ui_colour_picker",
        "z": "ac407144.c6bff",
        "name": "",
        "label": "LIFX 1 RGB",
        "group": "bf7639b5.36f358",
        "format": "rgb",
        "outformat": "object",
        "showSwatch": true,
        "showPicker": true,
        "showValue": true,
        "showHue": true,
        "showAlpha": false,
        "showLightness": false,
        "square": "true",
        "dynOutput": "false",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 850,
        "y": 100,
        "wires": [
            [
                "2e05c8bd.8365b8"
            ]
        ]
    },
    {
        "id": "2e05c8bd.8365b8",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "LIFX FX",
        "func": "msg.payload = {\"rgb\": [ msg.payload.r, msg.payload.g, msg.payload.b ] }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1000,
        "y": 100,
        "wires": [
            [
                "67f5a4c1.07af9c"
            ]
        ]
    },
    {
        "id": "745d985b.7b2128",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1290,
        "y": 260,
        "wires": []
    },
    {
        "id": "8ac0f1a1.a657f",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 130,
        "y": 300,
        "wires": []
    },
    {
        "id": "d8711e4d.ffa09",
        "type": "inject",
        "z": "ac407144.c6bff",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 540,
        "wires": [
            [
                "dfe209a4.1b2d28"
            ]
        ]
    },
    {
        "id": "e39b4162.71748",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 150,
        "y": 660,
        "wires": []
    },
    {
        "id": "88829d67.493c6",
        "type": "node-lifx-in",
        "z": "ac407144.c6bff",
        "server": "8ad492c4.65edc",
        "name": "LIFX 1",
        "lightID": "d073d500c235",
        "x": 690,
        "y": 460,
        "wires": []
    },
    {
        "id": "1028c8f7.5219e7",
        "type": "ui_slider",
        "z": "ac407144.c6bff",
        "name": "",
        "label": "LIFX 1",
        "tooltip": "",
        "group": "bf7639b5.36f358",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 610,
        "y": 200,
        "wires": [
            [
                "fcb785e7.9af668"
            ]
        ]
    },
    {
        "id": "ade78e6a.ed47c",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "PIR TRUE= BRI=100",
        "func": "var msgTwo = [];\n\nif(msg.payload === true)\n    {\n        msg.payload = {\"on\":true, \"bri\":100, \"duration\":2000 };\n//        msg.payload = {\"on\":true, \"bri\":100, \"duration\":2000 };\n\n        msgTwo.payload = {\"On\":true};\n//        msgTwo.payload = {\"On\":true, \"Brightness\": 100};\n        }\n        \n if(msg.payload === false)\n    {\n//        msg.payload = {\"on\":false, \"bri\":0, \"duration\":5000 };\n        msg.payload = {\"on\":false, \"duration\":5000 };\n//        msgTwo.payload = {\"On\":false, \"Brightness\": 0};\n        msgTwo.payload = {\"On\":false, };\n        }       \n        \n        \nreturn [msg,msgTwo.payload];",
        "outputs": 2,
        "noerr": 0,
        "x": 420,
        "y": 500,
        "wires": [
            [
                "88829d67.493c6",
                "97a4b6a.612c248"
            ],
            [
                "100ac96a.1eb177",
                "de4a758e.97abe8"
            ]
        ]
    },
    {
        "id": "97a4b6a.612c248",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 890,
        "y": 480,
        "wires": []
    },
    {
        "id": "100ac96a.1eb177",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 890,
        "y": 540,
        "wires": []
    },
    {
        "id": "de4a758e.97abe8",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "payload",
        "rules": [
            {
                "t": "move",
                "p": "On",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "Brightness",
                "pt": "msg",
                "to": "payload.Brightness",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 400,
        "wires": [
            [
                "987576c8.fe38c8",
                "f06f4c7c.6ebfc"
            ]
        ]
    },
    {
        "id": "f06f4c7c.6ebfc",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 890,
        "y": 400,
        "wires": []
    },
    {
        "id": "4c38dcc4.efab54",
        "type": "inject",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "x": 710,
        "y": 1300,
        "wires": [
            [
                "ebd650af.1766"
            ]
        ]
    },
    {
        "id": "ebd650af.1766",
        "type": "trigger",
        "z": "4e68cfeb.fa3a4",
        "op1": "on",
        "op2": "off",
        "op1type": "str",
        "op2type": "str",
        "duration": "1",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 900,
        "y": 1300,
        "wires": [
            [
                "b195d02d.44894",
                "7a1b109c.c2e34",
                "3d06764d.e053ea"
            ]
        ]
    },
    {
        "id": "b195d02d.44894",
        "type": "mqtt out",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/output",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 1080,
        "y": 1300,
        "wires": []
    },
    {
        "id": "8590a5c0.207fb8",
        "type": "comment",
        "z": "4e68cfeb.fa3a4",
        "name": "Inject 2sec + On/Off 1 Sec",
        "info": "Injects every 2 secs.\n1sec delay between On and Off",
        "x": 930,
        "y": 1240,
        "wires": []
    },
    {
        "id": "7a1b109c.c2e34",
        "type": "ui_led",
        "z": "4e68cfeb.fa3a4",
        "group": "99996bf0.0b8508",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "esp32 output",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "on",
                "valueType": "str"
            },
            {
                "color": "green",
                "value": "off",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1050,
        "y": 1361,
        "wires": []
    },
    {
        "id": "4c56805c.abad3",
        "type": "inject",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 90,
        "y": 320,
        "wires": [
            [
                "7e17ac54.633494"
            ]
        ]
    },
    {
        "id": "7e17ac54.633494",
        "type": "mqtt out",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/button",
        "qos": "",
        "retain": "",
        "broker": "9622b515.1f1858",
        "x": 300,
        "y": 320,
        "wires": []
    },
    {
        "id": "724b2a80.a1f434",
        "type": "inject",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "",
        "payload": "off",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 90,
        "y": 380,
        "wires": [
            [
                "7e17ac54.633494"
            ]
        ]
    },
    {
        "id": "3bc0a46f.fc886c",
        "type": "switch",
        "z": "4c4e755b.4ac2bc",
        "name": "if on",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 420,
        "wires": [
            [
                "d4b193df.711bc",
                "d9ed42ed.82ba6",
                "898c0658.115d08"
            ]
        ]
    },
    {
        "id": "d3cc93.aff9937",
        "type": "homekit-service",
        "z": "4c4e755b.4ac2bc",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "doorbell",
        "serviceName": "Doorbell",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 1260,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d4b193df.711bc",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "on - {\"ProgrammableSwitchEvent\":2}",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "{\"ProgrammableSwitchEvent\":2}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 420,
        "wires": [
            [
                "d3cc93.aff9937",
                "7bf2d55f.a5cd4c"
            ]
        ]
    },
    {
        "id": "7bf2d55f.a5cd4c",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1250,
        "y": 380,
        "wires": []
    },
    {
        "id": "d9ed42ed.82ba6",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "Door bell rung! ! ",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "Door bell rung! ! ",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 460,
        "wires": [
            [
                "829c6619.df1bc8"
            ]
        ]
    },
    {
        "id": "57c1bfec.6531",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "Motion at Gate! !",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "MOTION AT GATE !!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 500,
        "wires": [
            [
                "20dd45eb.e10fda"
            ]
        ]
    },
    {
        "id": "829c6619.df1bc8",
        "type": "trigger",
        "z": "4c4e755b.4ac2bc",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "30",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1410,
        "y": 460,
        "wires": [
            [
                "1bb1a1c9.5924be"
            ]
        ]
    },
    {
        "id": "20dd45eb.e10fda",
        "type": "trigger",
        "z": "4c4e755b.4ac2bc",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "30",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1410,
        "y": 500,
        "wires": [
            [
                "1bb1a1c9.5924be"
            ]
        ]
    },
    {
        "id": "898c0658.115d08",
        "type": "trigger",
        "z": "4c4e755b.4ac2bc",
        "op1": "",
        "op2": "off",
        "op1type": "pay",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1200,
        "y": 320,
        "wires": [
            [
                "5e3f5af2.c7ca94",
                "d943149a.4483b8",
                "9961ccfa.b056a"
            ]
        ]
    },
    {
        "id": "9409d87b.1d94b8",
        "type": "change",
        "z": "4c4e755b.4ac2bc",
        "name": "Motion at Gate! !",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 540,
        "wires": [
            [
                "898c0658.115d08"
            ]
        ]
    },
    {
        "id": "47b9a2b5.312b4c",
        "type": "trigger",
        "z": "4e68cfeb.fa3a4",
        "op1": "",
        "op2": "SEG Meter offline ",
        "op1type": "nul",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 490,
        "y": 1860,
        "wires": [
            [
                "78f1ba9.7682344"
            ]
        ]
    },
    {
        "id": "8c5b9aa0.5b6818",
        "type": "function",
        "z": "9d220062.73fe3",
        "name": "reverse payload message",
        "func": "msg.payload = msg.payload.split('').reverse().join('');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 743,
        "y": 345,
        "wires": [
            [
                "6b41eef1.6192f"
            ]
        ]
    },
    {
        "id": "9f7c17ae.61d428",
        "type": "switch",
        "z": "9d220062.73fe3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "hello",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "outputs": 1,
        "x": 483,
        "y": 347,
        "wires": [
            [
                "8c5b9aa0.5b6818"
            ]
        ]
    },
    {
        "id": "c508ea62.a5c988",
        "type": "debug",
        "z": "9d220062.73fe3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 500,
        "y": 460,
        "wires": []
    },
    {
        "id": "ac5ec7dc.13e358",
        "type": "function",
        "z": "9d220062.73fe3",
        "name": "reverse payload message",
        "func": "msg.payload = \"Don't talk about work!\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 722,
        "y": 162,
        "wires": [
            [
                "84b62c56.7a497"
            ]
        ]
    },
    {
        "id": "f77fcdbf.36e5",
        "type": "switch",
        "z": "9d220062.73fe3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "acmi",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 462,
        "y": 164,
        "wires": [
            [
                "ac5ec7dc.13e358"
            ]
        ]
    },
    {
        "id": "ee7dff6a.cb334",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "IF PIR TRUE & AUTO TRUE,  BRI=100",
        "func": "\nlet hallauto = flow.get(\"hallauto\");\n\n if(msg.payload.hallpir === true && hallauto === true)\n   {\n       msg.payload = {\"first step\": \"works\"};\n         msg.payload = {\"on\":true, \"duration\":2000 };\n//       msg.payload = {\"on\":true, \"bri\":100, \"duration\":2000 };\n    }\n\n if(msg.payload.hallpir === false ) \n    {\n//        msg.payload = {\"on\":false, \"bri\":0, \"duration\":5000 };\n        msg.payload = {\"on\":false, \"duration\":5000 };\n    }\n\n if(hallauto === false ) // so the auto/off switch can turn off the light. \n    {\n//        msg.payload = {\"on\":false, \"bri\":0, \"duration\":1000 };\n        msg.payload = {\"on\":false, \"duration\":1000 };\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 710,
        "y": 1600,
        "wires": [
            [
                "9035616a.353b6",
                "fb939e3f.0ab88",
                "9ace773a.249b68",
                "e2de0c41.0d8bc"
            ]
        ]
    },
    {
        "id": "5c60708b.683d5",
        "type": "trigger",
        "z": "ac407144.c6bff",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "2",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 230,
        "y": 1620,
        "wires": [
            [
                "ad3c2ff9.3b642",
                "ddae6d8c.139b1"
            ]
        ]
    },
    {
        "id": "d4db70cd.b870f",
        "type": "mqtt in",
        "z": "8fc7a6b6.0295a8",
        "name": "",
        "topic": "frontgate/pir",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 850,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c64911.f95426f",
        "type": "mqtt in",
        "z": "ac407144.c6bff",
        "name": "",
        "topic": "frontgate/pir",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 70,
        "y": 1500,
        "wires": [
            [
                "3c4e619d.58e87e",
                "ab2def16.44a7f"
            ]
        ]
    },
    {
        "id": "d6e9442a.1a1958",
        "type": "node-lifx-in",
        "z": "ac407144.c6bff",
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d555927b",
        "x": 1430,
        "y": 1440,
        "wires": []
    },
    {
        "id": "577ad28d.a89d9c",
        "type": "homekit-service",
        "z": "ac407144.c6bff",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "LIFX2",
        "serviceName": "Lightbulb",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "",
        "hardwareRev": "",
        "softwareRev": "",
        "cameraConfigVideoProcessor": "",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": "",
        "cameraConfigMaxWidth": "",
        "cameraConfigMaxHeight": "",
        "cameraConfigMaxFPS": "",
        "cameraConfigMaxBitrate": "",
        "cameraConfigVideoCodec": "",
        "cameraConfigAudioCodec": "",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": "",
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "",
        "cameraConfigMapAudio": "",
        "cameraConfigVideoFilter": "",
        "cameraConfigAdditionalCommandLine": "",
        "cameraConfigDebug": false,
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{\"Brightness\":true}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 1070,
        "y": 1580,
        "wires": [
            [
                "df445566.f518a8",
                "3b549f76.533d7"
            ],
            []
        ]
    },
    {
        "id": "3b549f76.533d7",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1210,
        "y": 1660,
        "wires": []
    },
    {
        "id": "df445566.f518a8",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1580,
        "wires": [
            [
                "d6e9442a.1a1958",
                "e8d218a4.dffc88"
            ]
        ]
    },
    {
        "id": "fb939e3f.0ab88",
        "type": "node-lifx-in",
        "z": "ac407144.c6bff",
        "server": "8ad492c4.65edc",
        "name": "LIFX 2",
        "lightID": "d073d555927b",
        "x": 990,
        "y": 1440,
        "wires": []
    },
    {
        "id": "9035616a.353b6",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 990,
        "y": 1500,
        "wires": []
    },
    {
        "id": "23eed091.6c459",
        "type": "http in",
        "z": "27b235a2.c04f6a",
        "name": "TwilioSMS Web GET",
        "url": "/twiliosms",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "42836e66.b89be",
                "78f37e1c.25761",
                "b66f3d5c.4af9e"
            ]
        ]
    },
    {
        "id": "15b2574d.bdcc49",
        "type": "function",
        "z": "27b235a2.c04f6a",
        "name": "Process SMS",
        "func": "// Process SMS request and create response\n// If SMS starts with READ (match is case insensitive) then use rest to access\n// a global context to read a previously stored value from a sensor\n// If READ not found then just returns what you sent\nvar responseMsg = \"\";\nvar smsMsg = msg.req.query.Body;\nif( smsMsg.substr(0,4).toUpperCase() == \"READ\" ) {\n\tvar name = smsMsg.substr(4).trim();\n\tvar reading = context.global[name];\n\tresponseMsg = name + \": \" + reading;\n} else {\n\tresponseMsg = \"You sent: \" + msg.req.query.Body;\n}\n\n// Create JSON object for payload response\nvar messageObj = { \"Message\": responseMsg } ;\n\n// Need to return received msg object, but with new payload\nmsg.payload = messageObj;\nreturn msg;",
        "outputs": "1",
        "x": 493,
        "y": 274,
        "wires": [
            []
        ]
    },
    {
        "id": "65cc8ea7.ba581",
        "type": "http response",
        "z": "27b235a2.c04f6a",
        "name": "Send TwiML",
        "x": 670,
        "y": 560,
        "wires": []
    },
    {
        "id": "42836e66.b89be",
        "type": "switch",
        "z": "27b235a2.c04f6a",
        "name": "Switch",
        "property": "payload.Body",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "ALARM",
                "vt": "str"
            },
            {
                "t": "nnull"
            }
        ],
        "repair": false,
        "outputs": 2,
        "x": 316,
        "y": 241,
        "wires": [
            [
                "37bf1e22.aa1b82",
                "cb90a0c1.22c89"
            ],
            [
                "15b2574d.bdcc49"
            ]
        ]
    },
    {
        "id": "37bf1e22.aa1b82",
        "type": "function",
        "z": "27b235a2.c04f6a",
        "d": true,
        "name": "Process alarm",
        "func": "// Setup WEMO message based on on/off received for wemo command\nvar smsMsg = msg.payload.Body;\nif( smsMsg.substr(0,5).toUpperCase() == \"ALARM\" ) {\n\tvar status = smsMsg.substr(5).trim();\n\tif( status.toUpperCase() == \"ON\" )\n\t\tmsg.payload = \"1\";\n//\telse\n//\t\tmsg.payload = \"0\";\n\tif( status.toUpperCase() == \"OFF\" )\n\t\tmsg.payload = \"0\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 520,
        "y": 220,
        "wires": [
            [
                "8c6eea37.2a2ea8"
            ]
        ]
    },
    {
        "id": "78f37e1c.25761",
        "type": "debug",
        "z": "27b235a2.c04f6a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 310,
        "y": 160,
        "wires": []
    },
    {
        "id": "efc69141.25e6f",
        "type": "comment",
        "z": "27b235a2.c04f6a",
        "name": "http://user:password@dargs.dyndns-remote.com:8095/twiliosms",
        "info": "http://dargs.dyndns-remote.com/twiliosms:8095\n\nhttp://user:password@dargs.dyndns-remote.com:8095/twiliosms\n\n\nmsg.payload.Body\n\nALARM ON\n\n",
        "x": 330,
        "y": 100,
        "wires": []
    },
    {
        "id": "8c6eea37.2a2ea8",
        "type": "debug",
        "z": "27b235a2.c04f6a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 770,
        "y": 240,
        "wires": []
    },
    {
        "id": "94016fef.be496",
        "type": "comment",
        "z": "27b235a2.c04f6a",
        "name": "ALARM ON",
        "info": "",
        "x": 930,
        "y": 120,
        "wires": []
    },
    {
        "id": "b66f3d5c.4af9e",
        "type": "template",
        "z": "27b235a2.c04f6a",
        "name": "page",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response>\n    <Message>We got your message, thank you!</Message>\n</Response>",
        "x": 290,
        "y": 340,
        "wires": [
            [
                "e20a9f80.e7adb"
            ]
        ]
    },
    {
        "id": "e20a9f80.e7adb",
        "type": "http response",
        "z": "27b235a2.c04f6a",
        "name": "",
        "x": 430,
        "y": 340,
        "wires": []
    },
    {
        "id": "49ed463b.c7b088",
        "type": "comment",
        "z": "27b235a2.c04f6a",
        "name": "ALARM OFF",
        "info": "",
        "x": 930,
        "y": 180,
        "wires": []
    },
    {
        "id": "cb90a0c1.22c89",
        "type": "switch",
        "z": "27b235a2.c04f6a",
        "name": "ALARM ON/OFF",
        "property": "payload.Body",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ALARM ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ALARM OFF",
                "vt": "str"
            }
        ],
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 160,
        "wires": [
            [
                "b71fec6b.0d774"
            ],
            [
                "53405860.4b14d8"
            ]
        ]
    },
    {
        "id": "b71fec6b.0d774",
        "type": "debug",
        "z": "27b235a2.c04f6a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 120,
        "wires": []
    },
    {
        "id": "53405860.4b14d8",
        "type": "debug",
        "z": "27b235a2.c04f6a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 180,
        "wires": []
    },
    {
        "id": "2acbef9d.fd873",
        "type": "template",
        "z": "27b235a2.c04f6a",
        "name": "page",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<html>\n    <head></head>\n    <body>\n        <h1>Hello World!</h1>\n    </body>\n</html>",
        "x": 290,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "38d33683.78a7da",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "esp32/output",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 690,
        "y": 380,
        "wires": [
            [
                "c274a5a1.1676c8"
            ]
        ]
    },
    {
        "id": "c274a5a1.1676c8",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 950,
        "y": 380,
        "wires": []
    },
    {
        "id": "b96e2287.da2b6",
        "type": "mqtt in",
        "z": "8169de78.7204",
        "name": "",
        "topic": "+/tasmota_8EBFE6/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 200,
        "y": 80,
        "wires": [
            [
                "2534e6bd.37838a"
            ]
        ]
    },
    {
        "id": "2534e6bd.37838a",
        "type": "debug",
        "z": "8169de78.7204",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 430,
        "y": 80,
        "wires": []
    },
    {
        "id": "7fde81c7.88393",
        "type": "Tasmota Switch",
        "z": "8169de78.7204",
        "broker": "9622b515.1f1858",
        "device": "tasmota_8EBFE6",
        "name": "",
        "outputs": 1,
        "uidisabler": false,
        "fullTopic": "",
        "cmndPrefix": "",
        "statPrefix": "",
        "telePrefix": "",
        "x": 450,
        "y": 420,
        "wires": [
            [
                "8ef609a8.a99168",
                "6da48b6f.e296c4"
            ]
        ]
    },
    {
        "id": "8ef609a8.a99168",
        "type": "ui_switch",
        "z": "8169de78.7204",
        "name": "",
        "label": "R2 POW POWER",
        "tooltip": "",
        "group": "7495d206.fde17c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 450,
        "y": 320,
        "wires": [
            [
                "7fde81c7.88393"
            ]
        ]
    },
    {
        "id": "29c6cfb2.b2b8",
        "type": "inject",
        "z": "8169de78.7204",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 400,
        "wires": [
            [
                "7fde81c7.88393"
            ]
        ]
    },
    {
        "id": "8a78925b.05971",
        "type": "inject",
        "z": "8169de78.7204",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 440,
        "wires": [
            [
                "7fde81c7.88393"
            ]
        ]
    },
    {
        "id": "bc5a351.eb98dc8",
        "type": "homekit-service",
        "z": "8169de78.7204",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "GPO-3",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "NRCHKB",
        "model": "1.2.0",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.2.0",
        "hardwareRev": "1.2.0",
        "softwareRev": "1.2.0",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 440,
        "y": 560,
        "wires": [
            [
                "d1c958a1.168988"
            ],
            []
        ]
    },
    {
        "id": "d1c958a1.168988",
        "type": "change",
        "z": "8169de78.7204",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 640,
        "wires": [
            [
                "7fde81c7.88393"
            ]
        ]
    },
    {
        "id": "6da48b6f.e296c4",
        "type": "change",
        "z": "8169de78.7204",
        "name": "Tasmota to Homekit",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 480,
        "wires": [
            [
                "bc5a351.eb98dc8"
            ]
        ]
    },
    {
        "id": "d4bc50d1.cefe1",
        "type": "ui_switch",
        "z": "ac407144.c6bff",
        "name": "Hallway Off/Auto",
        "label": "AUTO/OFF",
        "tooltip": "",
        "group": "43f6f1df.3c283",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "hallauto",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 210,
        "y": 1880,
        "wires": [
            [
                "8b4ecc65.2147f",
                "d61c2714.070cc8",
                "5447907b.4e152",
                "d5f248aa.9993a8"
            ]
        ]
    },
    {
        "id": "8b4ecc65.2147f",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 2000,
        "wires": []
    },
    {
        "id": "d61c2714.070cc8",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "set hallauto flow",
        "rules": [
            {
                "t": "set",
                "p": "hallauto",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1940,
        "wires": [
            [
                "2418a4f3.70a98c"
            ]
        ]
    },
    {
        "id": "2418a4f3.70a98c",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 750,
        "y": 1940,
        "wires": []
    },
    {
        "id": "3c4e619d.58e87e",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 270,
        "y": 1460,
        "wires": []
    },
    {
        "id": "ddae6d8c.139b1",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 410,
        "y": 1520,
        "wires": []
    },
    {
        "id": "8ce63ada.7fa5d8",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 610,
        "y": 1540,
        "wires": []
    },
    {
        "id": "ad3c2ff9.3b642",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "payload.hallpir",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.hallpir",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1600,
        "wires": [
            [
                "ee7dff6a.cb334",
                "8ce63ada.7fa5d8"
            ]
        ]
    },
    {
        "id": "ab2def16.44a7f",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "topic PIRs",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "PIRs",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1580,
        "wires": [
            [
                "5c60708b.683d5"
            ]
        ]
    },
    {
        "id": "9ace773a.249b68",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1010,
        "y": 1540,
        "wires": []
    },
    {
        "id": "58682ed3.bef42",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "manual off",
        "func": " if (msg.payload === false ) // so the auto/off switch can turn off the light. \n    {\n        msg.payload = {\"on\":false, \"bri\":0, \"duration\":1000 };\n    }\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "e2de0c41.0d8bc",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "payload",
        "rules": [
            {
                "t": "move",
                "p": "payload.on",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "payload.bri",
                "pt": "msg",
                "to": "payload.Brightness",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload.duration",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.kelvin",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1640,
        "wires": [
            [
                "577ad28d.a89d9c",
                "b127b776.a62598"
            ]
        ]
    },
    {
        "id": "e8d218a4.dffc88",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1490,
        "y": 1580,
        "wires": []
    },
    {
        "id": "b127b776.a62598",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1130,
        "y": 1740,
        "wires": []
    },
    {
        "id": "d31cb515.ff4f68",
        "type": "function",
        "z": "ac407144.c6bff",
        "name": "IF PIR TRUE & AUTO TRUE,  BRI=100",
        "func": "\nlet hallauto = flow.get(\"hallauto\");\n\n if(msg.payload.hallpir === true)\n   { \n       msg.payload = {\"first step\": \"works\"};\n    \n    if(hallauto === true)\n        {\n        msg.payload = {\"on\":true, \"bri\":100, \"duration\":2000 };\n        }\n    }\n\n if(msg.payload.hallpir === false ) \n    {\n        msg.payload = {\"on\":false, \"bri\":0, \"duration\":5000 };\n    }\n\n if(hallauto === false ) // so the auto/off switch can turn off the light. \n    {\n        msg.payload = {\"on\":false, \"bri\":0, \"duration\":1000 };\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 810,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "92b5e7e1.8af368",
        "type": "homekit-service",
        "z": "ac407144.c6bff",
        "isParent": true,
        "bridge": "a92ca4e5.971358",
        "parentService": "",
        "name": "Hall Off/Auto",
        "serviceName": "Switch",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "",
        "hardwareRev": "",
        "softwareRev": "",
        "cameraConfigVideoProcessor": "",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": "",
        "cameraConfigMaxWidth": "",
        "cameraConfigMaxHeight": "",
        "cameraConfigMaxFPS": "",
        "cameraConfigMaxBitrate": "",
        "cameraConfigVideoCodec": "",
        "cameraConfigAudioCodec": "",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": "",
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "",
        "cameraConfigMapAudio": "",
        "cameraConfigVideoFilter": "",
        "cameraConfigAdditionalCommandLine": "",
        "cameraConfigDebug": false,
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 230,
        "y": 2020,
        "wires": [
            [
                "fba36d74.189b7"
            ],
            []
        ]
    },
    {
        "id": "fba36d74.189b7",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload.On",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 2080,
        "wires": [
            [
                "d4bc50d1.cefe1"
            ]
        ]
    },
    {
        "id": "5447907b.4e152",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "Homekit to Tasmota",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.On",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 1960,
        "wires": [
            [
                "92b5e7e1.8af368"
            ]
        ]
    },
    {
        "id": "f3d825a.e5634d8",
        "type": "change",
        "z": "a6927482.554938",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "{\"kelvin\":5000, \"duration\":2000,\"bri\":100 }",
                "tot": "json"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "{\"kelvin\":3000, \"duration\":2000,\"bri\":40 }",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 380,
        "wires": [
            [
                "9deb59cb.0f7d98",
                "71bc9ccd.3eaba4",
                "6c7f64d7.9abfec"
            ]
        ]
    },
    {
        "id": "9deb59cb.0f7d98",
        "type": "node-lifx-in",
        "z": "a6927482.554938",
        "server": "8ad492c4.65edc",
        "name": "Laundry",
        "lightID": "d073d500c235",
        "x": 940,
        "y": 340,
        "wires": []
    },
    {
        "id": "8518aa30.175938",
        "type": "inject",
        "z": "a6927482.554938",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 450,
        "y": 200,
        "wires": [
            [
                "f3d825a.e5634d8"
            ]
        ]
    },
    {
        "id": "92fc0914.8cf148",
        "type": "inject",
        "z": "a6927482.554938",
        "name": "",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 450,
        "y": 260,
        "wires": [
            [
                "f3d825a.e5634d8"
            ]
        ]
    },
    {
        "id": "71bc9ccd.3eaba4",
        "type": "node-lifx-in",
        "z": "a6927482.554938",
        "server": "8ad492c4.65edc",
        "name": "Hallway",
        "lightID": "d073d5015037",
        "x": 940,
        "y": 420,
        "wires": []
    },
    {
        "id": "cfa76c59.ff69",
        "type": "comment",
        "z": "a6927482.554938",
        "name": "1 = Daytime, 0  = Nighttime",
        "info": "",
        "x": 710,
        "y": 240,
        "wires": []
    },
    {
        "id": "c85b94ec.b81ae8",
        "type": "debug",
        "z": "a6927482.554938",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 560,
        "y": 500,
        "wires": []
    },
    {
        "id": "6c7f64d7.9abfec",
        "type": "debug",
        "z": "a6927482.554938",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 940,
        "y": 520,
        "wires": []
    },
    {
        "id": "ddf026f3.cb1958",
        "type": "node-lifx-out",
        "z": "a6927482.554938",
        "server": "8ad492c4.65edc",
        "name": "",
        "lightID": "d073d5015037",
        "x": 500,
        "y": 680,
        "wires": [
            [
                "88d17073.3403d"
            ]
        ]
    },
    {
        "id": "88d17073.3403d",
        "type": "debug",
        "z": "a6927482.554938",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 690,
        "y": 680,
        "wires": []
    },
    {
        "id": "bf7f0be.a1211f8",
        "type": "comment",
        "z": "a6927482.554938",
        "name": "{\"on\":true,\"reachable\":true,\"bri\":100,\"hsv\":[0,0,100],\"rgb\":[255,255,255],\"hex\":\"FFFFFF\",\"color\":\"white\",\"kelvin\":9000,\"mired\":111}",
        "info": "",
        "x": 760,
        "y": 780,
        "wires": []
    },
    {
        "id": "e2410ec2.ed5e2",
        "type": "debug",
        "z": "a6927482.554938",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 210,
        "y": 220,
        "wires": []
    },
    {
        "id": "cead5b0.7fcd5a8",
        "type": "ui_text",
        "z": "a6927482.554938",
        "group": "99996bf0.0b8508",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Day/Night",
        "label": "Day/Night",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 680,
        "y": 120,
        "wires": []
    },
    {
        "id": "8c2f1fbb.b8a18",
        "type": "change",
        "z": "a6927482.554938",
        "name": "Day/Night",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "Day",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "Night",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 120,
        "wires": [
            [
                "cead5b0.7fcd5a8"
            ]
        ]
    },
    {
        "id": "d5f248aa.9993a8",
        "type": "trigger",
        "z": "ac407144.c6bff",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 220,
        "y": 1800,
        "wires": [
            [
                "3f896acd.689896",
                "c01e4efc.bd715"
            ]
        ]
    },
    {
        "id": "3f896acd.689896",
        "type": "debug",
        "z": "ac407144.c6bff",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 470,
        "y": 1740,
        "wires": []
    },
    {
        "id": "81a9bcd8.242d4",
        "type": "comment",
        "z": "ac407144.c6bff",
        "name": "Resets PIR Trig",
        "info": "IF the PIR was already triggered, but you change to Auto, you want to re trigger to turn on the light asap, so the function ahead is TRUE for both hallwaypir and hallwayauto",
        "x": 360,
        "y": 1680,
        "wires": []
    },
    {
        "id": "c01e4efc.bd715",
        "type": "change",
        "z": "ac407144.c6bff",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "reset",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 1720,
        "wires": [
            [
                "5c60708b.683d5"
            ]
        ]
    },
    {
        "id": "e2848746.842678",
        "type": "function",
        "z": "8169de78.7204",
        "name": "Fields",
        "func": "msg.payload = {R2POW_Power: msg.payload.ENERGY.Power};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 610,
        "y": 180,
        "wires": [
            [
                "e35ca983.a985e8",
                "a94bcb95.c12df8"
            ]
        ]
    },
    {
        "id": "e35ca983.a985e8",
        "type": "influxdb out",
        "z": "8169de78.7204",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "segmeter",
        "precision": "s",
        "retentionPolicy": "",
        "x": 910,
        "y": 180,
        "wires": []
    },
    {
        "id": "d13ddba1.faad88",
        "type": "mqtt in",
        "z": "8169de78.7204",
        "name": "",
        "topic": "tele/tasmota_8EBFE6/SENSOR",
        "qos": "2",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 230,
        "y": 180,
        "wires": [
            [
                "b2c31d01.92292",
                "e2848746.842678"
            ]
        ]
    },
    {
        "id": "b2c31d01.92292",
        "type": "debug",
        "z": "8169de78.7204",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 220,
        "wires": []
    },
    {
        "id": "a94bcb95.c12df8",
        "type": "debug",
        "z": "8169de78.7204",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 830,
        "y": 220,
        "wires": []
    },
    {
        "id": "3d06764d.e053ea",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1050,
        "y": 1420,
        "wires": []
    },
    {
        "id": "d943149a.4483b8",
        "type": "ui_led",
        "z": "4c4e755b.4ac2bc",
        "group": "1ade01ee.70162e",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Doorbell LED",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "on",
                "valueType": "str"
            },
            {
                "color": "green",
                "value": "off",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Doorbell LED",
        "x": 1570,
        "y": 260,
        "wires": []
    },
    {
        "id": "9961ccfa.b056a",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1550,
        "y": 380,
        "wires": []
    },
    {
        "id": "e31a2b46.8e8bf8",
        "type": "mqtt in",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "topic": "doorbell/led",
        "qos": "2",
        "datatype": "auto",
        "broker": "9622b515.1f1858",
        "x": 127.14283752441406,
        "y": 125.71428680419922,
        "wires": [
            [
                "24a43ebe.9b23c2"
            ]
        ]
    },
    {
        "id": "24a43ebe.9b23c2",
        "type": "debug",
        "z": "4c4e755b.4ac2bc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 287.14283752441406,
        "y": 125.71428680419922,
        "wires": []
    },
    {
        "id": "bd38d99.d023d28",
        "type": "comment",
        "z": "ac407144.c6bff",
        "name": "Laundry LIFX",
        "info": "",
        "x": 190,
        "y": 120,
        "wires": []
    },
    {
        "id": "e85ced8e.6e353",
        "type": "comment",
        "z": "ac407144.c6bff",
        "name": "Hallway LIFX",
        "info": "",
        "x": 110,
        "y": 960,
        "wires": []
    },
    {
        "id": "ff3f8439.61ec18",
        "type": "influxdb out",
        "z": "4c4e755b.4ac2bc",
        "influxdb": "9e10ac93.ec836",
        "name": "",
        "measurement": "doorbell",
        "precision": "s",
        "retentionPolicy": "",
        "x": 1000,
        "y": 160,
        "wires": []
    },
    {
        "id": "1bb1a1c9.5924be",
        "type": "twilio out",
        "z": "4c4e755b.4ac2bc",
        "d": true,
        "twilio": "80ea4be0.6d17f8",
        "twilioType": "sms",
        "url": "",
        "number": "61412085243",
        "name": "SMS",
        "x": 1650,
        "y": 460,
        "wires": []
    },
    {
        "id": "78f1ba9.7682344",
        "type": "twilio out",
        "z": "4e68cfeb.fa3a4",
        "twilio": "5b53ed2b.0fda54",
        "twilioType": "sms",
        "url": "",
        "number": "61412085243",
        "name": "SMS",
        "x": 790,
        "y": 1860,
        "wires": []
    },
    {
        "id": "c4270108.5f091",
        "type": "discordMessage",
        "z": "9d220062.73fe3",
        "name": "",
        "token": "dd609cc1.8823",
        "x": 279,
        "y": 344,
        "wires": [
            [
                "9f7c17ae.61d428",
                "c508ea62.a5c988",
                "f77fcdbf.36e5"
            ]
        ]
    },
    {
        "id": "6b41eef1.6192f",
        "type": "discordSendMessage",
        "z": "9d220062.73fe3",
        "name": "general",
        "channel": "",
        "token": "dd609cc1.8823",
        "x": 961,
        "y": 343,
        "wires": []
    },
    {
        "id": "84b62c56.7a497",
        "type": "discordSendMessage",
        "z": "9d220062.73fe3",
        "name": "general",
        "channel": "",
        "token": "dd609cc1.8823",
        "x": 940,
        "y": 160,
        "wires": []
    },
    {
        "id": "e20d26cd.1ae138",
        "type": "mqtt in",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "topic": "stat/tasmota__WeMosD1/#",
        "qos": "2",
        "datatype": "json",
        "broker": "9622b515.1f1858",
        "x": 150,
        "y": 2680,
        "wires": [
            [
                "97e0a44c.ce4f58"
            ]
        ]
    },
    {
        "id": "97e0a44c.ce4f58",
        "type": "debug",
        "z": "4e68cfeb.fa3a4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 390,
        "y": 2680,
        "wires": []
    }
]